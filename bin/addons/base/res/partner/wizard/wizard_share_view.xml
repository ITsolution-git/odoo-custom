<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>       

     	<record id="share_step0_form" model="ir.ui.view">
            <field name="name">share.step0.form</field>
            <field name="model">share.create</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
			<form string="Share">
              <separator colspan="4" string="Step 1: Chose the action and the additional domain"/>    			  
			  <field name="action_id"/>
              <field name="domain"/>
			  <separator colspan="4"/>
			   <group col="2" colspan="4">
            		<button special="cancel"  string="Cancel" icon='gtk-cancel'/>
					<button name="do_step_1" string="Next" colspan="1" type="object" icon="gtk-go-forward"/>
				</group>
			</form>
            </field>
        </record>

        <record id="share_step1_form" model="ir.ui.view">
            <field name="name">share.step1.form</field>
            <field name="model">share.create</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
			<form string="Share">              
			  <separator colspan="4" string="Step 2: Chose the User type"/>              
			  <field name="user_type"/>
              <newline/>
              <group colspan="4" attrs="{'invisible':[('user_type','!=','existing')]}">
                  <separator colspan="4" string="Exising Users"/>
                  <field colspan="4" nolabel="1" name="user_ids"  domain="[('share_user','=',True)]"/>
              </group>
              <group colspan="4" attrs="{'invisible':[('user_type','!=','new')]}">
                <separator colspan="4" string="New Users"/>
                <field colspan="4" nolabel="1" name="new_user"/>
              </group>
			  <separator colspan="4"/>
			   <group col="3" colspan="4">
            		<button special="cancel"  string="Cancel" icon='gtk-cancel'/>
                    <button name="do_step_1" string="Previous" colspan="1" type="object" icon="gtk-go-back"/>
					<button name="do_step_2" string="Next" colspan="1" type="object" icon="gtk-go-forward"/>
				</group>
			</form>
            </field>
        </record>

        <record id="share_step2_form" model="ir.ui.view">
            <field name="name">share.step2.form</field>
            <field name="model">share.create</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
			<form string="Share">              
			  <separator colspan="4" string="Step 3: Chose Access Mode"/>
              <group colspan="4" attrs="{'invisible':[('read_access','!=',True)]}">              
    			  <field name="access_mode" attrs="{'readonly':[('write_access','!=',True)]}"/>              
              </group>              
			  <separator colspan="4"/>
			   <group col="3" colspan="4">
            		<button special="cancel"  string="Cancel" icon='gtk-cancel'/>
                    <button name="do_step_2" string="Previous" colspan="1" type="object" icon="gtk-go-back"/>
					<button name="do_step_3" string="Next" colspan="1" type="object" icon="gtk-go-forward"/>
				</group>
			</form>
            </field>
        </record>

         

        <act_window name="Sharing Wizard"		    
		    res_model="share.create"
		    src_model="res.partner"
		    view_mode="form"
		    target="new"    
            view_id="ref('share_step1_form')"
            key2="client_action_multi"    
		    id="share_step1_act"/> 

        

        

        

                 

	</data>
</openerp>
