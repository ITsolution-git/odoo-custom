<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!--
            Fiscal Year
        -->

        <record id="view_account_fiscalyear_form" model="ir.ui.view">
            <field name="name">account.fiscalyear.form</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Fiscalyear">
                    <group>
                    <field name="name"/>
                    <field name="code"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="end_journal_period_id" groups="base.group_extended"/>
                    </group>
                    <separator colspan="4" string="Periods"/>
                    <field colspan="4" name="period_ids" nolabel="1" widget="one2many_list">
                        <form string="Period">
                            <field name="name"/>
                            <field name="code"/>
                            <field name="date_start"/>
                            <field name="date_stop"/>
                            <field name="special"/>
                        </form>
                    </field>
                    <separator colspan="4" string="States"/>
                    <group>
                        <field name="state" select="1" readonly="1"/>
                        <button name="create_period" states="draft" string="Create Monthly Periods" type="object" icon="terp-document-new"/>
                        <button name="create_period3" states="draft" string="Create 3 Months Periods" type="object" icon="terp-document-new"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_account_fiscalyear_tree" model="ir.ui.view">
            <field name="name">account.fiscalyear.tree</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'done' " string="Fiscalyear">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_account_fiscalyear_search" model="ir.ui.view">
            <field name="name">account.fiscalyear.search</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Fiscalyear">
                    <group>
                        <filter string="Open" domain="[('state','=','draft')]" icon="terp-camera_test"/>
                        <filter string="Closed" domain="[('state','=','done')]" icon="terp-dialog-close"/>
                        <separator orientation="vertical"/>
                        <field name="code"/>
                        <field name="name"/>
                        <field name="state"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="State" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="action_account_fiscalyear_form" model="ir.actions.act_window">
            <field name="name">Fiscal Years</field>
            <field name="res_model">account.fiscalyear</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help">Define your company's financial year according to your needs. A financial year is a period at the end of which a company's accounts are made up (usually 12 months). The financial year is usually referred to by the date in which it ends. For example, if a company's financial year ends November 30, 2011, then everything between December 1, 2010 and November 30, 2011  would be referred to as FY 2011. You are not obliged to follow the actual calendar year.</field>
        </record>
        <menuitem id="next_id_23" name="Periods" parent="account.menu_finance_accounting" sequence="8" />
        <menuitem action="action_account_fiscalyear_form" id="menu_action_account_fiscalyear_form" parent="next_id_23"/>

        <!--
            Period
        -->

        <record id="view_account_period_form" model="ir.ui.view">
            <field name="name">account.period.form</field>
            <field name="model">account.period</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Period">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                    <field name="fiscalyear_id" widget="selection"/>
                    <field name="special"/>
                    <separator colspan="4" string="States"/>
                    <field name="state"/>
                    <button name="action_draft" states="done" string="Set to Draft" type="object" icon="gtk-convert" groups="account.group_account_manager"/>
                </form>
            </field>
        </record>
        <record id="view_account_period_tree" model="ir.ui.view">
            <field name="name">account.period.tree</field>
            <field name="model">account.period</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
              <tree colors="blue:state == 'draft';gray:state == 'done' " string="Period">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="special"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="state"/>
                    <button name="action_draft" states="done" string="Set to Draft" type="object" icon="terp-document-new" groups="account.group_account_manager"/>
                    <button name="%(action_account_period_close)d" states="draft" string="Close Period" type="action" icon="terp-camera_test"/>
                </tree>
            </field>
        </record>

        <record id="view_account_period_search" model="ir.ui.view">
            <field name="name">account.period.search</field>
            <field name="model">account.period</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Period">
                    <group>
                        <filter string="To Close" name="draft" domain="[('state','=','draft')]" icon="terp-dialog-close"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="code"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_account_period_form" model="ir.actions.act_window">
            <field name="name">Periods</field>
            <field name="res_model">account.period</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_draft': 1}</field>
            <field name="help">Here you can define a financial period, an interval of time in your company's financial year. An accounting period typically is a month or a quarter. It usually corresponds to the periods of the tax declaration. Create and manage periods from here and decide whether a period should be closed or left open depending on your company's activities over a specific period.</field>
        </record>
        <menuitem action="action_account_period_form" id="menu_action_account_period_form" parent="account.next_id_23"/>


        <!--
            Accounts
        -->
        <record id="view_account_form" model="ir.ui.view">
            <field name="name">account.account.form</field>
            <field name="model">account.account</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="code" select="1"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <newline/>
                        <field name="parent_id"/>
                        <field name="type" select="1"/>
                        <field name="user_type" select="1"/>
                        <field name="active" groups="base.group_extended" />
                        <newline/>
                        <field name="debit" invisible="context.get('config_invisible', True)" attrs="{'readonly':[('type','=','view')]}"/>
                        <field name="credit" invisible="context.get('config_invisible', True)" attrs="{'readonly':[('type','=','view')]}"/>
                        <field name="balance" invisible="context.get('config_invisible', True)"/>
                    </group>
                    <notebook colspan="4">
                        <page string="General Information">
                            <newline/>
                            <group col="2" colspan="2">
                                <separator string="Currency" colspan="2"/>
                                <field name="currency_id"/>
                                <field name="currency_mode" attrs="{'readonly': [('currency_id','=',False)]}"/>
                            </group>
                            <group col="2" colspan="2">
                                <separator string="Reconcile" colspan="2"/>
                                <field name="reconcile"/>
                            </group>
                            <separator string="Default Taxes" colspan="4"/>
                            <field colspan="4" name="tax_ids" nolabel="1" domain="[('parent_id','=',False)]"/>
                            <separator string="Consolidated Children" colspan="4"/>
                            <field name="child_consol_ids" colspan="4" nolabel="1" attrs="{'readonly':[('type','!=','consolidation')]}"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_search" model="ir.ui.view">
            <field name="name">account.account.search</field>
            <field name="model">account.account</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Accounts">
                    <group>
                        <filter icon="terp-sale" string="Receivable Accounts" domain="[('type','=','receivable')]"/>
                        <filter icon="terp-purchase" string="Payable Accounts" domain="[('type','=','payable')]"/>
                        <separator orientation="vertical"/>
                        <field name="code"/>
                        <field name="name"/>
                        <field name="user_type"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Parent Account" icon="terp-folder-orange" domain="" context="{'group_by':'parent_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Account Type" icon="terp-stock_symbol-selection" domain="" context="{'group_by':'user_type'}"/>
                        <filter string="Internal Type" icon="terp-stock_symbol-selection" domain="" context="{'group_by':'type'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_account_list" model="ir.ui.view">
            <field name="name">account.account.list</field>
            <field name="model">account.account</field>
            <field name="type">tree</field>
            <field name="field_parent">child_id</field>
            <field name="arch" type="xml">
                <tree colors="blue:type == 'view';black:type in ('other','receivable','payable','consolidation');gray:type == 'closed'" string="Chart of accounts" toolbar="1" >
                    <field name="code"/>
                    <field name="name"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="user_type" invisible="1"/>
                    <field name="debit"/>
                    <field name="credit"/>
                    <field name="balance"/>
                    <field name="type"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="company_currency_id"/>
                </tree>
            </field>
        </record>
        <record id="view_treasory_graph" model="ir.ui.view">
           <field name="name">account.treasury.graph</field>
           <field name="model">account.account</field>
           <field name="type">graph</field>
           <field name="arch" type="xml">
               <graph string="Treasury Analysis" type="bar">
                  <field name="name"/>
                  <field name="balance" operator="+"/>
               </graph>
         </field>
      </record>
        <record id="action_account_form" model="ir.actions.act_window">
            <field name="name">Accounts</field>
            <field name="res_model">account.account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="search_view_id" ref="view_account_search"/>
            <field name="view_id" ref="view_account_list"/>
            <field name="help">Create and manage the accounts you need to record journal entries. An account is part of a ledger allowing your company to register all kinds of debit and credit transactions. Companies present their annual accounts in two main parts: the balance sheet and the income statement (profit and loss account). The annual accounts of a company are required by law to disclose a certain amount of information. They have to be certified by an external auditor annually.</field>
        </record>
        <menuitem id="account_account_menu" name="Accounts" parent="menu_finance_accounting"/>
        <menuitem action="action_account_form" id="menu_action_account_form" parent="account_account_menu"/>

        <record id="view_account_tree" model="ir.ui.view">
            <field name="name">account.account.tree</field>
            <field name="model">account.account</field>
            <field name="type">tree</field>
            <field name="field_parent">child_id</field>
            <field name="arch" type="xml">
                <tree colors="blue:type == 'view';black:type in ('other','receivable','payable','consolidation');gray:type == 'closed'" string="Chart of accounts" toolbar="1" >
                    <field name="code"/>
                    <field name="name"/>
                    <field name="debit"/>
                    <field name="credit"/>
                    <field name="balance"/>
                    <field name="company_currency_id"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="type"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="action_account_tree" model="ir.actions.act_window">
            <field name="name">Chart of Accounts</field>
            <field name="res_model">account.account</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_account_tree"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>

         <record id="view_account_gain_loss_tree" model="ir.ui.view">
           <field name="name">Unrealized Gain or Loss</field>
            <field name="model">account.account</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Unrealized Gains and losses">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="user_type" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="currency_id"/>
                    <field name="exchange_rate"/>
                    <field name="foreign_balance"/>
                    <field name="adjusted_balance"/>
                    <field name="balance"/>
                    <field name="unrealized_gain_loss"/>
                </tree>
            </field>
        </record>

          <record id="action_account_gain_loss" model="ir.actions.act_window">
            <field name="name">Unrealized Gain or Loss</field>
            <field name="res_model">account.account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_account_gain_loss_tree"/>
            <field name="domain">[('currency_id','!=',False)]</field>
            <field name="help">When doing multi-currency transactions, you may loose or gain some amount due to changes of exchange rate. This menu gives you a forecast of the Gain or Loss you'd realized if those transactions were ended today. Only for accounts having a secondary currency set.</field>
        </record>

        <menuitem
            name="Unrealized Gain or Loss"
            action="action_account_gain_loss"
            groups="account.group_account_user"
            id="menu_unrealized_gains_losses"
            parent="account.menu_multi_currency"/>

        <!--
        Journal

        Account Journal Columns
        -->

        <record id="view_journal_column_form" model="ir.ui.view">
            <field name="name">account.journal.column.form</field>
            <field name="model">account.journal.column</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Column">
                    <field colspan="4" name="name" select="1"/>
                    <field name="field" select="1"/>
                    <field name="sequence"/>
                </form>
            </field>
        </record>
        <record id="view_journal_column_tree" model="ir.ui.view">
            <field name="name">account.journal.column.tree</field>
            <field name="model">account.journal.column</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journal Column">
                    <field name="sequence"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="view_account_journal_view_search" model="ir.ui.view">
            <field name="name">account.journal.view.search</field>
            <field name="model">account.journal.view</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Journal View">
                    <field name="name"/>
                </search>
            </field>
        </record>
        <record id="view_account_journal_view_tree" model="ir.ui.view">
            <field name="name">account.journal.view.tree</field>
            <field name="model">account.journal.view</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journal View">
                    <field name="name"/>
                </tree>
            </field>
        </record>
        <record id="view_account_journal_view_form" model="ir.ui.view">
            <field name="name">account.journal.view.form</field>
            <field name="model">account.journal.view</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal View">
                    <field name="name"/>
                    <field colspan="4" name="columns_id" nolabel="1" widget="one2many_list"/>
                </form>
            </field>
        </record>
        <record id="action_account_journal_view" model="ir.actions.act_window">
            <field name="name">Journal Views</field>
            <field name="res_model">account.journal.view</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_journal_view_search"/>
            <field name="help">Here you can customize an existing journal view or create a new view. Journal views determine the way you can record entries in your journal. Select the fields you want to appear in a journal and determine the sequence in which they will appear. Then you can create a new journal and link your view to it.</field>
        </record>

        <menuitem action="action_account_journal_view" id="menu_action_account_journal_view" parent="account.menu_journals" sequence="20"  groups="base.group_extended"/>

        <!--
    # Account Journal
    -->

        <record id="view_account_journal_tree" model="ir.ui.view">
            <field name="name">account.journal.tree</field>
            <field name="model">account.journal</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Journal">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="type"/>
                    <field name="user_id"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="view_account_journal_search" model="ir.ui.view">
            <field name="name">account.journal.search</field>
            <field name="model">account.journal</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Account Journal">
                    <group>
                    <filter domain="['|', ('type', '=', 'sale'), ('type', '=', 'sale_refund')]" string="Sale" icon="terp-camera_test"/>
                    <filter domain="['|', ('type', '=', 'purchase'), ('type', '=', 'purchase_refund')]" string="Purchase" icon="terp-purchase"/>
                   <filter domain="['|', ('type', '=', 'cash'), ('type', '=', 'bank')]" string="Liquidity" icon="terp-dolar"/>
                    <filter domain="['|', ('type', '=', 'general'), ('type', '=', 'situation')]" string="Others" icon="terp-stock"/>
                    <separator orientation="vertical"/>
                    <field name="code"/>
                    <field name="name"/>
                    <field name="user_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    <filter string="User" context="{'group_by':'user_id'}" icon="terp-personal"/>
                    <separator orientation="vertical"/>
                    <filter string="Type" context="{'group_by':'type'}" icon="terp-stock_symbol-selection"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_account_journal_form" model="ir.ui.view">
            <field name="name">account.journal.form</field>
            <field name="model">account.journal</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Journal">
                    <group colspan="4" col="6">
                        <field name="name" select="1"/>
                        <field name="code" select="1"/>
                        <field name="type" on_change="onchange_type(type, currency, context)"/>
                    </group>
                    <notebook colspan="4">
                        <page string="General Information">
                            <group col="2" colspan="2">
                                <group colspan="2" col="2">
                                    <separator string="Accounts" colspan="4"/>
                                    <field name="default_debit_account_id" attrs="{'required':[('type','in', ('cash', 'bank'))]}" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                    <field name="default_credit_account_id" attrs="{'required':[('type','in',('cash', 'bank'))]}" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                </group>
                                <group colspan="2" col="2">
                                    <separator string="Journal View" colspan="4"/>
                                    <field name="view_id" widget="selection"/>
                                </group>
                            </group>

                            <group colspan="2" col="2">
                                <separator string="Company" colspan="4"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                                <field name="user_id" groups="base.group_extended"/>
                                <field name="currency" groups="base.group_extended"/>
                            </group>
                            <group colspan="2" col="2" groups="base.group_extended">
                                <separator string="Validations" colspan="4"/>
                                <field name="allow_date"/>
                            </group>
                            <group colspan="2" col="2">
                                <separator string="Other Configuration" colspan="4"/>
                                <field name="centralisation" groups="base.group_extended"/>
                                <field name="entry_posted"/>
                            </group>
                            <group colspan="2" col="2">
                                <separator string="Invoicing Data" colspan="4"/>
<!--                                <field name="invoice_sequence_id"/>-->
                                <field name="group_invoice_lines"/>
                            </group>
                            <group colspan="2" col="2"> <!-- can't set the field as hidden for certain groups as it's required in the object and not in the view, and GTK doesn't handle that correctly -->
                                <separator string="Sequence" colspan="4"/>
                                <field name="sequence_id" required="0"/>
                            </group>
                        </page>
                        <page string="Entry Controls" groups="base.group_extended">
                            <separator colspan="4" string="Accounts Type Allowed (empty for no control)"/>
                            <field colspan="4" name="type_control_ids" nolabel="1"/>
                            <separator colspan="4" string="Accounts Allowed (empty for no control)"/>
                            <field colspan="4" name="account_control_ids" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <record id="action_account_journal_form" model="ir.actions.act_window">
            <field name="name">Journals</field>
            <field name="res_model">account.journal</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help">Create and manage your company's journals from this menu. A journal is used to record transactions of all accounting data related to the day-to-day business of your company using double-entry bookkeeping system. Depending on the nature of its activities and the number of daily transactions, a company may keep several types of specialized journals such as a cash journal, purchase journal, sales journal...</field>
        </record>
        <menuitem action="action_account_journal_form" id="menu_action_account_journal_form" parent="menu_journals"/>

        <record id="view_account_bank_statement_filter" model="ir.ui.view">
            <field name="name">account.cash.statement.select</field>
            <field name="model">account.bank.statement</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Bank Statements">
                    <group>
                        <filter string="Draft" name="state_draft" domain="[('state','=','draft')]" icon="terp-document-new"/>
                        <filter string="Open" name="state_open" domain="[('state','=','open')]" icon="terp-check"/>
                        <filter string="Confirmed" name="state_confirmed" domain="[('state','=','confirm')]" icon="terp-camera_test"/>
                        <separator orientation="vertical"/>
                        <field name="date"/>
                        <field name="name"/>
                        <field name="journal_id" widget='selection' domain="[('type', '=', 'cash')]" />
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Journal" context="{'group_by': 'journal_id'}" icon="terp-folder-orange"/>
                        <filter string="State" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                        <separator orientation="vertical"/>
                        <filter string="Period" context="{'group_by': 'period_id'}" icon="terp-go-month"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_bank_statement_tree" model="ir.ui.view">
            <field name="name">account.bank.statement.tree</field>
            <field name="model">account.bank.statement</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="red:balance_end_real!=balance_end and state=='draft';blue:state=='draft' and (balance_end_real==balance_end);black:state=='confirm'" string="Statement">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="balance_start"/>
                    <field name="balance_end_real"/>
                    <field name="balance_end" invisible="1"/>
                    <field name="state"/>
                    <button type="object" string="Cancel" name="button_cancel" states="confirm" icon="gtk-cancel"/>
                    <button type="object" string="Confirm" name="button_confirm_bank" states="draft" icon="terp-camera_test"/>
                </tree>
            </field>
        </record>
        <record id="view_bank_statement_search" model="ir.ui.view">
            <field name="name">account.bank.statement.search</field>
            <field name="model">account.bank.statement</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Bank Statements">
                    <group>
                        <filter string="Draft" domain="[('state','=','draft')]" icon="terp-document-new"/>
                        <filter string="Confirmed" domain="[('state','=','confirm')]" icon="terp-camera_test"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="date"/>
                        <field name="period_id"/>
                        <field name="journal_id" widget="selection" domain="[('type', '=', 'bank')]" />
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Journal" context="{'group_by': 'journal_id'}" icon="terp-folder-orange"/>
                        <filter string="State" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                        <separator orientation="vertical"/>
                        <filter string="Period" context="{'group_by': 'period_id'}" icon="terp-go-month"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_bank_statement_form" model="ir.ui.view">
            <field name="name">account.bank.statement.form</field>
            <field name="model">account.bank.statement</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Bank Statement">
                    <group col="7" colspan="4">
                        <field name="name" select="1"/>
                        <field name="date" select="1" on_change="onchange_date(date, company_id)"/>
                        <field name="journal_id" domain="[('type', '=', 'bank')]" on_change="onchange_journal_id(journal_id)" select="1" widget="selection"/>
                        <newline/>
                        <field name="period_id"/>
                        <field name="balance_start"/>
                        <field name="balance_end_real"/>
                        <field name="currency" invisible="1"/>
                        <field name='company_id' widget="selection" groups="base.group_multi_company" />
                    </group>
                    <notebook colspan="4">
                        <page string="Transaction" name="statement_line_ids">
                            <field colspan="4" name="line_ids" nolabel="1" context="{'date':date}">
                                <tree editable="bottom" string="Statement lines">
                                    <field name="sequence" readonly="1" invisible="1"/>
                                    <field name="date" groups="base.group_extended"/>
                                    <field name="name"/>
                                    <field name="ref"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id)"/>
                                    <field name="type" on_change="onchange_type(partner_id, type)"/>
                                    <field domain="[('journal_id','=',parent.journal_id), ('company_id', '=', parent.company_id)]" name="account_id"/>
                                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id), ('type', '&lt;&gt;', 'view')]"/>
                                    <field name="amount"/>
                                </tree>
                                <form string="Statement lines">
                                    <field name="date"/>
                                    <field name="name"/>
                                    <field name="ref"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id)"/>
                                    <field name="type" on_change="onchange_type(partner_id, type)"/>
                                    <field domain="[('journal_id', '=', parent.journal_id), ('type', '&lt;&gt;', 'view'), ('company_id', '=', parent.company_id)]" name="account_id"/>
                                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id), ('type', '&lt;&gt;', 'view')]"/>
                                    <field name="amount"/>
                                    <field name="sequence" readonly="0"/>
                                    <separator colspan="4" string="Notes"/>
                                    <field colspan="4" name="note" nolabel="1"/>
                                </form>
                            </field>
                        </page>
                        <page string="Journal Entries" name="move_live_ids">
                            <field colspan="4" name="move_line_ids" nolabel="1"/>
                        </page>
                    </notebook>
                    <group col="8" colspan="4">
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm"/>
                        <field name="balance_end"/>
                        <button name="button_cancel" states="confirm" string="Cancel" type="object" icon="gtk-cancel"/>
                        <button name="button_dummy" states="draft" string="Compute" type="object" icon="terp-stock_format-scientific"/>
                        <button name="button_confirm_bank" states="draft" string="Confirm" type="object"  icon="terp-camera_test"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_bank_statement_periodic_form" model="ir.ui.view">
            <field name="name">account.bank.statement.reconcile.form</field>
            <field name="model">account.bank.statement</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Bank Statement">
                    <group col="7" colspan="4">
                        <field name="name" select="1"/>
                        <field name="date" select="1" on_change="onchange_date(date, company_id)"/>
                        <field name='company_id' widget="selection" groups="base.group_multi_company" />
                        <field name="journal_id" domain="[('type', '=', 'bank')]" on_change="onchange_journal_id(journal_id)" widget="selection"/>
                        <newline/>
                        <field name="period_id"/>
                        <field name="balance_start"/>
                        <field name="balance_end_real"/>
                        <field name="currency" invisible="1"/>
                        <field name="account_id" invisible="1"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Journal Entries">
                            <field colspan="4" name="move_line_ids" nolabel="1" widget="many2many" domain="[('account_id','=',account_id),('statement_id', '=', False)]">
                                <tree string="Statement lines">
                                    <field name="date"/>
                                    <field name="period_id"/>
                                    <field name="journal_id"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="account_id"/>
                                    <field name="partner_id"/>
                                    <field name="debit"/>
                                    <field name="credit"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <group col="8" colspan="4">
                        <field name="state"/>
                        <field name="balance_end"/>
                        <button name="button_cancel" states="confirm" string="Cancel" type="object" icon="gtk-cancel"/>
                        <button name="button_dummy" states="draft" string="Compute" type="object" icon="terp-stock_format-scientific"/>
                        <button name="button_confirm_bank" states="draft" string="Confirm" type="object"  icon="terp-camera_test"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="action_bank_statement_tree" model="ir.actions.act_window">
            <field name="name">Bank Statements</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
            <field name="context">{'journal_type':'bank'}</field>
            <field name="search_view_id" ref="view_bank_statement_search"/>
            <field name="help">A bank statement is a summary of all financial transactions occurring over a given period of time on a deposit account, a credit card or any other type of financial account. The starting balance will be proposed automatically and the closing balance is to be found on your statement. When you are in the Payment column of a line, you can press F1 to open the reconciliation form.</field>
        </record>
        <record model="ir.actions.act_window.view" id="action_bank_statement_tree_bank">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_bank_statement_tree"/>
            <field name="act_window_id" ref="action_bank_statement_tree"/>
        </record>
        <record model="ir.actions.act_window.view" id="action_bank_statement_form_bank">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_bank_statement_form"/>
            <field name="act_window_id" ref="action_bank_statement_tree"/>
        </record>

    <record id="action_bank_statement_periodic_tree" model="ir.actions.act_window">
            <field name="name">Bank Statements</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
            <field name="search_view_id" ref="view_bank_statement_search"/>
            <field name="context">{'journal_type':'bank'}</field>
        </record>
        <record model="ir.actions.act_window.view" id="action_bank_statement_periodic_tree_bank">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_bank_statement_tree"/>
            <field name="act_window_id" ref="action_bank_statement_periodic_tree"/>
        </record>
        <record model="ir.actions.act_window.view" id="action_bank_statement_periodic_form_bank">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_bank_statement_periodic_form"/>
            <field name="act_window_id" ref="action_bank_statement_periodic_tree"/>
        </record>

        <menuitem string="Bank Statements" action="action_bank_statement_tree" id="menu_bank_statement_tree" parent="menu_finance_bank_and_cash" sequence="7"/>
        <menuitem name="Statements Reconciliation" action="action_bank_statement_periodic_tree" id="menu_menu_Bank_process" parent="account.menu_account_pp_statements" sequence="7"/>


        <record id="action_bank_statement_draft_tree" model="ir.actions.act_window">
            <field name="name">Draft statements</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','draft')]</field>
            <field name="filter" eval="True"/>
        </record>

        <!--
    Account Types
    -->
        <record id="view_account_type_search" model="ir.ui.view">
            <field name="name">account.account.type.search</field>
            <field name="model">account.account.type</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Account Type">
                    <field name="name"/>
                    <field name="code"/>
                </search>
            </field>
        </record>

        <record id="view_account_type_tree" model="ir.ui.view">
            <field name="name">account.account.type.tree</field>
            <field name="model">account.account.type</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Type">
                    <field name="name"/>
                    <field name="code"/>
                </tree>
            </field>
        </record>

        <record id="view_account_type_form" model="ir.ui.view">
            <field name="name">account.account.type.form</field>
            <field name="model">account.account.type</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Type">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="code" select="1"/>
                    </group>
                    <group col="2" colspan="2">
                        <separator string="Reporting Configuration" colspan="4"/>
                        <field name="report_type" select="2"/>
                    </group>
                    <group col="2" colspan="2">
                        <separator string="Closing Method" colspan="4"/>
                        <field name="close_method"/>
                    </group>
                    <separator string="Description" colspan="4"/>
                    <field name="note" colspan="4" nolabel="1"/>
                </form>
            </field>
        </record>
        <record id="action_account_type_form" model="ir.actions.act_window">
            <field name="name">Account Types</field>
            <field name="res_model">account.account.type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_type_search"/>
            <field name="help">An account type is used to determine how an account is used in each journal. The deferral method of an account type determines the process for the annual closing. Reports such as the Balance Sheet and the Profit and Loss report use the category (profit/loss or balance sheet). For example, the account type could be linked to an asset account, expense account or payable account. From this view, you can create and manage the account types you need for your company.</field>
        </record>
        <menuitem action="action_account_type_form" sequence="20" id="menu_action_account_type_form" parent="account_account_menu" groups="base.group_extended"/>
        <!--
    Entries
    -->
        <record id="view_account_move_tree" model="ir.ui.view">
            <field name="name">account.move.tree</field>
            <field name="model">account.move</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';black:state == 'posted'" string="Journal Entries">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="partner_id"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <!--
    Reconcile
    -->

        <record id="view_move_reconcile_form" model="ir.ui.view">
            <field name="name">account.move.reconcile.form</field>
            <field name="model">account.move.reconcile</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Entry Reconcile">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="create_date" select="1"/>
                        <field name="type" select="1"/>
                    </group>
                    <separator colspan="4" string="Reconcile Entries"/>
                    <field colspan="4" name="line_id" nolabel="1"/>
                    <separator colspan="4" string="Partial Reconcile Entries"/>
                    <field colspan="4" name="line_partial_ids" nolabel="1"/>
                </form>
            </field>
        </record>

        <!--
    Tax Codes
    -->
        <record id="view_tax_code_search" model="ir.ui.view">
            <field name="name">account.tax.code.search</field>
            <field name="model">account.tax.code</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Account Tax Code">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="parent_id"/>
                    <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                </search>
            </field>
        </record>
        <record id="view_tax_code_tree" model="ir.ui.view">
            <field name="name">account.tax.code.tree</field>
            <field name="model">account.tax.code</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="priority">100</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Code" toolbar="1">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="sum_period"/>
                    <field name="sum"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="view_tax_code_form" model="ir.ui.view">
            <field name="name">account.tax.code.form</field>
            <field name="model">account.tax.code</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Code">
                    <group col="6" colspan="4">
                        <field name="name"/>
                        <field name="code"/>
                        <field name="parent_id"/>
                        <field name="company_id" groups="base.group_multi_company"/>
                    </group>
                    <group colspan="2" col="2">
                        <separator string="Reporting Configuration" colspan="4"/>
                        <field name="notprintable"/>
                        <field name="sign"/>
                    </group>
                    <group colspan="2" col="2">
                        <separator string="Statistics" colspan="4"/>
                        <field name="sum_period"/>
                        <field name="sum"/>
                    </group>
                    <separator string="Description" colspan="4"/>
                    <field colspan="4" name="info" nolabel="1"/>
                </form>
            </field>
        </record>
        <record id="action_tax_code_list" model="ir.actions.act_window">
            <field name="name">Tax codes</field>
            <field name="res_model">account.tax.code</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tax_code_tree"/>
            <field name="search_view_id" ref="view_tax_code_search"/>
            <field name="help">The tax code definition depends on the tax declaration of your country. OpenERP allows you to define the tax structure and manage it from this menu. You can define both numeric and alphanumeric tax codes.</field>
        </record>
       <menuitem id="next_id_27" name="Taxes" parent="account.menu_finance_accounting"/>
       <menuitem action="action_tax_code_list" id="menu_action_tax_code_list" parent="next_id_27" sequence="12"/>


        <!--
    Tax
    -->
        <record id="view_tax_tree" model="ir.ui.view">
            <field name="name">account.tax.tree</field>
            <field name="model">account.tax</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Account Tax">
                    <field name="name"/>
                    <field name="price_include" groups="base.group_extended"/>
                    <field name="description"/>
                    <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="view_account_tax_search" model="ir.ui.view">
            <field name="name">account.tax.search</field>
            <field name="model">account.tax</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Taxes">
                    <group>
                        <field name="name"/>
                        <field name="description"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_tax_form" model="ir.ui.view">
            <field name="name">account.tax.form</field>
            <field name="model">account.tax</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax">
                    <group colspan="4" col="6">
                        <field name="name"/>
                        <field name="description"/>
                        <field name="type_tax_use"/>
                        <field name="price_include"/>
                        <field name="active"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Tax Definition" >
                          <group colspan="4" col="4">
                                  <field name="type"/>
                                  <field name="amount" attrs="{'readonly':[('type','in',('none', 'code', 'balance'))]}"/>
                                  <separator colspan="4" string="Accounting Information"/>
                                  <field name="account_collected_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                  <label colspan="2" nolabel="1" string="Keep empty to use the income account"/>
                                  <field name="account_paid_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                  <label colspan="2" nolabel="1" string="Keep empty to use the expense account"/>
                                  <separator colspan="4" string="Tax Declaration: Invoices"/>
                                  <field name="base_code_id"/>
                                  <field name="base_sign"/>
                                  <field name="tax_code_id"/>
                                  <field name="tax_sign"/>
                                  <separator colspan="4" string="Tax Declaration: Credit Notes"/>
                                  <field name="ref_base_code_id"/>
                                  <field name="ref_base_sign"/>
                                  <field name="ref_tax_code_id"/>
                                  <field name="ref_tax_sign"/>
                                  <separator groups="base.group_extended" colspan="4" string="Children Definition"/>
                                  <field groups="base.group_extended" name="child_depend"/>
                                  <field groups="base.group_extended" name="sequence"/>
                                  <field groups="base.group_extended" name="include_base_amount"/>
                                  <field groups="base.group_extended" colspan="4" name="child_ids">
                                      <tree string="Account Tax">
                                          <field name="sequence"/>
                                          <field name="name"/>
                                          <field name="price_include" groups="base.group_extended"/>
                                          <field name="description"/>
                                     </tree>
                                 </field>
                          </group>
                        </page>
                        <page groups="base.group_extended" string="Special Computation">
                            <separator colspan="4" string="Applicability Options"/>
                            <field name="applicable_type"/>
                            <field name="domain"/>
                            <separator colspan="4" string="Applicable Code (if type=code)"/>
                            <field colspan="4" name="python_applicable" nolabel="1" attrs="{'readonly':[('applicable_type','=','true')], 'required':[('applicable_type','=','code')]}"/>
                            <separator colspan="2" string="Compute Code"/>
                            <separator colspan="2" string="Reverse Compute Code"/>
                            <field colspan="2" name="python_compute" nolabel="1" attrs="{'readonly':[('type','!=','code')],'required':[('type','=','code')]}"/>
                            <field colspan="2" name="python_compute_inv" nolabel="1" attrs="{'readonly':[('type','!=','code')],'required':[('type','=','code')]}"/>

                        </page>
                    </notebook>
                </form>
              </field>
        </record>
        <record id="action_tax_form" model="ir.actions.act_window">
            <field name="name">Taxes</field>
            <field name="res_model">account.tax</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_tax_tree"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>
        <menuitem action="action_tax_form" id="menu_action_tax_form" parent="next_id_27"/>

        <record id="action_tax_code_tree" model="ir.actions.act_window">
            <field name="name">Chart of Taxes</field>
            <field name="res_model">account.tax.code</field>
            <field name="domain">[('parent_id','=',False)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_tax_code_tree"/>
            <field name="help">The chart of taxes is used to generate your periodical tax statement. You will see the taxes with codes related to your legal statement according to your country.</field>
        </record>

        <!--
    Entries lines
    -->

        <record id="view_move_line_tree" model="ir.ui.view">
            <field name="name">account.move.line.tree</field>
            <field name="model">account.move.line</field>
            <field name="type">tree</field>
            <field eval="4" name="priority"/>
            <field name="arch" type="xml">
                <tree colors="red:state == 'draft';black:state == 'valid'" string="Journal Items" editable="top" on_write="on_create_write">
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="move_id"/>
                    <field name="ref"/>
                    <field name="invoice"/>
                    <field name="name"/>
                    <field name="partner_id" on_change="onchange_partner_id(move_id, partner_id, account_id, debit, credit, date, journal_id)"/>
                    <field name="account_id" domain="[('journal_id','=',journal_id), ('company_id', '=', company_id)]"/>
                    <field name="journal_id"/>
                    <field name="debit" sum="Total debit"/>
                    <field name="credit" sum="Total credit"/>
                    <field name="account_tax_id" groups="base.group_extended"/>
                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting" domain="[('parent_id','!=',False)]"/>
                    <field name="amount_currency" groups="base.group_extended" attrs="{'readonly':[('state','=','valid')]}"/>
                    <field name="currency_id" groups="base.group_extended" attrs="{'readonly':[('state','=','valid')]}"/>
                    <field name="reconcile_partial_id" groups="base.group_extended"/>
                    <field name="reconcile_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="view_move_line_form" model="ir.ui.view">
            <field name="name">account.move.line.form</field>
            <field name="model">account.move.line</field>
            <field name="type">form</field>
            <field eval="2" name="priority"/>
            <field name="arch" type="xml">
                <form string="Journal Item">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="ref"/>
                        <field name="partner_id" select="1" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,date)"/>

                        <field name="journal_id"/>
                        <field name="period_id"/>
                        <field name="company_id" required="1" groups="base.group_multi_company"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Information">
                            <group col="2" colspan="2">
                                <separator colspan="2" string="Amount"/>
                                <field name="account_id" select="1" domain="[('company_id', '=', company_id), ('type','&lt;&gt;','view'), ('type','&lt;&gt;','consolidation')]"/>
                                <field name="debit"/>
                                <field name="credit"/>
                                <field name="quantity"/>
                            </group>

                            <group col="2" colspan="2">
                                <separator colspan="2" string="Accounting Documents"/>
                                <field name="invoice" readonly="True"/>
                                <field name="move_id" required="False"/>
                                <field name="statement_id" readonly="True"/>
                            </group>

                            <group col="2" colspan="2">
                                <separator colspan="2" string="Dates"/>
                                <field name="date" select="1"/>
                                <field name="date_maturity"/>
                                <field name="date_created" readonly="True"/>
                            </group>

                            <group col="2" colspan="2">
                                <separator colspan="2" string="Taxes"/>
                                <field name="tax_code_id"/>
                                <field name="tax_amount"/>
                                <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                            </group>

                            <group col="2" colspan="2" attrs="{'readonly':[('state','=','valid')]}" >
                                <separator colspan="2" string="Currency"/>
                                <field name="currency_id"/>
                                <field name="amount_currency"/>
                            </group>

                            <group col="2" colspan="2">
                                <separator colspan="2" string="Reconciliation"/>
                                <field name="reconcile_id"/>
                                <field name="reconcile_partial_id"/>
                            </group>

                            <group col="2" colspan="2">
                                <separator colspan="2" string="States"/>
                                <field name="state"/>
                                <field name="blocked"/>
                            </group>

                            <group col="2" colspan="2"  groups="base.group_extended">
                                <separator colspan="2" string="Analytic"/>
                                <field name="analytic_account_id" domain="[('parent_id','!=',False)]" groups="analytic.group_analytic_accounting"/>
                            </group>
                            <separator string="Internal Note" colspan="4"/>
                            <field name="narration" colspan="4" nolabel="1"/>
                        </page>
                        <page string="Analytic Lines" groups="analytic.group_analytic_accounting">
                            <field colspan="4" name="analytic_lines" nolabel="1" context="{'default_general_account_id':account_id, 'default_name': name, 'default_date':date, 'amount': (debit or 0.0)-(credit or 0.0)}"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_move_line_form2" model="ir.ui.view">
            <field name="name">account.move.line.form2</field>
            <field name="model">account.move.line</field>
            <field name="type">form</field>
            <field eval="9" name="priority"/>
            <field name="arch" type="xml">
                <form string="Journal Item">
                    <notebook colspan="4">
                        <page string="Information">
                            <separator colspan="4" string="General Information"/>
                            <field name="name" select="1"/>
                            <field name="date"/>
                            <field name="journal_id" readonly="False" select="1"/>
                            <field name="period_id" readonly="False"/>
                            <field name="account_id" select="1" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation'),('company_id', '=', company_id)]"/>
                            <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,date)"/>
                            <newline/>
                            <field name="debit"/>
                            <field name="credit"/>

                            <separator colspan="4" string="Optional Information"/>
                            <field name="currency_id"/>
                            <field name="amount_currency"/>
                            <field name="quantity" select="3"/>
                            <field name="move_id" required="False"/>
                            <newline/>
                            <field name="date_maturity"/>
                            <field name="date_created"/>
                            <field name="date_created"/>
                            <field name="blocked" select="3"/>
                            <newline/>
                            <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                            <field name="analytic_account_id" domain="[('parent_id','!=',False)]" groups="analytic.group_analytic_accounting"/>
                            <separator colspan="4" string="State"/>
                            <newline/>
                            <field name="reconcile_id"/>
                            <field name="reconcile_partial_id"/>
                            <field name="state"/>
                        </page>
                        <page string="Analytic Lines" groups="analytic.group_analytic_accounting">
                            <field colspan="4" name="analytic_lines" nolabel="1" />
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="account_move_line_graph" model="ir.ui.view">
            <field name="name">account.move.line.graph</field>
            <field name="model">account.move.line</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Account Statistics" type="bar">
                    <field name="account_id"/>
                    <field name="debit" operator="+"/>
                    <field name="credit" operator="+"/>
                </graph>
            </field>
        </record>

        <record id="view_account_move_line_filter" model="ir.ui.view">
            <field name="name">Journal Items</field>
            <field name="model">account.move.line</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Journal Items">
                    <group>
                        <filter icon="terp-document-new" string="Unbalanced" domain="[('state','=','draft')]" help="Unbalanced Journal Items"/>
                        <separator orientation="vertical"/>
                        <filter icon="terp-document-new" string="Unposted" domain="[('move_id.state','=','draft')]" help="Unposted Journal Items"/>
                        <filter name="posted" icon="terp-camera_test" string="Posted" domain="[('move_id.state','=','posted')]" help="Posted Journal Items"/>
                        <separator orientation="vertical"/>
                        <filter
                            icon="terp-dolar_ok!"
                            string="Unreconciled"
                            domain="[('reconcile_id','=',False), ('account_id.reconcile','=',True)]" help="Unreconciled Journal Items"
                            name="unreconciled"/>
                        <separator orientation="vertical"/>
                        <field name="move_id" string="Number (Move)"/>
                        <field name="date"/>
                        <field name="account_id"/>
                        <field name="partner_id">
                            <filter help="Next Partner Entries to reconcile" name="next_partner" context="{'next_partner_only': 1}" icon="terp-gtk-jump-to-ltr" domain="[('account_id.reconcile','=',True),('reconcile_id','=',False)]"/>
                        </field>
                    </group>
                    <newline/>
                    <group>
                        <field name="journal_id" widget="selection" context="{'journal_id':self}"/>
                        <field name="period_id" context="{'period_id':self}"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Partner" icon="terp-partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="Account"  icon="terp-folder-green" context="{'group_by':'account_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Period" icon="terp-go-month" domain="[]" context="{'group_by':'period_id'}"/>
                    </group>
                    <newline/>
                </search>
            </field>
        </record>

        <record id="action_account_moves_all_a" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="help">This view can be used by accountants in order to quickly record entries in OpenERP. If you want to record a supplier invoice, start by recording the line of the expense account. OpenERP will propose to you automatically the Tax related to this account and the counterpart "Account Payable".</field>
        </record>

        <menuitem
            action="action_account_moves_all_a"
            icon="STOCK_JUSTIFY_FILL"
            id="menu_action_account_moves_all"
            parent="account.menu_finance_entries"
            sequence="1"
            groups="group_account_user"
        />

        <record id="action_view_move_line" model="ir.actions.act_window">
            <field name="name">Lines to reconcile</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('account_id.reconcile', '=', True),('reconcile_id','=',False)]</field>
            <field eval="False" name="view_id"/>
            <field eval="True" name="filter"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
        </record>

        <record id="action_move_line_select" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="context">{'search_default_account_id': [active_id]}</field>
        </record>

        <record id="ir_account_move_line_select" model="ir.values">
            <field name="key2">tree_but_open</field>
            <field name="model">account.account</field>
            <field name="name">Open Journal Items</field>
            <field eval="'ir.actions.act_window,%d'%action_move_line_select" name="value"/>
        </record>
        <!--
    Account.Entry Edition
    -->

        <record id="account_move_graph" model="ir.ui.view">
            <field name="name">account.move.graph</field>
            <field name="model">account.move</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Account Statistics" type="bar">
                    <field name="period_id"/>
                    <field name="amount" operator="+"/>
                </graph>
            </field>
         </record>
        <record id="view_move_tree" model="ir.ui.view">
            <field name="name">account.move.tree</field>
            <field name="model">account.move</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';black:state == 'posted'" string="Journal Entries">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="partner_id"/>
                    <field name="amount" sum="Total Amount"/>
                    <field name="to_check" groups="base.group_extended"/>
                    <field name="state"/>
                    <button name="button_validate" states="draft" string="Approve" type="object" icon="terp-camera_test"/>
                </tree>
            </field>
        </record>
        <record id="view_move_form" model="ir.ui.view">
            <field name="name">account.move.form</field>
            <field name="model">account.move</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Entries">
                    <group colspan="4" col="6">
                        <field name="name" readonly="True"/>
                        <field name="ref"/>
                        <field name="to_check" groups="base.group_extended"/>
                        <field name="journal_id"/>
                        <field name="period_id"/>
                        <field name="date"/>
                        <field name="company_id" required="1" groups="base.group_multi_company"/>
                        <field name="partner_id" invisible="1"/>
                        <field name="amount" invisible="1"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Journal Items">
                            <field name="balance" invisible="1"/>
                            <field colspan="4" name="line_id" nolabel="1" height="250" widget="one2many_list" 
                            on_change="onchange_line_id(line_id)"
                            context="{'balance': balance , 'journal': journal_id }">
                                <form string="Journal Item">
                                    <group col="6" colspan="4">
                                        <field name="name"/>
                                        <field name="ref"/>
                                        <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,date)"/>

                                        <field name="journal_id"/>
                                        <field name="period_id"/>
                                        <field name="company_id" required="1" groups="base.group_multi_company"/>
                                    </group>
                                    <notebook colspan="4">
                                        <page string="Information">
                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Amount"/>
                                                <field name="account_id" domain="[('company_id', '=', parent.company_id), ('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                                <field name="debit"/>
                                                <field name="credit"/>
                                                <field name="quantity"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Accounting Documents"/>
                                                <field name="invoice"/>
                                                <field name="move_id" required="False"/>
                                                <field name="statement_id"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Dates"/>
                                                <field name="date"/>
                                                <field name="date_maturity"/>
                                                <field name="date_created"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Taxes"/>
                                                <field name="tax_code_id"/>
                                                <field name="tax_amount"/>
                                                <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Currency"/>
                                                <field name="currency_id"/>
                                                <field name="amount_currency"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="Reconciliation"/>
                                                <field name="reconcile_id"/>
                                                <field name="reconcile_partial_id"/>
                                            </group>

                                            <group col="2" colspan="2">
                                                <separator colspan="2" string="States"/>
                                                <field name="state"/>
                                                <field name="blocked"/>
                                            </group>

                                            <group col="2" colspan="2" groups="base.group_extended">
                                                <separator colspan="2" string="Analytic"/>
                                                <field name="analytic_account_id" domain="[('parent_id','!=',False)]" groups="analytic.group_analytic_accounting"/>
                                            </group>
                                            <separator string="Internal Note" colspan="4"/>
                                            <field name="narration" colspan="4" nolabel="1"/>
                                        </page>
                                        <page string="Analytic Lines" groups="analytic.group_analytic_accounting">
                                            <field colspan="4" name="analytic_lines" nolabel="1" context="{'default_general_account_id':account_id, 'default_name': name, 'default_date':date, 'amount': (debit or 0.0)-(credit or 0.0)}"/>
                                        </page>
                                    </notebook>
                                </form>
                                <tree colors="blue:state == 'draft';black:state == 'posted'" editable="top" string="Journal Items">
                                    <field name="ref"/>
                                    <field name="invoice"/>
                                    <field name="name"/>
                                    <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,parent.date,parent.journal_id)"/>
                                    <field name="account_id" domain="[('journal_id','=',parent.journal_id),('company_id', '=', parent.company_id)]"/>
                                    <field name="date_maturity"/>
                                    <field name="debit" sum="Total Debit"/>
                                    <field name="credit" sum="Total Credit"/>
                                    <field name="analytic_account_id" domain="[('parent_id','!=',False)]" groups="analytic.group_analytic_accounting"/>
                                    <field name="amount_currency" groups="base.group_extended"/>
                                    <field name="currency_id" groups="base.group_extended"/>
                                    <field name="tax_code_id"/>
                                    <field name="tax_amount"/>
                                    <field name="state"/>
                                    <field name="reconcile_id"/>
                                    <field name="reconcile_partial_id" groups="base.group_extended"/>
                                </tree>
                            </field>
                            <separator colspan="4" string="Internal Note"/>
                            <field name="narration" colspan="4" nolabel="1" height="50"/>
                            <group col="4" colspan="4">
                                <field name="state" select="1"/>
                                <button name="button_cancel" states="posted" string="Cancel" type="object" icon="gtk-cancel"/>
                                <button name="button_validate" states="draft" string="Post" type="object" icon="terp-camera_test"/>
                            </group>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_move_filter" model="ir.ui.view">
            <field name="name">account.move.select</field>
            <field name="model">account.move</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Move">
                    <group>
                        <filter icon="terp-document-new" string="Unposted" domain="[('state','=','draft')]" help="Unposted Journal Entries"/>
                        <filter icon="terp-camera_test" string="Posted" domain="[('state','=','posted')]" help="Posted Journal Entries"/>
                        <separator orientation="vertical"/>
                        <filter icon="terp-gtk-jump-to-ltr" string="To Review" domain="[('to_check','=',True)]" groups="base.group_extended" help="Journal Entries to Review"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="ref"/>
                        <field name="partner_id"/>
                        <field name="date"/>
                    </group>
                    <newline/>
                    <group>
                        <field name="journal_id" widget="selection"/>
                        <field name="period_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Partner" icon="terp-partner" domain="[]" context="{'group_by':'partner_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="States" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Period" icon="terp-go-month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Date" icon="terp-go-month" domain="[]" context="{'group_by':'date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_move_journal_line" model="ir.actions.act_window">
            <field name="name">Journal Entries</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
            <field name="help">A journal entry consists of several journal items, each of which is either a debit or a credit transaction. OpenERP automatically creates one journal entry per accounting document: invoice, refund, supplier payment, bank statements, etc.</field>
        </record>

        <menuitem
            icon="STOCK_JUSTIFY_FILL"
            action="action_move_journal_line"
            id="menu_action_move_journal_line_form"
            parent="account.menu_finance_entries"
            groups="group_account_user"
            sequence="5"/>

        <record id="action_move_line_form" model="ir.actions.act_window">
            <field name="name">Entries</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
        </record>

        <act_window
            id="act_account_move_to_account_move_line_open"
            name="Journal Items"
            context="{'search_default_move_id':[active_id], 'default_move_id': active_id}"
            res_model="account.move.line"
            src_model="account.move"/>

        <record id="action_move_line_search" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
        </record>
        <record id="action_move_line_search_view1" model="ir.actions.act_window.view">
            <field eval="10" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="act_window_id" ref="action_move_line_search"/>
        </record>
        <record id="action_move_line_search_view2" model="ir.actions.act_window.view">
            <field eval="11" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="act_window_id" ref="action_move_line_search"/>
        </record>

        <act_window
            context="{'search_default_next_partner':1,'view_mode':True}"
            id="action_account_manual_reconcile" name="Journal Items"
            res_model="account.move.line"
            view_id="view_move_line_tree"/>


        <menuitem
             name="Manual Reconciliation" icon="STOCK_EXECUTE"
             action="action_account_manual_reconcile"
             id="menu_manual_reconcile"
             parent="account.periodical_processing_reconciliation"/>


        <act_window
            id="act_account_acount_move_line_open"
            name="Entries"
            context="{'search_default_account_id':[active_id], 'search_default_unreconciled':0, 'default_account_id': active_id}"
            res_model="account.move.line"
            src_model="account.account"/>

        <act_window
            id="act_account_acount_move_line_open_unreconciled"
            name="Unreconciled Entries"
            res_model="account.move.line"
            context="{'search_default_account_id':[active_id], 'search_default_unreconciled':1, 'default_account_id': active_id}"
            src_model="account.account"/>

        <act_window
            domain="[('reconcile_id', '=', active_id)]"
            id="act_account_acount_move_line_reconcile_open"
            name="Reconciled entries"
            res_model="account.move.line"
            src_model="account.move.reconcile"/>


        <!--
    TODO:
        Print Journal (and change state)
        Close Journal (and verify that there is no draft Entry Lines)
-->

        <record id="view_journal_period_tree" model="ir.ui.view">
            <field name="name">account.journal.period.tree</field>
            <field name="model">account.journal.period</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'done';black:state == 'printed'" string="Journals">
                    <field icon="icon" name="fiscalyear_id"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="state"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="action_account_journal_period_tree" model="ir.actions.act_window">
            <field name="name">Journals</field>
            <field name="res_model">account.journal.period</field>
            <field name="view_type">tree</field>
            <field name="help">You can search for individual account entries through useful information. To search for account entries, open a journal, then select a record line.</field>
        </record>

        <!--
        # Account Models
        -->

        <record id="view_model_line_tree" model="ir.ui.view">
            <field name="name">account.model.line.tree</field>
            <field name="model">account.model.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journal Entry Model Line" editable="bottom">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="account_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation'), ('company_id', '=', parent.company_id)]"/>
                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                    <field name="partner_id"/>
                    <field name="debit"/>
                    <field name="credit"/>
                    <field name="date_maturity"/>
                </tree>
            </field>
        </record>


        <record id="view_model_line_form" model="ir.ui.view">
            <field name="name">account.model.line.form</field>
            <field name="model">account.model.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Entry Model Line">
                    <field colspan="4" name="name" select="1"/>
                    <field name="sequence"/>
                    <field name="account_id" domain="[('type','&lt;&gt;','view'), ('type','&lt;&gt;','consolidation'), ('company_id', '=', parent.company_id)]"/>
                    <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                    <field name="partner_id"/>
                    <field name="debit" select="1"/>
                    <field name="credit" select="1"/>
                    <field name="quantity"/>
                    <field name="date_maturity"/>
                </form>
            </field>
        </record>

        <record id="view_model_form" model="ir.ui.view">
            <field name="name">account.model.form</field>
            <field name="model">account.model</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Entry Model">
                    <field name="name"/>
                    <field name="journal_id"/>
                    <field name="company_id" widget='selection' groups="base.group_multi_company"/>
                    <field colspan="4" nolabel="1" name="lines_id" height="250" widget="one2many_list"/>
                    <separator string="Legend" colspan="4"/>
                    <field name="legend" colspan="4" nolabel="1"/>
                    <group col="1" colspan="4">
                        <button name="%(action_account_use_model_create_entry)d" string="Create entries" type="action" icon="gtk-execute"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_model_tree" model="ir.ui.view">
            <field name="name">account.model.tree</field>
            <field name="model">account.model</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journal Entry Model">
                    <field name="name"/>
                    <field name="journal_id"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>

        <record id="view_model_search" model="ir.ui.view">
            <field name="name">account.model.search</field>
            <field name="model">account.model</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Journal Entry Model">
                  <group>
                    <filter string="Sale" icon="terp-camera_test" domain="[('journal_id.type', '=', 'sale')]"/>
                    <filter string="Purchase" icon="terp-purchase" domain="[('journal_id.type', '=', 'purchase')]"/>
                    <separator orientation="vertical"/>
                      <field name="name"/>
                      <field name="journal_id" widget="selection"/>
                      <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                      <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_model_form" model="ir.actions.act_window">
            <field name="name">Recurring Models</field>
            <field name="res_model">account.model</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_model_search"/>
        </record>
        <menuitem
            action="action_model_form" id="menu_action_model_form" sequence="5"
            parent="account.menu_configuration_misc" groups="base.group_extended"/>

        <!--
            # Payment Terms
        -->

        <record id="view_payment_term_line_tree" model="ir.ui.view">
            <field name="name">account.payment.term.line.tree</field>
            <field name="model">account.payment.term.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Payment Term">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="value"/>
                    <field name="value_amount"/>
                    <field name="days"/>
                    <field name="days2"/>
                </tree>
            </field>
        </record>


        <record id="view_payment_term_line_form" model="ir.ui.view">
            <field name="name">account.payment.term.line.form</field>
            <field name="model">account.payment.term.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Payment Term">
                    <group>
                        <group colspan="2" col="4">
                            <field name="name" select="1"/>
                            <separator string="Amount Computation" colspan="4"/>
                            <field name="value" colspan="4"/>
                            <field name="value_amount" colspan="4" attrs="{'readonly':[('value','=','balance')]}"/>
                        </group>
                        <group colspan="2" col="4">
                            <field name="sequence"/>
                            <separator string="Due Date Computation" colspan="4"/>
                            <field name="days" colspan="4"/>
                            <field name="days2" colspan="4"/>
                        </group>
                    </group>
                    <newline/>
                    <separator string="Example" colspan="4"/>
                    <label string="At 14 net days 2 percent, remaining amount at 30 days end of month." colspan="4"/>
                    <group colspan="2" col="2">
                        <label string="Line 1:" colspan="2"/>
                        <label string="  Valuation: Percent"/>
                        <label string="  Number of Days: 14"/>
                        <label string="  Value amount: 0.02"/>
                        <label string="  Day of the Month: 0"/>
                    </group>
                    <newline/>
                    <group colspan="2" col="2">
                        <label string="Line 2:" colspan="2"/>
                        <label string="  Valuation: Balance"/>
                        <label string="  Number of Days: 30"/>
                        <label string="  Value amount: n.a"/>
                        <label string="  Day of the Month= -1"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_payment_term_search" model="ir.ui.view">
            <field name="name">account.payment.term.search</field>
            <field name="model">account.payment.term</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Payment Term">
                    <field name="name"/>
                    <field name="active"/>
                </search>
            </field>
        </record>

        <record id="view_payment_term_form" model="ir.ui.view">
            <field name="name">account.payment.term.form</field>
            <field name="model">account.payment.term</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Payment Term">
                    <separator colspan="4" string="Information"/>
                    <field name="name" select="1"/>
                    <field name="active" select="1"/>
                    <separator colspan="4" string="Description On Invoices"/>
                    <field colspan="4" name="note" nolabel="1"/>
                    <separator colspan="4" string="Computation"/>
                    <field colspan="4" name="line_ids" nolabel="1"/>
                </form>
            </field>
        </record>

        <record id="action_payment_term_form" model="ir.actions.act_window">
            <field name="name">Payment Terms</field>
            <field name="res_model">account.payment.term</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_payment_term_search"/>
        </record>
        <menuitem action="action_payment_term_form"
            id="menu_action_payment_term_form" parent="menu_configuration_misc"/>

        <!--
        # Account Subscriptions
        -->

        <record id="view_subscription_line_form" model="ir.ui.view">
            <field name="name">account.subscription.line.form</field>
            <field name="model">account.subscription.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Subscription lines">
                    <field name="date"/>
                    <field name="move_id"/>
                </form>
            </field>
        </record>

        <record id="view_subscription_line_tree" model="ir.ui.view">
            <field name="name">account.subscription.line.tree</field>
            <field name="model">account.subscription.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Subscription lines">
                    <field name="date"/>
                    <field name="move_id"/>
                </tree>
            </field>
        </record>

        <record id="view_subscription_tree" model="ir.ui.view">
            <field name="name">account.subscription.tree</field>
            <field name="model">account.subscription</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'draft';gray:state == 'done';black:state == 'running'" string="Entry Subscription">
                    <field name="name"/>
                    <field name="model_id"/>
                    <field name="ref"/>
                    <field name="date_start"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

         <record id="view_subscription_search" model="ir.ui.view">
            <field name="name">account.subscription.search</field>
            <field name="model">account.subscription</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Entry Subscription">
                    <group>
                        <filter icon="terp-document-new" string="Draft" domain="[('state','=','draft')]" help="Draft Subscription"/>
                        <filter icon="terp-camera_test" string="Running" domain="[('state','=','running')]" help="Running Subscription"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="model_id"/>
                        <field name="date_start"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Model" icon="terp-folder-orange" domain="[]" context="{'group_by':'model_id'}"/>
                        <filter string="State" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_subscription_form" model="ir.ui.view">
            <field name="name">account.subscription.form</field>
            <field name="model">account.subscription</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Recurring">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="model_id"/>
                        <field name="ref" select="1"/>
                    </group>
                    <group col="2" colspan="2">
                        <separator colspan="4" string="Starts on"/>
                        <field name="date_start" select="1"/>
                        <field name="period_total"/>
                    </group>

                    <group col="2" colspan="2">
                        <separator colspan="4" string="Valid Up to"/>
                        <field name="period_nbr"/>
                        <field name="period_type"/>
                    </group>

                    <group col="2" colspan="2">
                    </group>
                    <separator colspan="4" string="Subscription Lines"/>
                    <field colspan="4" name="lines_id" widget="one2many_list" nolabel="1"/>

                    <group col="6" colspan="4">
                        <field name="state"/>
                        <button name="state_draft" states="done" string="Set to Draft" type="object"  icon="gtk-convert" />
                        <button name="compute" states="draft" string="Compute" type="object" icon="terp-stock_format-scientific"/>
                        <button name="remove_line" states="running" string="Remove Lines" type="object" icon="gtk-remove"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="action_subscription_form" model="ir.actions.act_window">
            <field name="name">Recurring Lines</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_subscription_search"/>
            <field name="help">A recurring entry is a miscellaneous entry that occurs on a recurrent basis from a specific date, i.e. corresponding to the signature of a contract or an agreement with a customer or a supplier. With Define Recurring Entries, you can create such entries to automate the postings in the system.</field>
        </record>
        <menuitem
            name="Define Recurring Entries" action="action_subscription_form"
            groups="base.group_extended"
            id="menu_action_subscription_form" sequence="1"
            parent="account.menu_finance_recurrent_entries"/>

        <record id="action_subscription_form_running" model="ir.actions.act_window">
            <field name="name">Running Subscriptions</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','running')]</field>
            <field name="filter" eval="True"/>
        </record>

        <record id="action_subscription_form_new" model="ir.actions.act_window">
            <field name="name">New Subscription</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="view_id" ref="view_subscription_form"/>
        </record>

        <record id="view_subscription_line_form_complete" model="ir.ui.view">
            <field name="name">account.subscription.line.form</field>
            <field name="model">account.subscription.line</field>
            <field name="type">form</field>
            <field eval="20" name="priority"/>
            <field name="arch" type="xml">
                <form string="Subscription lines">
                    <field name="subscription_id"/>
                    <field name="date"/>
                    <field name="move_id"/>
                </form>
            </field>
        </record>

        <record id="action_move_line_tree1" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('account_id','child_of', [active_id]),('state','&lt;&gt;','draft')]</field>
            <field name="context">{'account_id':active_id}</field>
        </record>

        <record id="view_move_line_tax_tree" model="ir.ui.view">
            <field name="name">account.move.line.tax.tree</field>
            <field name="model">account.move.line</field>
            <field name="type">tree</field>
            <field eval="4" name="priority"/>
            <field name="arch" type="xml">
                <tree colors="red:state == 'draft';black:state == 'valid'" string="Journal Items">
                    <field name="date"/>
                    <field name="move_id"/>
                    <field name="statement_id" string="St."/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="account_id"/>
                    <field name="tax_code_id"/>
                    <field name="tax_amount"/>
                    <field name="debit" sum="Total debit"/>
                    <field name="credit" sum="Total credit"/>
                    <field name="account_tax_id"/>
                    <field name="analytic_account_id" domain="[('parent_id','!=',False)]" groups="analytic.group_analytic_accounting"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="action_tax_code_line_open" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tax_tree"/>
            <field name="domain">[('tax_code_id','child_of',active_id),('state','&lt;&gt;','draft')]</field>
        </record>
        <record id="ir_open_tax_move_line" model="ir.values">
            <field name="key2">tree_but_open</field>
            <field name="model">account.tax.code</field>
            <field name="name">Tax Details</field>
            <field eval="'ir.actions.act_window,%d'%action_tax_code_line_open" name="value"/>
        </record>


        <!--
    # Admin config
    -->

        <act_window
           id="act_account_journal_2_account_bank_statement"
           name="Bank statements"
           context="{'search_default_journal_id': active_id, 'default_journal_id': active_id}"
           res_model="account.bank.statement"
           src_model="account.journal"/>

        <act_window
           id="act_account_journal_2_account_move_line"
           name="Journal Items"
           context="{'search_default_journal_id':active_id, 'default_journal_id': active_id}"
           res_model="account.move.line"
           src_model="account.journal"/>

        <act_window
            context="{'search_default_reconcile_id':False, 'search_default_partner_id':[active_id], 'default_partner_id': active_id}"
            domain="[('account_id.reconcile', '=', True),('account_id.type', 'in', ['receivable', 'payable'])]"
            id="act_account_partner_account_move_all"
            name="Receivables &amp; Payables"
            res_model="account.move.line"
            src_model="res.partner"
            groups="base.group_extended"/>

        <act_window context="{'search_default_partner_id':[active_id], 'default_partner_id': active_id}" id="act_account_partner_account_move" name="Journal Items" res_model="account.move.line" src_model="res.partner" groups="account.group_account_user"/>

        <record id="view_account_addtmpl_wizard_form" model="ir.ui.view">
            <field name="name">Create Account</field>
            <field name="model">account.addtmpl.wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Create Account">
                    <separator col="4" colspan="4" string="Create an Account based on this template"/>
                    <field name="cparent_id"/>
                    <newline/>
                    <group col="2" colspan="2">
                        <button icon="gtk-cancel" special="cancel" string="Cancel" name="action_cancel" type="object"/>
                        <button icon="gtk-ok" name="action_create" string="Add" type="object"/>
                    </group>
                </form>
            </field>
        </record>

        <act_window domain="[]" id="action_account_addtmpl_wizard_form"
            name="Create Account"
            target="new"
            res_model="account.addtmpl.wizard"
            context="{'tmpl_ids': active_id}"
            src_model="account.account.template"
            view_type="form" view_mode="form"/>

        <!-- Account Templates -->
        <menuitem
            id="account_template_folder"
            name="Templates"
            parent="menu_finance_accounting"
            groups="base.group_multi_company"/>
        <menuitem
            id="account_template_taxes"
            name="Taxes"
            parent="account_template_folder"
            sequence="2"/>
        <menuitem
            id="account_template_accounts"
            name="Accounts"
            parent="account_template_folder"
            sequence="1"/>


        <record id="view_account_template_form" model="ir.ui.view">
            <field name="name">account.account.template.form</field>
            <field name="model">account.account.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Template">
                    <notebook>
                        <page string="General Information">
                            <field name="name"/>
                            <field name="code"/>
                            <newline/>
                            <field name="parent_id"/>
                            <field name="shortcut"/>
                            <field name="type"/>
                            <field name="user_type"/>

                            <field name="currency_id"/>
                            <field name="reconcile"/>
                            <field name="chart_template_id"/>
                            <separator string="Default taxes" colspan="4"/>
                            <field name="tax_ids" colspan="4" nolabel="1"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_template_tree" model="ir.ui.view">
            <field name="name">account.account.template.tree</field>
            <field name="model">account.account.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Template">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="type" invisible="1"/>
                    <field name="user_type" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="view_account_template_search" model="ir.ui.view">
            <field name="name">account.account.template.search</field>
            <field name="model">account.account.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Account Templates">
                    <group>
                        <filter icon="terp-sale" string="Receivale Accounts" domain="[('type','=','receivable')]"/>
                         <filter icon="terp-purchase" string="Payable Accounts" domain="[('type','=','payable')]"/>
                         <separator orientation="vertical"/>
                        <field name="code"/>
                        <field name="name"/>
                        <field name="parent_id"/>
                        <field name="type"/>
                        <field name="user_type"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Internal Type" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'type'}"/>
                        <filter string="Account Type" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'user_type'}"/>
                   </group>
                </search>
            </field>
        </record>

        <record id="action_account_template_form" model="ir.actions.act_window">
            <field name="name">Account Templates</field>
            <field name="res_model">account.account.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_template_search"/>
        </record>

        <menuitem action="action_account_template_form" id="menu_action_account_template_form" parent="account_template_accounts"/>

        <!-- Chart of Accounts Templates -->

        <record id="view_account_chart_template_form" model="ir.ui.view">
            <field name="name">account.chart.template.form</field>
            <field name="model">account.chart.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Chart of Accounts Template">
                    <group>
                    <field name="name"/>
                    <field name="account_root_id" attrs="{'required': [('parent_id', '=', False)]}"/>
                    <field name="bank_account_view_id" attrs="{'required': [('parent_id', '=', False)]}"/>
                    <field name="tax_code_root_id" attrs="{'required': [('parent_id', '=', False)]}"/>
                    <field name="parent_id" />
                    <!--<field name="code_digits" />-->
                    <field name="visible" />
                    <field name="complete_tax_set" />
                    </group>
                    <field name="tax_template_ids" colspan="4" readonly="1" nolabel="1"/>
                    <separator string="Properties" colspan="4"/>
                    <group>
                    <field name="property_account_receivable" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_payable" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_expense_categ" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_income_categ" domain="[('id', 'child_of', [account_root_id])]" />
                    <field name="property_account_expense" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_income" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_income_opening" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_account_expense_opening" domain="[('id', 'child_of', [account_root_id])]"/>
                    <field name="property_reserve_and_surplus_account" />
                    </group>
                </form>
            </field>
        </record>
        <record id="view_account_chart_template_seacrh" model="ir.ui.view">
            <field name="name">account.chart.template.search</field>
            <field name="model">account.chart.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Chart of Account Templates">
                      <group>
                          <field name="name"/>
                        <field name="account_root_id"/>
                        <field name="bank_account_view_id"/>
                      </group>
                      <newline/>
                      <group expand="0" string="Group By...">
                        <filter string="Root Account" icon="terp-folder-orange" domain="[]" context="{'group_by':'account_root_id'}"/>
                        <filter string="Bank Account" icon="terp-folder-orange" domain="[]" context="{'group_by':'bank_account_view_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Receivable Account" icon="terp-sale" domain="[]" context="{'group_by':'property_account_receivable'}"/>
                        <filter string="Payable Account" icon="terp-purchase" domain="[]" context="{'group_by':'property_account_payable'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Income Account" icon="terp-sale" domain="[]" context="{'group_by':'property_account_income_categ'}"/>
                        <filter string="Expense Account" icon="terp-purchase" domain="[]" context="{'group_by':'property_account_expense_categ'}"/>
                      </group>
                </search>
            </field>
        </record>
        <record id="view_account_chart_template_tree" model="ir.ui.view">
            <field name="name">account.chart.template.tree</field>
            <field name="model">account.chart.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Chart of Accounts Template">
                    <field name="name"/>
                    <field name="account_root_id"/>
                    <field name="tax_code_root_id"/>
                    <field name="bank_account_view_id"/>
                    <field name="property_account_receivable" invisible="1"/>
                    <field name="property_account_payable" invisible="1"/>
                    <field name="property_account_expense_categ" invisible="1"/>
                    <field name="property_account_income_categ" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="action_account_chart_template_form" model="ir.actions.act_window">
            <field name="name">Chart of Accounts Templates</field>
            <field name="res_model">account.chart.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem action="action_account_chart_template_form" id="menu_action_account_chart_template_form" parent="account_template_accounts" sequence="1"/>

        <!-- Account Tax Templates -->

        <record id="view_account_tax_template_form" model="ir.ui.view">
            <field name="name">account.tax.template.form</field>
            <field name="model">account.tax.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Template">
                    <group colspan="4">
                        <field name="name"/>
                        <field name="description"/>
                        <newline/>
                        <field name="chart_template_id"/>
                        <field name="type"/>
                        <field name="type_tax_use"/>
                        <group colspan="2" col="4">
                            <field name="price_include"/>
                        </group>
                    </group>
                    <notebook colspan="4">
                        <page string="Tax Definition">
                            <field name="applicable_type"/>
                            <field name="amount" attrs="{'readonly':[('type','=','none'),('type','=','code')]}"/>
                            <field groups="base.group_extended" name="include_base_amount"/>
                            <field groups="base.group_extended" name="domain"/>
                            <newline/>
                            <field name="account_collected_id"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the income account"/>
                            <field name="account_paid_id"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the expense account"/>
                            <field groups="base.group_extended" name="child_depend"/>
                            <field groups="base.group_extended" name="sequence"/>
                        </page>
                        <page string="Tax Declaration">
                            <separator colspan="4" string="Invoices"/>
                            <field name="base_code_id"/>
                            <field name="base_sign"/>
                            <field name="tax_code_id"/>
                            <field name="tax_sign"/>

                            <separator colspan="4" string="Credit Notes"/>
                            <field name="ref_base_code_id"/>
                            <field name="ref_base_sign"/>
                            <field name="ref_tax_code_id"/>
                            <field name="ref_tax_sign"/>
                        </page>
                        <page groups="base.group_extended" string="Special Computation">
                            <separator colspan="4" string="Compute Code (if type=code)"/>
                            <field colspan="4" name="python_compute" nolabel="1" attrs="{'readonly':[('type','!=','code')]}"/>
                            <separator colspan="4" string="Compute Code for Taxes included prices"/>
                            <field colspan="4" name="python_compute_inv" nolabel="1"/>
                            <separator colspan="4" string="Applicable Code (if type=code)"/>
                            <field colspan="4" name="python_applicable" nolabel="1" attrs="{'readonly':[('applicable_type','=','true')]}"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <record id="view_account_tax_template_tree" model="ir.ui.view">
            <field name="name">account.tax.template.tree</field>
            <field name="model">account.tax.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Template">
                    <field name="name" />
                    <field name="description"/>
                </tree>
            </field>
        </record>
        <record id="view_account_tax_template_search" model="ir.ui.view">
            <field name="name">account.tax.template.search</field>
            <field name="model">account.tax.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Tax Templates">
                    <group>
                        <filter icon="terp-sale" string="Sale" domain="[('type_tax_use','=','sale')]" help="Taxes used in Sales"/>
                        <filter icon="terp-purchase" string="Purchase" domain="[('type_tax_use','=','purchase')]" help="Taxes used in Purchases"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="description"/>
                        <field name="chart_template_id"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_account_tax_template_form" model="ir.actions.act_window">
            <field name="name">Tax Templates</field>
            <field name="res_model">account.tax.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_tax_template_search"/>
        </record>

        <menuitem action="action_account_tax_template_form" id="menu_action_account_tax_template_form" parent="account_template_taxes" sequence="13"/>

        <!-- Account Tax Code Templates -->
        <record id="view_tax_code_template_tree" model="ir.ui.view">
            <field name="name">account.tax.code.template.tree</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Code Template" toolbar="1">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="view_tax_code_template_search" model="ir.ui.view">
            <field name="name">account.tax.code.template.search</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search tax template">
                    <group>
                        <field name="name"/>
                        <field name="code"/>
                        <field name="parent_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Parent Code" icon="terp-folder-orange" domain="[]" context="{'group_by':'parent_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_tax_code_template_form" model="ir.ui.view">
            <field name="name">account.tax.code.template.form</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Code Template">
                    <field name="name" select="1"/>
                    <field name="code" select="1"/>
                    <field name="parent_id" select="1"/>
                    <field name="sign"/>
                    <newline/>
                    <separator string="Description" colspan="4"/>
                    <field colspan="4" name="info" nolabel="1"/>
                </form>
            </field>
        </record>

        <record id="action_account_tax_code_template_form" model="ir.actions.act_window">
            <field name="name">Tax Code Templates</field>
            <field name="res_model">account.tax.code.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_tax_code_template_search"/>
        </record>
        <menuitem action="action_account_tax_code_template_form" id="menu_action_account_tax_code_template_form" parent="account_template_taxes" sequence="14"/>


        <!--  Wizard for Multi Charts of Accounts -->

        <record id="view_wizard_multi_chart" model="ir.ui.view">
            <field name="name">Generate Chart of Accounts from a Chart Template</field>
            <field name="model">wizard.multi.charts.accounts</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="base.res_config_view_base"/>
            <field name="arch" type="xml">
              <data>
                <form position="attributes">
                  <attribute name="string">Accounting Application Configuration</attribute>
                </form>
                <separator string="title" position="attributes">
                <attribute name="string">Generate Your Chart of Accounts from a Chart Template</attribute>
                  </separator>
                  <xpath expr="//label[@string='description']" position="attributes">
                    <attribute name="string">This will automatically configure your chart of accounts, bank accounts, taxes and journals according to the selected template</attribute>
                    <attribute name="width">150</attribute>
                  </xpath>
                  <xpath expr='//separator[@string="vsep"]' position='attributes'>
                          <attribute name='rowspan'>15</attribute>
                          <attribute name='string'></attribute>
                  </xpath>
                <group string="res_config_contents" position="replace">
                    <field name="company_id" widget="selection"/> <!-- we assume that this wizard will be run only by administrators and as this field may cause problem if hidden (because of the default company of the user removed from the selection because already configured), we simply choosed to remove the group "multi company" of it -->
                    <field name ="code_digits" groups="account.group_account_user"/>
                    <field name="chart_template_id" widget="selection" on_change="onchange_chart_template_id(chart_template_id)" domain="[('visible','=', True)]"/>
                    <field name ="seq_journal" groups="base.group_extended"/>
                    <field name="sale_tax" attrs="{'invisible': [('complete_tax_set', '!=', True)]}" domain="[('chart_template_id', '=', chart_template_id),('parent_id','=',False),('type_tax_use','in',('sale','all'))]"/>
                    <field name="purchase_tax" attrs="{'invisible': [('complete_tax_set', '!=', True)]}" domain="[('chart_template_id', '=', chart_template_id),('parent_id','=',False),('type_tax_use','in',('purchase', 'all'))]"/>
                    <newline/>
                    <field name ="sale_tax_rate" attrs="{'invisible': [('complete_tax_set', '=', True)]}" on_change="onchange_tax_rate(sale_tax_rate)"/>
                    <field name ="purchase_tax_rate" attrs="{'invisible': [('complete_tax_set', '=', True)]}"/>
                    <field name ="complete_tax_set" invisible="1"/>
                    <newline/> <!-- extended view because the web UI is not good for one2many -->
                    <field colspan="4" mode="tree" name="bank_accounts_id" nolabel="1" widget="one2many_list" groups="account.group_account_user">
                        <form string="Bank Information">
                            <field name="acc_name"/>
                            <field name="account_type"/>
                            <field name="currency_id" widget="selection" groups="base.group_extended"/>
                        </form>
                        <tree editable="bottom" string="Bank Information">
                            <field name="acc_name"/>
                            <field name="account_type"/>
                            <field name="currency_id" widget="selection" groups="base.group_extended"/>
                        </tree>
                    </field>
                </group>
              </data>
            </field>
        </record>

        <record id="action_wizard_multi_chart" model="ir.actions.act_window">
            <field name="name">Generate Chart of Accounts from a Chart Template</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">wizard.multi.charts.accounts</field>
            <field name="view_id" ref="view_wizard_multi_chart"/>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
        <record id="ir_actions_server_action_wizard_multi_chart" model="ir.actions.server">
            <field name="type">ir.actions.server</field>
            <field name="condition">True</field>
            <field name="state">code</field>
            <field name="model_id" ref="base.model_ir_actions_todo"/>
            <field eval="5" name="sequence"/>
            <field name="code">
# check for unconfigured companies
account_installer_obj = self.pool.get('account.installer')
account_installer_obj.check_unconfigured_cmp(cr, uid, context=context)
action_ids = []
# fetch the act_window actions related to chart of account configuration
# we use ir.actions.todo to enable the possibility for other modules to insert their own
# wizards during the configuration process
ref = self.pool.get('ir.model.data').get_object_reference(cr, uid, 'account', 'action_wizard_multi_chart')
if ref:
    action_ids += [ref[1]]
ref = self.pool.get('ir.model.data').get_object_reference(cr, uid, 'account', 'action_account_configuration_installer')
if ref:
    action_ids += [ref[1]]
todo_ids = pool.get('ir.actions.todo').search(cr, uid, [('action_id', 'in', action_ids)], context=context)
pool.get('ir.actions.todo').write(cr, uid, todo_ids, {'state':'open'}, context=context)
action = pool.get('res.config').next(cr, uid, [], context)
</field>
           <field name="name">New Company Financial Setting</field>
        </record>


        <record id="menu_act_ir_actions_bleble" model="ir.ui.menu">
            <field name="name">New Company Financial Setting</field>
            <field eval="1" name="sequence"/>
            <field name="parent_id" ref="account.menu_finance_accounting"/>
            <field name="icon">STOCK_EXECUTE</field>
            <field name="action" ref="ir_actions_server_action_wizard_multi_chart"/>
        </record>

        <record id="account_account_graph" model="ir.ui.view">
            <field name="name">account.account.graph</field>
            <field name="model">account.account</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Account Statistics" type="bar">
                    <field name="name"/>
                    <field name="balance" operator="+"/>
                </graph>
            </field>
         </record>

         <!-- Fiscal Position Templates -->

        <record id="view_account_position_template_search" model="ir.ui.view">
            <field name="name">account.fiscal.position.template.search</field>
            <field name="model">account.fiscal.position.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Fiscal Position">
                    <field name="name"/>
                </search>
            </field>
        </record>

        <record id="view_account_position_template_form" model="ir.ui.view">
            <field name="name">account.fiscal.position.template.form</field>
            <field name="model">account.fiscal.position.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Fiscal Position Template">
                    <field name="name"/>
                    <field name="chart_template_id"/>
                    <newline/>
                    <field name="tax_ids" colspan="4" nolabel="1">
                        <tree string="Taxes Mapping" editable="bottom">
                            <field name="tax_src_id" domain="[('parent_id','=',False)]"/>
                            <field name="tax_dest_id" domain="[('parent_id','=',False)]"/>
                        </tree>
                        <form string="Taxes Mapping">
                            <field name="tax_src_id" domain="[('parent_id','=',False)]"/>
                            <field name="tax_dest_id" domain="[('parent_id','=',False)]"/>
                        </form>
                    </field>
                    <field name="account_ids" colspan="4" nolabel="1">
                        <tree string="Accounts Mapping" editable="bottom">
                            <field name="account_src_id"/>
                            <field name="account_dest_id"/>
                        </tree>
                        <form string="Accounts Mapping">
                            <field name="account_src_id"/>
                            <field name="account_dest_id"/>
                        </form>
                    </field>
                </form>
            </field>
        </record>
        <record id="view_account_position_template_tree" model="ir.ui.view">
            <field name="name">account.fiscal.position.template.tree</field>
            <field name="model">account.fiscal.position.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Fiscal Position">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="action_account_fiscal_position_template_form" model="ir.actions.act_window">
            <field name="name">Fiscal Position Templates</field>
            <field name="res_model">account.fiscal.position.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_position_template_search"/>
        </record>

        <menuitem
            action="action_account_fiscal_position_template_form"
            id="menu_action_account_fiscal_position_form_template"
            parent="account_template_taxes" sequence="20"/>

        <!-- Cash Statement -->
        <record id="view_cash_statement_tree" model="ir.ui.view">
            <field name="name">account.bank.statement.tree</field>
            <field name="model">account.bank.statement</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="red:balance_end_real!=balance_end;blue:state=='draft' and (balance_end_real==balance_end);black:state == 'open'" string="Statement">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="balance_start"/>
                    <field name="balance_end_real"/>
                    <field name="balance_end"/>
                    <field name="state"/>
                    <button type="object" string="Cancel" name="button_cancel" states="confirm" icon="gtk-cancel"/>
                    <button type="object" string="Open" name="button_open" states="draft" icon="terp-camera_test"/>
                    <button type="object" string="Confirm" name="button_confirm_bank" states="open" icon="terp-gtk-go-back-rtl"/>
                </tree>
            </field>
        </record>

        <record id="view_bank_statement_form2" model="ir.ui.view">
            <field name="name">account.bank.statement.form</field>
            <field name="model">account.bank.statement</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Statement">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name='company_id' widget="selection" groups="base.group_multi_company" />
                        <field name="journal_id" on_change="onchange_journal_id(journal_id)" select="1" widget="selection"/>
                        <field name="user_id" select="1" readonly="1"/>
                        <field name="period_id" select="1"/>
                        <field name="currency" invisible="1"/>
                    </group>

                    <notebook colspan="4">
                        <page string="Cash Transactions" attrs="{'invisible': [('state','=','draft')]}">
                            <field colspan="4" name="line_ids" nolabel="1" context="{'date':date}">
                                <tree editable="bottom" string="Statement lines">
                                    <field name="sequence" invisible="1"/>
                                    <field name="date" groups="base.group_extended"/>
                                    <field name="name"/>
                                    <field name="ref"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id)"/>
                                    <field name="type" on_change="onchange_type(partner_id, type)"/>
                                    <field domain="[('journal_id','=',parent.journal_id), ('company_id', '=', parent.company_id)]" name="account_id"/>
                                    <field name="analytic_account_id" domain="[('company_id', '=', parent.company_id), ('type', '&lt;&gt;', 'view')]" groups="analytic.group_analytic_accounting" />
                                    <field name="amount"/>
                                </tree>
                                <form string="Statement lines">
                                    <field name="date"/>
                                    <field name="name"/>
                                    <field name="ref"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id)"/>
                                    <field name="type" on_change="onchange_type(partner_id, type)"/>
                                    <field domain="[('journal_id', '=', parent.journal_id), ('type', '&lt;&gt;', 'view'), ('company_id', '=', parent.company_id)]" name="account_id"/>
                                    <field name="analytic_account_id" domain="[('company_id', '=', parent.company_id), ('type', '&lt;&gt;', 'view')]" groups="analytic.group_analytic_accounting" />
                                    <field name="amount"/>
                                    <field name="sequence"/>
                                    <separator colspan="4" string="Notes"/>
                                    <field colspan="4" name="note" nolabel="1"/>
                                </form>
                            </field>
                        </page>
                        <page string="CashBox">
                            <group col="2" colspan="2" expand="1">
                                <field name="starting_details_ids" nolabel="1" colspan="2" attrs="{'readonly':[('state','!=','draft')]}">
                                    <tree string = "Opening Balance" editable="bottom">
                                        <field name="pieces"/>
                                        <field name="number" on_change="on_change_sub(pieces,number, parent.balance_end)"/>
                                        <field name="subtotal" sum="Total"/>
                                    </tree>
                                    <form string = "Opening Balance">
                                        <field name="pieces"/>
                                        <field name="number" on_change="on_change_sub(pieces,number, parent.balance_end)"/>
                                        <field name="subtotal"/>
                                    </form>
                                </field>
                            </group>
                            <group col="2" colspan="2" expand="1">
                                <field name="ending_details_ids" nolabel="1" colspan="2" attrs="{'readonly':[('state','!=','open')]}">
                                    <tree string = "Closing Balance" editable="bottom">
                                        <field name="pieces"/>
                                        <field name="number" on_change="on_change_sub(pieces,number, parent.balance_end)"/>
                                        <field name="subtotal" sum="Total"/>
                                    </tree>
                                    <form string = "Closing Balance">
                                        <field name="pieces"/>
                                        <field name="number" on_change="on_change_sub(pieces,number, parent.balance_end)"/>
                                        <field name="subtotal"/>
                                    </form>
                                </field>
                            </group>
                        </page>
                        <page string="Journal Entries" attrs="{'invisible': [('state','!=','confirm')]}">
                            <field colspan="4" name="move_line_ids" nolabel="1" string="Journal Entries"/>
                        </page>
                    </notebook>
                    <group col="6" colspan="4">
                        <group col="2" colspan="2">
                            <separator string="Dates" colspan="4"/>
                            <field name="date" select="1" attrs="{'readonly':[('state','!=','draft')]}"  on_change="onchange_date(date, company_id)"/>
                            <field name="closing_date" select="1" readonly="1"/>
                        </group>
                        <group col="2" colspan="2">
                            <separator string="Opening Balance" colspan="4"/>
                            <field name="balance_start" readonly="1" string="Opening Balance"/>
                            <field name="total_entry_encoding"/>
                        </group>
                        <group col="2" colspan="2">
                            <separator string="Closing Balance" colspan="4"/>
                            <field name="balance_end"/>
                            <field name="balance_end_cash"/>
                        </group>
                    </group>
                    <group col="8" colspan="4">
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm" colspan="4"/>
                        <button name="button_cancel" states="confirm,open" string="Cancel" icon="terp-gtk-stop" type="object" groups="base.group_extended"/>
                        <button name="button_confirm_cash" states="open" string="Close CashBox" icon="terp-dialog-close" type="object"/>
                        <button name="button_open" states="draft" string="Open CashBox" icon="gtk-go-forward" type="object"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="account_cash_statement_graph" model="ir.ui.view">
            <field name="name">account.bank.statement.graph</field>
            <field name="model">account.bank.statement</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Account Statistics" type="bar">
                    <field name="date"/>
                    <field name="balance_start" operator="+"/>
                    <field name="balance_end" operator="+"/>
                </graph>
            </field>
         </record>
        <record id="action_view_bank_statement_tree" model="ir.actions.act_window">
            <field name="name">Cash Registers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="view_id" ref="view_cash_statement_tree"/>
            <field name="search_view_id" ref="view_account_bank_statement_filter"/>
            <field name="domain">[('journal_id.type', '=', 'cash')]</field>
            <field name="context">{'journal_type':'cash'}</field>
            <field name="help">A Cash Register allows you to manage cash entries in your cash journals. This feature provides an easy way to follow up cash payments on a daily basis. You can enter the coins that are in your cash box, and then post entries when money comes in or goes out of the cash box.</field>
        </record>
        <record model="ir.actions.act_window.view" id="act_cash_statement1_all">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_cash_statement_tree"/>
            <field name="act_window_id" ref="action_view_bank_statement_tree"/>
        </record>
        <record model="ir.actions.act_window.view" id="act_cash_statement2_all">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_bank_statement_form2"/>
            <field name="act_window_id" ref="action_view_bank_statement_tree"/>
        </record>
        <record model="ir.actions.act_window.view" id="act_cash_statement3_all">
            <field name="sequence" eval="1"/>
            <field name="view_mode">graph</field>
            <field name="view_id" ref="account_cash_statement_graph"/>
            <field name="act_window_id" ref="action_view_bank_statement_tree"/>
        </record>
        <menuitem action="action_view_bank_statement_tree" id="journal_cash_move_lines"
            parent="menu_finance_bank_and_cash"/>

        <menuitem id="menu_account_customer" name="Customers"
            parent="menu_finance_receivables"
            action="base.action_partner_customer_form" sequence="100"/>

        <menuitem id="menu_account_supplier" name="Suppliers"
            parent="menu_finance_payables"
            action="base.action_partner_supplier_form" sequence="100"/>

        <!--
            Account Reports
        -->

        <record id="view_account_financial_report_form" model="ir.ui.view">
            <field name="name">account.financial.report.form</field>
            <field name="model">account.financial.report</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Report">
                    <group col="6" colspan="4">
                        <field name="name"/>
                        <field name="parent_id"/>
                        <field name="sequence"/>
                        <field name="type"/>
                        <field name="sign"/>
                        <field name="style_overwrite"/>
                    </group>
                    <notebook colspan="6">
                        <page string="Report">
                            <group colspan="4" col="4">
                                <field name="display_detail" attrs="{'invisible': [('type','not in',['accounts','account_type'])]}"  colspan="2"/>
                                <label string="" colspan="2"/>
                            </group>
                            <newline/>
                            <field name="account_ids" nolabel="1" colspan="6" attrs="{'invisible': [('type', '!=', 'accounts')]}"/>
                            <newline/>
                            <field name="account_report_id" attrs="{'invisible': [('type', '!=', 'account_report')]}"/>
                            <newline/>
                            <field name="account_type_ids" nolabel="1" attrs="{'invisible': [('type', '!=', 'account_type')]}"/>
                            <newline/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_financial_report_tree" model="ir.ui.view">
            <field name="name">account.financial.report.tree</field>
            <field name="model">account.financial.report</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Report">
                    <field name="name"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="type"/>
                    <field name="account_report_id"/>
                </tree>
            </field>
        </record>

        <record id="view_account_financial_report_search" model="ir.ui.view">
            <field name="name">account.financial.report.search</field>
            <field name="model">account.financial.report</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Account Report">
                    <group>
                        <field name="name"/>
                        <field name="type"/>
                        <field name="account_report_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Parent Report" icon="terp-folder-orange" domain="" context="{'group_by':'parent_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Report Type" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'type'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_account_financial_report_tree" model="ir.actions.act_window">
            <field name="name">Financial Reports</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.financial.report</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_account_financial_report_search"/>
            <field name="view_id" ref="view_account_financial_report_tree"/>
            <field name="help">Makes a generic system to draw financial reports easily.</field>
        </record>

        <menuitem id="menu_account_financial_reports_tree" name="Account Reports" parent="menu_account_reports" action="action_account_financial_report_tree"/>

        <record id="view_account_report_tree_hierarchy" model="ir.ui.view">
            <field name="name">account.report.hierarchy</field>
            <field name="model">account.financial.report</field>
            <field name="type">tree</field>
            <field name="field_parent">children_ids</field>
            <field name="arch" type="xml">
                <tree string="Account Reports Hierarchy">
                    <field name="name"/>
                    <field name="type"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="account_report_id"/>
                </tree>
            </field>
        </record>
        <record id="action_account_report_tree_hierarchy" model="ir.actions.act_window">
            <field name="name">Financial Reports Hierarchy</field>
            <field name="res_model">account.financial.report</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_account_report_tree_hierarchy"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>

        <menuitem id="menu_account_report_tree_hierarchy" name="Account Reports Hierarchy"
                  parent="menu_account_reports" action="action_account_report_tree_hierarchy"/>

    </data>
</openerp>
