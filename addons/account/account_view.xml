<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!--
     Fiscal Year
    -->

        <record id="view_account_fiscalyear_form" model="ir.ui.view">
            <field name="name">account.fiscalyear.form</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Fiscalyear">
                	<group>
                    <field name="name"/>
                    <field name="code"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="end_journal_period_id" groups="base.group_extended"/>
                    </group>
                    <separator colspan="4" string="Periods"/>
                    <field colspan="4" name="period_ids" nolabel="1" widget="one2many_list">
                        <form string="Period">
                            <field name="name" select="1"/>
                            <field name="code" select="1"/>
                            <field name="date_start"/>
                            <field name="date_stop"/>
                            <field name="special"/>
                        </form>
                    </field>
                    <separator colspan="4" string="States"/>
                    <group>
                    	<field name="state" select="1" readonly="1"/>
                        <button name="create_period" states="draft" string="Create Monthly Periods" type="object" icon="gtk-dnd"/>
                        <button name="create_period3" states="draft" string="Create 3 Months Periods" type="object" icon="gtk-dnd"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_account_fiscalyear_tree" model="ir.ui.view">
            <field name="name">account.fiscalyear.tree</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Fiscalyear">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_account_fiscalyear_search" model="ir.ui.view">
            <field name="name">account.fiscalyear.search</field>
            <field name="model">account.fiscalyear</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Fiscalyear">
                	<group>
                		<filter string="Done" domain="[('state','=','done')]" icon="terp-dolar_ok!"/>
                		<filter string="Draft" domain="[('state','=','draft')]" icon="terp-document-new"/>
                		<separator orientation="vertical"/>
	                    <field name="code"/>
	                    <field name="name"/>
	                    <field name="state"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    	<filter string="State" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="action_account_fiscalyear_form" model="ir.actions.act_window">
            <field name="name">Fiscal Years</field>
            <field name="res_model">account.fiscalyear</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,search</field>
        </record>
        <menuitem id="next_id_23" name="Periods" parent="account.menu_finance_accounting"/>
        <menuitem action="action_account_fiscalyear_form" id="menu_action_account_fiscalyear_form" parent="next_id_23"/>

        <!--
    Period
    -->
        <record id="res_role_period" model="res.roles">
            <field eval="&quot;&quot;&quot;Period&quot;&quot;&quot;" name="name"/>
        </record>

        <record id="view_account_period_form" model="ir.ui.view">
            <field name="name">account.period.form</field>
            <field name="model">account.period</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Period">
                    <field name="name" select="1"/>
                    <field name="code" select="1"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="fiscalyear_id"/>
                    <field name="special"/>
                    <separator colspan="4" string="States"/>
                    <field name="state" select="1"/>
                    <button name="action_draft" states="done" string="Set to Draft" type="object" icon="gtk-convert"/>
                </form>
            </field>
        </record>
        <record id="view_account_period_tree" model="ir.ui.view">
            <field name="name">account.period.tree</field>
            <field name="model">account.period</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Period">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="special"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="action_account_period_form" model="ir.actions.act_window">
            <field name="name">Periods</field>
            <field name="res_model">account.period</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_account_period_form" id="menu_action_account_period_form" parent="account.next_id_23"/>


        <!--
    Accounts
    -->

        <record id="view_account_form" model="ir.ui.view">
            <field name="name">account.account.form</field>
            <field name="model">account.account</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account">
                    <group col="6" colspan="4">
                    <field name="name" select="1" colspan="4"/>
                    <field name="code" select="1"/>
                    <field name="parent_id"/>
                    <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                    <field name="user_type" select="1"/>
                    </group>
                    <notebook colspan="4">
                        <page string="General Information">
                            <newline/>
                            <field name="currency_id"/>
                            <field name="currency_mode"/>
                            <field name="reconcile"/>
                            <field name="active"/>
                            <field name="check_history"/>
                            <field name="type" select="1"/>
                            <newline/>
                            <separator string="Default Taxes" colspan="4"/>
                            <field colspan="4" name="tax_ids" nolabel="1" domain="[('parent_id','=',False)]"/>
                            <separator string="Consolidated Children" colspan="4"/>
                            <field name="child_consol_ids" colspan="4" nolabel="1" attrs="{'readonly':[('type','!=','consolidation')]}"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_search" model="ir.ui.view">
            <field name="name">account.account.search</field>
            <field name="model">account.account</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Accounts">
                	<group col="10" colspan="4">
                        <filter icon="terp-sale" string="Receivable Accounts" domain="[('type','=','receivable')]"/>
                        <filter icon="terp-purchase" string="Purchase Accounts" domain="[('type','=','purchase')]"/>
                        <separator orientation="vertical"/>
	                    <field name="code"/>
	                    <field name="name"/>
	                    <field name="user_type"/>
	                    <field name="type"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    	<filter string="Parent Account" icon="terp-folder-orange" domain="" context="{'group_by':'parent_id'}"/>
                    	<separator orientation="vertical"/>
                    	<filter string="User Type" icon="terp-folder-blue" domain="" context="{'group_by':'user_type'}"/>
                    	<filter string="Internal Type" icon="terp-folder-yellow" domain="" context="{'group_by':'type'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_account_form" model="ir.actions.act_window">
            <field name="name">Accounts</field>
            <field name="res_model">account.account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
            <field name="search_view_id" ref="view_account_search"/>
        </record>
        <menuitem id="account_account_menu" name="Accounts" parent="menu_finance_accounting"/>
        <menuitem action="action_account_form" id="menu_action_account_form" parent="account_account_menu"/>

        <record id="view_account_tree" model="ir.ui.view">
            <field name="name">account.account.tree</field>
            <field name="model">account.account</field>
            <field name="type">tree</field>
            <field name="field_parent">child_id</field>
            <field name="arch" type="xml">
                <tree string="Chart of accounts" toolbar="1" colors="blue:type in ('view');black:type not in ('view')">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="parent_id" invisible="1"/>
                    <field name="user_type" invisible="1"/>
                    <field name="debit"/>
                    <field name="credit"/>
                    <field name="balance"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="company_currency_id"/>
                    <field name="type" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="action_account_tree" model="ir.actions.act_window">
            <field name="name">Chart of Accounts</field>
            <field name="res_model">account.account</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_account_tree"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>
<!--        <menuitem action="action_account_tree" id="menu_action_account_tree" parent="account.account_account_menu"/>-->

        <!--
    Journal

    Account Journal Columns
    -->

        <record id="view_journal_column_form" model="ir.ui.view">
            <field name="name">account.journal.column.form</field>
            <field name="model">account.journal.column</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Column">
                    <field colspan="4" name="name" select="1"/>
                    <field name="field" select="1"/>
                    <field name="sequence"/>
                    <newline/>
                    <field name="readonly"/>
                    <field name="required"/>
                </form>
            </field>
        </record>
        <record id="view_journal_column_tree" model="ir.ui.view">
            <field name="name">account.journal.column.tree</field>
            <field name="model">account.journal.column</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journal Column">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="required"/>
                    <field name="readonly"/>
                </tree>
            </field>
        </record>

        <record id="view_account_journal_view_form" model="ir.ui.view">
            <field name="name">account.journal.view.form</field>
            <field name="model">account.journal.view</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal View">
                    <field colspan="4" name="name" select="1"/>
                    <field colspan="4" name="columns_id" nolabel="1" widget="one2many_list"/>
                </form>
            </field>
        </record>

        <!--
    # Account Journal
    -->

        <record id="view_account_journal_tree" model="ir.ui.view">
            <field name="name">account.journal.tree</field>
            <field name="model">account.journal</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Journal">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="type" invisible="1"/>
                    <field name="user_id" invisible="1"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="view_account_journal_search" model="ir.ui.view">
            <field name="name">account.journal.search</field>
            <field name="model">account.journal</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <tree string="Search Account Journal">
                	<group>
					<filter domain="[('type', '=', 'sale')]" string="Sale Journals" icon="terp-sale"/>
					<filter domain="[('type', '=', 'purchase')]" string="Purchase Journals" icon="terp-purchase"/>
					<filter domain="[('centralisation', '=', 'True')]" string="Centralized Journals" icon="terp-stock"/>
					<separator orientation="vertical"/>
                    <field name="code"/>
                    <field name="name"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    <filter string="Type" context="{'group_by':'type'}" icon="terp-stock_effects-object-colorize"/>
                    <filter string="User" context="{'group_by':'user_id'}" icon="terp-personal"/>
                    </group>
                </tree>
            </field>
        </record>
        <record id="view_account_journal_form" model="ir.ui.view">
            <field name="name">account.journal.form</field>
            <field name="model">account.journal</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Journal">
                    <group colspan="4" col="6">
                        <field name="name" select="1"/>
                        <field name="code" select="1"/>
                        <field name="type" on_change="onchange_type(type)"/>
                        <field name="refund_journal" attrs="{'readonly':[('type','=','general'),('type','=','cash'),('type','=','situation')]}"/>
                    </group>
					    <notebook colspan="4">
                        <page string="General Information">
                            <group colspan="2" col="2">
                                <separator string="Journal View" colspan="4"/>
                                <field name="view_id" widget="selection"/>
                            </group>

                            <group colspan="2" col="2">
                                <separator string="Sequence" colspan="4"/>
                                <field name="sequence_id"/>
                            </group>

                            <group colspan="2" col="2">
                                <separator string="Accounts" colspan="4"/>
                                <field name="default_debit_account_id" attrs="{'required':[('type','=','cash')]}" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                                <field name="default_credit_account_id" attrs="{'required':[('type','=','cash')]}" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            </group>

							<group colspan="2" col="2">
                                <separator string="Validations" colspan="4"/>
                                <field name="allow_date" groups="base.group_extended"/>
                            </group>

                            <group colspan="2" col="2">
                                <separator string="Company" colspan="4"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                                <field name="user_id" groups="base.group_extended"/>
                                <field name="currency"/>
                            </group>

                            <group colspan="2" col="2">
                                <separator string="Other Configuration" colspan="4"/>
                                <field name="centralisation" groups="base.group_extended"/>
                                <field name="entry_posted"/>
	                            <group colspan="2" col="2">
	                                <separator string="Invoicing Data" colspan="4"/>
	                                <field name="invoice_sequence_id"/>
	                                <field name="group_invoice_lines"/>
	                            </group>
                            </group>
                        </page>
                        <page string="Entry Controls" groups="base.group_extended">
                            <separator colspan="4" string="Accounts Type Allowed (empty for no control)"/>
                            <field colspan="4" name="type_control_ids" nolabel="1"/>
                            <separator colspan="4" string="Accounts Allowed (empty for no control)"/>
                            <field colspan="4" name="account_control_ids" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <record id="action_account_journal_form" model="ir.actions.act_window">
            <field name="name">Journals</field>
            <field name="res_model">account.journal</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_account_journal_form" id="menu_action_account_journal_form" parent="account_account_menu"/>

        <record id="view_bank_statement_tree" model="ir.ui.view">
            <field name="name">account.bank.statement.tree</field>
            <field name="model">account.bank.statement</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="red:balance_end_real!=balance_end and state=='draft';blue:state=='draft' and (balance_end_real==balance_end);black:state=='confirm'" string="Statement">
                    <field name="date"/>
                    <field name="name"/>
                    <field name="journal_id"/>
                    <field name="period_id"/>
                    <field name="balance_start"/>
                    <field name="balance_end_real"/>
                    <field name="balance_end"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_bank_statement_search" model="ir.ui.view">
            <field name="name">account.bank.statement.search</field>
            <field name="model">account.bank.statement</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Bank Statements">
                	<group>
                		<filter string="Draft" domain="[('state','=','draft')]" icon="terp-document-new"/>
                		<filter string="Confirm" domain="[('state','=','confirm')]" icon="terp-camera_test"/>
                		<separator orientation="vertical"/>
	                    <field name="date"/>
	                    <field name="name"/>
	                    <field name="journal_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    	<filter string="Journal" context="{'group_by': 'journal_id'}" icon="terp-folder-orange"/>
                    	<filter string="Period" context="{'group_by': 'period_id'}" icon="terp-go-month"/>
                    	<filter string="State" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_bank_statement_form" model="ir.ui.view">
            <field name="name">account.bank.statement.form</field>
            <field name="model">account.bank.statement</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Statement">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="journal_id" on_change="onchange_journal_id(journal_id)"/>
                    <field name="currency"/>
                    <field name="period_id"/>
                    <group colspan="2" col="3">
<!--                        <button name="%(action_view_account_statement_from_invoice)d"-->
<!--                            string="Import Invoice" type="action" attrs="{'invisible':[('state','=','confirm')]}" icon="gtk-open"/>-->
                        <button name="button_import_invoice" string="Import Invoice" attrs="{'invisible':[('state','=','confirm')]}" type="object" icon="gtk-apply"/>
                    </group>
                    <newline/>
                    <field name="balance_start"/>
                    <field name="balance_end_real"/>
                    <notebook colspan="4">
                        <page string="Entry encoding">
                            <field colspan="4" name="line_ids" nolabel="1">
                                <tree editable="bottom" string="Statement lines">
                                    <field name="sequence" invisible="1"/>
                                    <field name="date"/>
                                    <field name="ref"/>
                                    <field name="name"/>
                                    <field name="type"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id, type, parent.currency)"/>
                                    <field domain="[('journal_id','=',parent.journal_id)]" name="account_id"/>
                                    <field name="amount"/>
                                    <field context="{'partner_id': partner_id, 'amount': amount, 'account_id': account_id, 'currency_id': parent.currency, 'journal_id': parent.journal_id, 'date':date}" name="reconcile_id"/>
                                    <field invisible="1" name="reconcile_amount"/>
                                </tree>
                                <form string="Statement lines">
                                    <field name="date"/>
                                    <field name="name"/>
                                    <field name="type"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id, type, parent.currency)"/>
                                    <field domain="[('journal_id', '=', parent.journal_id), ('type', '&lt;&gt;', 'view')]" name="account_id"/>
                                    <field name="amount"/>
                                    <field context="{'partner_id':partner_id,'amount':amount,'account_id':account_id,'currency_id': parent.currency,'journal_id':parent.journal_id, 'date':date}" name="reconcile_id"/>
                                    <field name="ref"/>
                                    <field name="sequence"/>
                                    <separator colspan="4" string="Notes"/>
                                    <field colspan="4" name="note" nolabel="1"/>
                                </form>
                            </field>
                        </page>
                        <page string="Real Entries">
                            <field colspan="4" name="move_line_ids" nolabel="1"/>
                        </page>
                    </notebook>
                    <group col="7" colspan="4">
                        <field name="state"/>
                        <field name="balance_end"/>
                        <button name="button_dummy" states="draft" string="Compute" icon="terp-stock_format-scientific"/>
                        <button name="button_confirm" states="draft" string="Confirm" type="object"  icon="terp-camera_test"/>
                        <button name="button_cancel" states="confirm" string="Cancel" type="object" icon="terp-gtk-stop"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="action_bank_statement_tree" model="ir.actions.act_window">
            <field name="name">Bank Statements</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem string="Bank Statements" action="action_bank_statement_tree" id="menu_bank_statement_tree" parent="menu_finance_bank_and_cash" sequence="7"/>

        <record id="action_bank_statement_draft_tree" model="ir.actions.act_window">
            <field name="name">Draft statements</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,search</field>
            <field name="domain">[('state','=','draft')]</field>
            <field name="filter" eval="True"/>
        </record>

        <record id="action_bank_statement_tree2" model="ir.actions.act_window">
            <field name="name">New Statement</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
        </record>

        <record id="view_bank_statement_reconcile" model="ir.ui.view">
            <field name="name">account.bank.statement.reconcile.form</field>
            <field name="model">account.bank.statement.reconcile</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Reconcile">
                    <field name="name" select="1"/>
                    <newline/>
                    <field name="total_second_amount"/>
                    <field name="total_second_currency"/>
                    <newline/>
                    <field name="total_amount"/>
                    <field name="total_currency"/>
                    <newline/>
                    <separator colspan="4" string="Entries"/>
                    <field colspan="4" domain="[('partner_id','=',context.get('partner_id', False)),('state','=','valid'),('account_id','=',context.get('account_id', False)),('reconcile_id', '=', False)]" name="line_ids" nolabel="1" view_mode="tree"/>
                    <field colspan="4" name="line_new_ids" nolabel="1">
                        <tree editable="bottom" string="Write-Off">
                            <field name="account_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            <field name="amount"/>
                            <field name="name"/>
                        </tree>
                    </field>
                    <group col="5" colspan="4">
                        <field name="total_entry"/>
                        <field name="total_new"/>
                        <field name="total_balance"/>
                        <button colspan="2" name="dummy" string="Compute" icon="terp-stock_format-scientific"/>
                    </group>
                </form>
            </field>
        </record>
        <!--
    Account Types
    -->
        <record id="view_account_type_tree" model="ir.ui.view">
            <field name="name">account.account.type.tree</field>
            <field name="model">account.account.type</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Type">
                    <field name="name"/>
                    <field name="code"/>
                </tree>
            </field>
        </record>
        <record id="view_account_type_form" model="ir.ui.view">
            <field name="name">account.account.type.form</field>
            <field name="model">account.account.type</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Type">
                    <group col="6" colspan="4">
                        <field name="name" select="1" colspan="4"/>
                        <field name="code" select="1"/>
                        <field name="sequence"/>
                        <field name="parent_id"/>
                        <field name="partner_account"/>
                    </group>
                    <group col="2" colspan="2">
                        <separator string="Reporting Configuration" colspan="4"/>
                        <field name="report_type" select="2"/>
                        <field name="sign"/>
                    </group>
                    <group col="2" colspan="2">
                        <separator string="Closing Method" colspan="4"/>
                        <field name="close_method"/>
                    </group>
                    <separator string="Description" colspan="4"/>
                    <field name="note" colspan="4" nolabel="1"/>
                </form>
            </field>
        </record>
        <record id="action_account_type_form" model="ir.actions.act_window">
            <field name="name">Account Types</field>
            <field name="res_model">account.account.type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_account_type_form" groups="base.group_extended" id="menu_action_account_type_form" parent="menu_low_level"/>
        <!--
    Entries
    -->
        <record id="view_account_move_tree" model="ir.ui.view">
            <field name="name">account.move.tree</field>
            <field name="model">account.move</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Accounting Entries">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="ref"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="partner_id"/>
                    <field name="amount"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <!--
    Reconcile
    -->

        <record id="view_move_reconcile_form" model="ir.ui.view">
            <field name="name">account.move.reconcile.form</field>
            <field name="model">account.move.reconcile</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Entry Reconcile">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="create_date" select="1"/>
                        <field name="type" select="1"/>
                    </group>
                    <separator colspan="4" string="Reconcile Entries"/>
                    <field colspan="4" name="line_id" nolabel="1"/>
                    <separator colspan="4" string="Partial Reconcile Entries"/>
                    <field colspan="4" name="line_partial_ids" nolabel="1"/>
                </form>
            </field>
        </record>

        <!--
    Tax Codes
    -->
        <record id="view_tax_code_tree" model="ir.ui.view">
            <field name="name">account.tax.code.tree</field>
            <field name="model">account.tax.code</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="priority">100</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Code" toolbar="1">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="sum"/>
                    <field name="sum_period"/>
                    <field name="company_id"/>
                </tree>
            </field>
        </record>
        <record id="view_tax_code_form" model="ir.ui.view">
            <field name="name">account.tax.code.form</field>
            <field name="model">account.tax.code</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Code">
                    <field name="name" select="1"/>
                    <field name="code" select="1"/>
                    <field name="company_id" select="1"/>
                    <field name="notprintable"/>
                    <field name="parent_id" select="1"/>
                    <field name="sign"/>
                    <newline/>
                    <field name="sum"/>
                    <field name="sum_period"/>
                    <newline/>
                    <separator string="Description" colspan="4"/>
                    <field colspan="4" name="info" nolabel="1"/>
                </form>
            </field>
        </record>
        <record id="action_tax_code_list" model="ir.actions.act_window">
            <field name="name">Tax codes</field>
            <field name="res_model">account.tax.code</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_tax_code_tree"/>
        </record>
       <menuitem id="next_id_27" name="Taxes" parent="account.menu_finance_accounting"/>
        <menuitem action="action_tax_code_list" id="menu_action_tax_code_list" parent="menu_low_level" sequence="12"/>


        <!--
    Tax
    -->
        <record id="view_tax_tree" model="ir.ui.view">
            <field name="name">account.tax.tree</field>
            <field name="model">account.tax</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Account Tax">
                    <field name="name"/>
                    <field name="price_include" groups="base.group_extended"/>
                    <field name="description"/>
                    <field name="tax_group" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_account_tax_search" model="ir.ui.view">
            <field name="name">account.tax.search</field>
            <field name="model">account.tax</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Taxes">
                    <group col="10" colspan="4">
                        <filter icon="terp-folder-blue" string="Vat Taxes" domain="[('tax_group','=','vat')]" help="Vat Taxes"/>
                        <filter icon="terp-folder-yellow" string="Other Taxes" domain="[('tax_group','=','other')]" help="Other Taxes"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="description"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter string="Tax Group" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'tax_group'}"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_tax_form" model="ir.ui.view">
            <field name="name">account.tax.form</field>
            <field name="model">account.tax</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax">
                    <group colspan="4" col="6">
                        <field name="name" select="1"/>
                        <field name="company_id" widget="selection" groups="base.group_multi_company"/>
                        <field name="description" select="1"/>
                        <field name="active"/>
                        <field name="tax_group" select="1"/>
                        <field name="type"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Tax Definition">
                            <field name="applicable_type"/>
                            <field name="amount" attrs="{'readonly':[('type','=','none'),('type','=','code')]}"/>
                            <field groups="base.group_extended" name="include_base_amount"/>
                            <field groups="base.group_extended" name="domain"/>
                            <newline/>
                            <field name="account_collected_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the income account"/>
                            <field name="account_paid_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the expense account"/>
                            <field groups="base.group_extended" name="child_depend"/>
                            <field groups="base.group_extended" name="sequence"/>
                            <field groups="base.group_extended" name="price_include"/>
                            <field name="type_tax_use"/>
                            <newline/>
                            <field colspan="4" groups="base.group_extended" name="child_ids"/>
                        </page>
                        <page string="Tax Declaration">
                            <separator colspan="4" string="Invoices"/>
                            <field name="base_code_id"/>
                            <field name="base_sign"/>
                            <field name="tax_code_id"/>
                            <field name="tax_sign"/>

                            <separator colspan="4" string="Credit Notes"/>
                            <field name="ref_base_code_id"/>
                            <field name="ref_base_sign"/>
                            <field name="ref_tax_code_id"/>
                            <field name="ref_tax_sign"/>
                        </page>
                        <page groups="base.group_extended" string="Special Computation">
                            <separator colspan="4" string="Compute Code (if type=code)"/>
                            <field colspan="4" name="python_compute" nolabel="1" attrs="{'readonly':[('type','!=','code')],'required':[('type','=','code')]}"/>
                            <separator colspan="4" string="Applicable Code (if type=code)"/>
                            <field colspan="4" name="python_applicable" nolabel="1" attrs="{'readonly':[('applicable_type','=','true')], 'required':[('applicable_type','=','code')]}"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <record id="action_tax_form" model="ir.actions.act_window">
            <field name="name">Taxes</field>
            <field name="res_model">account.tax</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_tax_tree"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>
        <menuitem action="action_tax_form" id="menu_action_tax_form" parent="next_id_27"/>

<!--       <wizard id="action_move_journal_line_form" menu="False" model="account.move.line" name="account.move.journal" string="Entries by Line"/-->

        <!--
    Entries lines
    -->

        <record id="view_move_line_tree" model="ir.ui.view">
            <field name="name">account.move.line.tree</field>
            <field name="model">account.move.line</field>
            <field name="type">tree</field>
            <field eval="4" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Account Entry Line" editable="top" on_write="on_create_write">
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="move_id"/>
                    <field name="ref"/>
                    <field name="invoice"/>
                    <field name="name"/>
                    <field name="partner_id" on_change="onchange_partner_id(move_id, partner_id, account_id, debit, credit, date, journal_id)"/>
                    <field name="account_id" domain="[('journal_id','=',journal_id)]"/>
                    <field name="journal_id"/>
                    <field name="debit" sum="Total debit"/>
                    <field name="credit" sum="Total credit"/>
                    <field name="account_tax_id" groups="base.group_extended"/>
                    <field name="analytic_account_id"/>
                    <field name="amount_currency" groups="base.group_extended"/>
                    <field name="currency_id" groups="base.group_extended"/>
                    <field name="state"/>
                    <field name="reconcile_id"/>
                    <field name="reconcile_partial_id" groups="base.group_extended"/>
                </tree>
            </field>
        </record>

        <record id="view_move_line_form" model="ir.ui.view">
            <field name="name">account.move.line.form</field>
            <field name="model">account.move.line</field>
            <field name="type">form</field>
            <field eval="2" name="priority"/>
            <field name="arch" type="xml">
                <form string="Account Entry Line">
                    <notebook>
                        <page string="Information">
                            <separator colspan="4" string="General Information"/>
                            <field name="name" select="1"/>
                            <field name="date" select="1"/>
                            <field name="ref"/>
                            <field name="invoice"/>
                            <field name="account_id" select="1" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            <field name="partner_id" select="1" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,date)"/>

                            <field name="debit"/>
                            <field name="credit"/>
                            <field name="company_id" required="1" groups="base.group_multi_company"/>

                            <separator colspan="4" string="Optional Information"/>
                            <field name="currency_id"/>
                            <field name="amount_currency"/>
                            <field name="quantity"/>
                            <field name="move_id" required="False"/>
                            <newline/>
                            <field name="statement_id"/>
                            <field name="blocked"/>
                            <field name="date_maturity"/>
                            <field name="date_created"/>
                            <newline/>
                            <field name="tax_code_id"/>
                            <field name="tax_amount"/>
                            <newline/>
                            <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                            <field name="analytic_account_id"/>

                            <separator colspan="4" string="State"/>
                            <field name="journal_id"/>
                            <field name="period_id"/>
                            <field name="reconcile_id"/>
                            <field name="reconcile_partial_id"/>
                            <field name="state"/>
                        </page>
                        <page string="Analytic Lines">
                            <field colspan="4" name="analytic_lines" nolabel="1" context="{'default_general_account_id':account_id, 'default_name': name, 'default_date':date, 'amount': (debit or 0.0)-(credit or 0.0)}"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>


        <record id="view_move_line_form2" model="ir.ui.view">
            <field name="name">account.move.line.form2</field>
            <field name="model">account.move.line</field>
            <field name="type">form</field>
            <field eval="9" name="priority"/>
            <field name="arch" type="xml">
                <form string="Account Entry Line">
                    <notebook>
                        <page string="Information">
                            <separator colspan="4" string="General Information"/>
                            <field name="name" select="1"/>
                            <field name="date"/>
                            <field name="journal_id" readonly="False" select="1"/>
                            <field name="period_id" readonly="False"/>
                            <field name="account_id" select="1" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                            <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,date)"/>
                            <newline/>
                            <field name="debit"/>
                            <field name="credit"/>

                            <separator colspan="4" string="Optional Information"/>
                            <field name="currency_id"/>
                            <field name="amount_currency"/>
                            <field name="quantity" select="3"/>
                            <field name="move_id" required="False"/>
                            <newline/>
                            <field name="date_maturity"/>
                            <field name="date_created"/>
                            <field name="date_created"/>
                            <field name="blocked" select="3"/>
                            <newline/>
                            <field name="account_tax_id" domain="[('parent_id','=',False)]"/>
                            <field name="analytic_account_id"/>
                            <separator colspan="4" string="State"/>
                            <newline/>
                            <field name="reconcile_id"/>
                            <field name="reconcile_partial_id"/>
                            <field name="state"/>
                        </page>
                        <page string="Analytic Lines">
                            <field colspan="4" name="analytic_lines" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_move_line_filter" model="ir.ui.view">
            <field name="name">Entry Lines</field>
            <field name="model">account.move.line</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Entry Lines">
                    <group col='10' colspan='4'>
                        <filter icon="terp-document-new" string="Draft" domain="[('state','=','draft')]" help="Draft Entry Lines"/>
                        <filter icon="terp-camera_test" string="Posted" domain="[('state','=','valid')]" help="Posted Entry Lines"/>
                        <separator orientation="vertical"/>
                        <field name="date" select='1'/>
                        <field name="account_id" select='1'/>
                        <field name="partner_id" select='1'>
                            <filter help="Next Partner Entries to reconcile" name="next_partner" string="Next Partner to reconcile" context="{'next_partner_only': 1}" icon="terp-partner" domain="[('account_id.reconcile','=',True),('reconcile_id','=',False)]"/>
                        </field>
                        <field name="balance" string="Debit/Credit" select='1'/>
                    </group>
                    <newline/>
                    <group col="10" colspan="4">
                        <field name="journal_id" widget="selection" context="{'journal_id':self, 'visible_id':self or 0, 'normal_view':False}"/>
                        <field name="period_id" widget="selection" context="{'period_id':self}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_move_line_select" model="ir.actions.act_window">
            <field name="name">Entry Lines</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
        </record>

        <record id="action_view_move_line" model="ir.actions.act_window">
            <field name="name">Lines to reconcile</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('account_id.reconcile', '=', True),('reconcile_id','=',False)]</field>
            <field eval="False" name="view_id"/>
            <field eval="True" name="filter"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
        </record>

        <!--
    Account.Entry Edition
    -->

        <record id="view_move_tree" model="ir.ui.view">
            <field name="name">account.move.tree</field>
            <field name="model">account.move</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Entry">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="ref"/>
                    <field name="journal_id"/>
                    <field name="period_id"/>
                    <field name="type" invisible=" not context.get('set_visible',True)"/>
                    <field name="partner_id"/>
                    <field name="line_id"/>
                    <field name="to_check" groups="base.group_extended"/>
                    <field name="amount"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_move_form" model="ir.ui.view">
            <field name="name">account.move.form</field>
            <field name="model">account.move</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Journal Entries">
                    <group colspan="4" col="6">
                        <field name="name" select="1" colspan="4" readonly="True"/>
                        <field name="journal_id" select="1"/>
                        <field name="period_id"/>
                        <field name="type"/>
                        <field name="ref" select="1"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Journal Entries Lines">
                            <field colspan="4" height="200" name="line_id" nolabel="1" widget="one2many_list" default_get="{'lines':line_id ,'journal':journal_id }">
                                <form string="Account Entry Line">
                                    <separator colspan="4" string="General Information"/>
                                    <field name="name" select="1"/>
                                    <field name="account_id" domain="[('journal_id','=',parent.journal_id)]"/>
                                    <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,parent.date,parent.journal_id)"/>

                                    <field name="debit" select="1"/>
                                    <field name="credit" select="1"/>
                                    <field name="date" select="1"/>

                                    <separator colspan="4" string="Optional Information"/>
                                    <field name="currency_id"/>
                                    <field name="amount_currency"/>
                                    <field name="quantity" select="1"/>
                                    <newline/>
                                    <field name="date_maturity"/>
                                    <field name="date_created"/>

                                    <separator colspan="4" string="State"/>
                                    <field name="reconcile_id"/>
                                    <field name="reconcile_partial_id"/>
                                    <field name="statement_id"/>
                                    <field name="state"/>
                                </form>
                                <tree editable="top" string="Account Entry Line">
                                    <field name="ref"/>
                                    <field name="invoice"/>
                                    <field name="name"/>
                                    <field name="partner_id" on_change="onchange_partner_id(False,partner_id,account_id,debit,credit,parent.date,parent.journal_id)"/>
                                    <field name="account_id" domain="[('journal_id','=',parent.journal_id)]"/>
                                    <field name="date_maturity"/>
                                    <field name="debit" sum="Total Debit"/>
                                    <field name="credit" sum="Total Credit"/>
                                    <field name="analytic_account_id"/>
                                    <field name="amount_currency" groups="base.group_extended"/>
                                    <field name="currency_id" groups="base.group_extended"/>
                                    <field name="tax_code_id"/>
                                    <field name="tax_amount"/>
                                    <field name="state"/>
                                    <field name="reconcile_id"/>
                                    <field name="reconcile_partial_id" groups="base.group_extended"/>
                                </tree>
                            </field>
                            <separator colspan="4" string="Narration"/>
                            <field name="narration" colspan="4" nolabel="1"/>
                            <field name="state" select="1"/>
                            <group col="2" colspan="2">
                                <button name="button_validate" states="draft" string="Validate" type="object" icon="terp-camera_test"/>
                                <button name="button_cancel" states="posted" string="Cancel" type="object" icon="terp-gtk-stop"/>
                            </group>
                        </page>
                        <page string="Other Information">
                            <field name="company_id" required="1" groups="base.group_multi_company"/>
                            <field name="date" select="1" groups="base.group_extended"/>
                            <field name="to_check" groups="base.group_extended"/>
                            <field name="partner_id" invisible="1" select="1"/>
                            <field name="amount" invisible="1" select="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_move_filter" model="ir.ui.view">
            <field name="name">account.move.select</field>
            <field name="model">account.move</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Move">
                    <group col='8' colspan='4'>
                        <filter icon="terp-document-new" string="Draft" domain="[('state','=','draft')]" help="Draft Move Lines"/>
                        <filter icon="terp-camera_test" string="Posted" domain="[('state','=','posted')]" help="Posted Move Lines"/>
                        <separator orientation="vertical"/>
                        <field name="date" select='1'/>
                        <field name="name" select='1'/>
                        <field name="journal_id" select='1'/>
                        <field name="partner_id" select='1'/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By..." colspan="12" col="10">
                        <filter string="Journal" icon="terp-folder-orange" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="Period" icon="terp-go-month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Type" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'type', 'set_visible':True}"/>
                        <filter string="States" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>


       <record id="action_move_journal_line" model="ir.actions.act_window">
            <field name="name">Journal Entries</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
        </record>

        <menuitem
            icon="STOCK_JUSTIFY_FILL"
            action="action_move_journal_line"
            id="menu_action_move_journal_line_form"
            parent="account.menu_finance_entries"
            sequence="5"/>

        <record id="action_move_line_form" model="ir.actions.act_window">
            <field name="name">Entries</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
        </record>

        <record id="action_move_to_review" model="ir.actions.act_window">
            <field name="name">Journal Entries to Review</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
            <field name="domain">[('to_check','=',True)]</field>
        </record>
        <menuitem action="action_move_to_review" id="menu_action_move_to_review" parent="periodical_processing_journal_entries_validation"/>
        <menuitem id="next_id_29" name="Search Entries" parent="account.menu_finance_entries" sequence="40"/>
        <menuitem action="action_move_line_form" id="menu_action_move_line_form" parent="next_id_29"/>

        <record id="action_move_line_form_encode_by_move" model="ir.actions.act_window">
            <field name="name">Journal Vouchers</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
        </record>

        <menuitem action="action_move_line_form_encode_by_move" id="menu_encode_entries_by_move" parent="menu_finance_entries"/>

        <record id="action_account_moves_sale" model="ir.actions.act_window">
            <field name="name">Journal Items</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="domain">[('journal_id.type', 'in', ['sale', 'sale_refund'])]</field>
        </record>

        <menuitem action="action_account_moves_sale" id="menu_eaction_account_moves_sale" parent="menu_finance_receivables"/>

        <record id="action_account_moves_purchase" model="ir.actions.act_window">
            <field name="name">Transaction Journal</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="domain">[('journal_id.type', 'in', ['purchase', 'purchase_refund'])]</field>
        </record>

        <menuitem action="action_account_moves_purchase" id="menu_eaction_account_moves_purchase" parent="menu_finance_payables"/>

        <record id="action_move_line_search" model="ir.actions.act_window">
            <field name="name">Entry Lines</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
        </record>
        <record id="action_move_line_search_view1" model="ir.actions.act_window.view">
            <field eval="10" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="act_window_id" ref="action_move_line_search"/>
        </record>
        <record id="action_move_line_search_view2" model="ir.actions.act_window.view">
            <field eval="11" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="act_window_id" ref="action_move_line_search"/>
        </record>
        <record id="action_move_line_search_view3" model="ir.actions.act_window">
            <field name="name">Cash Registers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="domain">[('journal_id.type', '=', 'cash')]</field>
        </record>
        <record id="action_move_line_search_view4" model="ir.actions.act_window">
            <field name="name">Check Registers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tree"/>
            <field name="search_view_id" ref="view_account_move_line_filter"/>
            <field name="domain">[('journal_id.type', '=', 'bank')]</field>
        </record>
        <menuitem action="action_move_line_search_view3" id="journal_cash_move_lines" parent="menu_finance_bank_and_cash"/>
        <menuitem action="action_move_line_search_view4" id="journal_bank_move_lines" parent="menu_finance_bank_and_cash"/>

        <menuitem action="action_move_line_search" id="menu_action_move_line_search" parent="account.next_id_29"/>

        <menuitem id="menu_finance_charts" name="Charts" parent="account.menu_finance" sequence="4"/>
    <!--    <wizard id="wizard_account_chart" menu="False" model="account.account" name="account.chart" string="Chart of Accounts"/>
        <menuitem icon="STOCK_INDENT" action="wizard_account_chart" id="menu_action_account_tree2" parent="account.menu_finance_charts" type="wizard"/>
 -->


        <record id="view_bank_statement_reconcile_form" model="ir.ui.view">
            <field name="name">account.bank.statement.reconcile.form</field>
            <field name="model">account.bank.statement</field>
            <field eval="30" name="priority"/>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Statement">
                    <field name="name" select="1"/>
                    <field name="date" select="1"/>
                    <field name="journal_id" on_change="onchange_journal_id(journal_id)" select="1"/>
                    <field name="currency"/>
                    <newline/>
                    <field name="balance_start"/>
                    <field name="balance_end_real"/>
                    <notebook colspan="4">
                        <page string="Select entries">
                            <field colspan="4" domain="[('statement_id', '=', False), ('journal_id', '=', journal_id)]" name="move_line_ids" nolabel="1" widget="many2many"/>
                        </page>
                        <page string="Entry encoding">
                            <separator colspan="4" string="Entry Lines"/>
                            <field name="period_id"/>
                            <field colspan="4" name="line_ids" nolabel="1">
                                <tree editable="bottom" string="Statement lines">
                                    <field name="date"/>
                                    <field name="name"/>
                                    <field name="type"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id, type, parent.currency)"/>
                                    <field domain="[('journal_id', '=', parent.journal_id)]" name="account_id"/>
                                    <field name="amount"/>
                                    <field context="{'partner_id': partner_id, 'amount': amount, 'account_id': account_id, 'date':date}" name="reconcile_id"/>
                                </tree>
                                <form string="Statement lines">
                                    <field name="date"/>
                                    <field name="name"/>
                                    <field name="type"/>
                                    <field name="partner_id" on_change="onchange_partner_id(partner_id, type, parent.currency)"/>
                                    <field domain="[('journal_id', '=', parent.journal_id)]" name="account_id"/>
                                    <field name="amount"/>
                                    <field context="{'partner_id': partner_id, 'amount': amount, 'account_id': account_id, 'date':date}" name="reconcile_id"/>
                                </form>
                            </field>
                        </page>
                    </notebook>
                    <group col="7" colspan="4">
                        <field name="state"/>
                        <field name="balance_end"/>
                        <button name="button_dummy" states="draft" string="Compute" icon="terp-stock_format-scientific"/>
                        <button name="button_confirm" states="draft" string="Confirm" type="object" icon="terp-camera_test"/>
                        <button name="button_cancel" states="confirm" string="Cancel" type="object" icon="terp-gtk-stop"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="action_bank_statement_reconciliation_form" model="ir.actions.act_window">
            <field name="name">Statements reconciliation</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="view_id" ref="view_bank_statement_reconcile_form"/>
        </record>
        <!-- <menuitem
            id="next_id_30"
            name="Bank Reconciliation"
            parent="menu_finance_periodical_processing"
            groups="group_account_user"/> -->

<!--        <menuitem action="action_bank_statement_reconciliation_form" id="menu_action_account_bank_reconcile_tree" parent="next_id_30"/>-->
  <!--        <wizard id="action_account_bank_reconcile_tree" menu="False" model="account.move.line" name="account.move.bank.reconcile" string="Bank reconciliation"/> -->
    <!--     <menuitem action="action_account_bank_reconcile_tree" id="menu_action_account_bank_reconcile_check_tree" parent="account.next_id_30" type="wizard"/>   -->

<!--  bank reconsilation  -->
        <menuitem action="action_account_bank_reconcile_tree"
            id="menu_action_account_bank_reconcile_check_tree"
            parent="periodical_processing_reconciliation" groups="group_account_user" />

		<act_window
			context="{'search_default_next_partner':1}"
            id="action_account_manual_reconcile" name="Entry Lines"
            res_model="account.move.line"
            />

 	   <menuitem
 	   		name="Manual Reconcilication" icon="STOCK_EXECUTE"
 	   		action="action_account_manual_reconcile"
 			id="menu_manual_reconcile"
 			parent="account.periodical_processing_reconciliation"/>


        <act_window
            domain="[('account_id', '=', active_id)]"
            id="act_account_acount_move_line_open"
            name="Entries"
            context="{'account_id': active_id}"
            res_model="account.move.line"
            src_model="account.account"/>

        <act_window
            domain="[('account_id', '=', active_id),('reconcile_id','=',False)]"
            id="act_account_acount_move_line_open_unreconciled"
            name="Unreconciled entries"
            res_model="account.move.line"
            context="{'account_id': active_id}"
            src_model="account.account"/>

        <act_window domain="[('reconcile_id', '=', active_id)]" id="act_account_acount_move_line_reconcile_open" name="Reconciled entries" res_model="account.move.line" src_model="account.move.reconcile"/>


        <!--
    TODO:
        Print Journal (and change state)
        Close Journal (and verify that there is no draft Entry Lines)
-->

        <record id="view_journal_period_tree" model="ir.ui.view">
            <field name="name">account.journal.period.tree</field>
            <field name="model">account.journal.period</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Journals">
                    <field icon="icon" name="fiscalyear_id"/>
                    <field name="period_id"/>
                    <field name="journal_id"/>
                    <field name="state"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="action_account_journal_period_tree" model="ir.actions.act_window">
            <field name="name">Journals</field>
            <field name="res_model">account.journal.period</field>
            <field name="view_type">tree</field>
        </record>
        <menuitem action="action_account_journal_period_tree" id="menu_action_account_journal_period_tree" parent="account.menu_finance_generic_reporting" sequence="2"/>


        <!--
    # Account Models
-->

        <record id="view_model_line_tree" model="ir.ui.view">
            <field name="name">account.model.line.tree</field>
            <field name="model">account.model.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entry Model Line">
                    <field name="sequence"/>
                    <field name="ref"/>
                    <field name="name"/>
                    <field name="account_id"/>
                    <field name="partner_id"/>
                    <field name="debit"/>
                    <field name="credit"/>
                </tree>
            </field>
        </record>


        <record id="view_model_line_form" model="ir.ui.view">
            <field name="name">account.model.line.form</field>
            <field name="model">account.model.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entry Model Line">
                    <field colspan="4" name="name" select="1"/>
                    <field name="sequence"/>
                    <field name="ref" select="1"/>
                    <field name="account_id" domain="[('type','&lt;&gt;','view'),('type','&lt;&gt;','consolidation')]"/>
                    <field name="partner_id"/>
                    <field name="debit" select="1"/>
                    <field name="credit" select="1"/>
                    <field name="quantity"/>
                    <newline/>
                    <field name="date"/>
                    <field name="date_maturity"/>
                </form>
            </field>
        </record>

        <record id="view_model_form" model="ir.ui.view">
            <field name="name">account.model.form</field>
            <field name="model">account.model</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entry Model">
                    <field name="name" select="1"/>
                    <field name="ref" select="1"/>
                    <field name="journal_id" select="1"/>
                    <field colspan="4" name="lines_id" widget="one2many_list" nolabel="1"/>
                    <separator string="Legend" colspan="4"/>
                    <field name="legend" colspan="4" nolabel="1"/>
                    <group col="1" colspan="4">
                        <button name="%(action_account_use_model_create_entry)d" string="Create entries" type="action" icon="gtk-execute"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_model_tree" model="ir.ui.view">
            <field name="name">account.model.tree</field>
            <field name="model">account.model</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entry Model">
                    <field name="name"/>
                    <field name="journal_id"/>
                </tree>
            </field>
        </record>
        <record id="action_model_form" model="ir.actions.act_window">
            <field name="name">Define Models</field>
            <field name="res_model">account.model</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_model_form" id="menu_action_model_form" parent="account.menu_finance_recurrent_entries"/>


        <!--
    # Payment Terms
-->

        <record id="view_payment_term_line_tree" model="ir.ui.view">
            <field name="name">account.payment.term.line.tree</field>
            <field name="model">account.payment.term.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Payment Term">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="value"/>
                    <field name="value_amount"/>
                    <field name="days"/>
                    <field name="days2"/>
                </tree>
            </field>
        </record>


        <record id="view_payment_term_line_form" model="ir.ui.view">
            <field name="name">account.payment.term.line.form</field>
            <field name="model">account.payment.term.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Payment Term">
                    <field name="name" select="1"/>
                    <field name="sequence"/>
                    <field name="value"/>
                    <field name="value_amount" attrs="{'readonly':[('value','=','balance')]}"/>
                    <newline/>
                    <field name="days"/>
                    <field name="days2"/>
                </form>
            </field>
        </record>

        <record id="view_payment_term_form" model="ir.ui.view">
            <field name="name">account.payment.term.form</field>
            <field name="model">account.payment.term</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Payment Term">
                    <separator colspan="4" string="Information"/>
                    <field name="name" select="1"/>
                    <field name="active" select="1"/>
                    <separator colspan="4" string="Description on invoices"/>
                    <field colspan="4" name="note" nolabel="1"/>
                    <separator colspan="4" string="Computation"/>
                    <field colspan="4" name="line_ids" nolabel="1"/>
                </form>
            </field>
        </record>
<!--        <record id="view_account_move_line_filter" model="ir.ui.view">-->
<!--            <field name="name">Payment Terms</field>-->
<!--            <field name="model">account.payment.term</field>-->
<!--            <field name="type">search</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <search string="Search Payment Terms">-->
<!--                    <group col='10' colspan='4'>-->
<!--                        <filter icon="terp-document-new" string="Draft" domain="[('state','=','draft')]" help="Draft Entry Lines"/>-->
<!--                        <filter icon="terp-camera_test" string="Posted" domain="[('state','=','valid')]" help="Posted Entry Lines"/>-->
<!--                        <separator orientation="vertical"/>-->
<!--                        <field name="date" select='1'/>-->
<!--                        <field name="account_id" select='1'/>-->
<!--                        <field name="partner_id" select='1'>-->
<!--                        	<filter help="Next Partner Entries to reconcile" name="next_partner" string="Next Partner to reconcile" context="{'next_partner_only': 1}" icon="terp-partner" domain="[('account_id.reconcile','=',True),('reconcile_id','=',False)]"/>-->
<!--                        </field>-->
<!--                        <field name="balance" string="Debit/Credit" select='1'/>-->
<!--                    </group>-->
<!--                </search>-->
<!--            </field>-->
<!--        </record>-->
        <record id="action_payment_term_form" model="ir.actions.act_window">
            <field name="name">Payment Terms</field>
            <field name="res_model">account.payment.term</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_payment_term_form" id="menu_action_payment_term_form" parent="menu_configuration_misc"/>

        <!--
    # Account Subscriptions
-->

        <record id="view_subscription_line_form" model="ir.ui.view">
            <field name="name">account.subscription.line.form</field>
            <field name="model">account.subscription.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Subscription lines">
                    <field name="date"/>
                    <field name="move_id"/>
                </form>
            </field>
        </record>

        <record id="view_subscription_line_tree" model="ir.ui.view">
            <field name="name">account.subscription.line.tree</field>
            <field name="model">account.subscription.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Subscription lines">
                    <field name="date"/>
                    <field name="move_id"/>
                </tree>
            </field>
        </record>

        <record id="view_subscription_tree" model="ir.ui.view">
            <field name="name">account.subscription.tree</field>
            <field name="model">account.subscription</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entry Subscription">
                    <field name="ref"/>
                    <field name="name"/>
                    <field name="date_start"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_subscription_form" model="ir.ui.view">
            <field name="name">account.subscription.form</field>
            <field name="model">account.subscription</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entry Subscription">
                    <field name="name" select="1"/>
                    <field name="ref" select="1"/>

                    <separator colspan="4" string="Subscription Periods"/>
                    <field name="date_start" select="1"/>
                    <field name="period_total"/>

                    <field name="period_nbr"/>
                    <field name="period_type"/>
                    <field name="model_id"/>
                    <group col="2" colspan="2">
                        <button name="compute" states="draft,running" string="Compute" type="object" icon="terp-stock_format-scientific"/>
                        <button name="remove_line" states="running" string="Remove Lines" type="object" icon="gtk-remove"/>
                    </group>
                    <separator colspan="4" string="Subscription Lines"/>
                    <field colspan="4" name="lines_id" widget="one2many_list" nolabel="1"/>

                    <separator colspan="4" string="State"/>
                    <field name="state"/>
                    <group col="1" colspan="2">
                        <button name="state_draft" states="done" string="Set to Draft" type="object"  icon="gtk-convert" />
                    </group>
                </form>
            </field>
        </record>
        <record id="action_subscription_form" model="ir.actions.act_window">
            <field name="name">Subscription Entries</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
<!--        <menuitem action="action_subscription_form" id="menu_action_subscription_form" parent="account.menu_finance_recurrent_entries"/>-->

        <record id="action_subscription_form_running" model="ir.actions.act_window">
            <field name="name">Running Subscriptions</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state','=','running')]</field>
            <field name="filter" eval="True"/>
        </record>

        <record id="action_subscription_form_new" model="ir.actions.act_window">
            <field name="name">New Subscription</field>
            <field name="res_model">account.subscription</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="view_id" ref="view_subscription_form"/>
        </record>

        <record id="view_subscription_line_form_complete" model="ir.ui.view">
            <field name="name">account.subscription.line.form</field>
            <field name="model">account.subscription.line</field>
            <field name="type">form</field>
            <field eval="20" name="priority"/>
            <field name="arch" type="xml">
                <form string="Subscription lines">
                    <field name="subscription_id"/>
                    <field name="date"/>
                    <field name="move_id"/>
                </form>
            </field>
        </record>

        <record id="action_move_line_tree1" model="ir.actions.act_window">
            <field name="name">Entry Lines</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('account_id','child_of', [active_id]),('state','&lt;&gt;','draft')]</field>
            <field name="context">{'account_id':active_id}</field>
        </record>
<!--        <wizard id="wizard_move_line_select" menu="False" model="account.move.line" name="account.move.line.select" string="Move line select"/>-->
<!--        <record id="ir_open_account_account" model="ir.values">-->
<!--            <field eval="'tree_but_open'" name="key2"/>-->
<!--            <field eval="'account.account'" name="model"/>-->
<!--            <field name="name">Account Entries</field>-->
<!--            <field eval="'ir.actions.wizard,%d'%wizard_move_line_select" name="value"/>-->
<!--            <field eval="True" name="object"/>-->
<!--        </record>-->


        <record id="view_move_line_tax_tree" model="ir.ui.view">
            <field name="name">account.move.line.tax.tree</field>
            <field name="model">account.move.line</field>
            <field name="type">tree</field>
            <field eval="4" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Account Entry Line">
                    <field name="date"/>
                    <field name="move_id"/>
                    <field name="statement_id" string="St."/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="account_id"/>
                    <field name="tax_code_id"/>
                    <field name="tax_amount"/>
                    <field name="debit" sum="Total debit"/>
                    <field name="credit" sum="Total credit"/>
                    <field name="account_tax_id"/>
                    <field name="analytic_account_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="action_tax_code_line_open" model="ir.actions.act_window">
            <field name="name">Account Entry Lines</field>
            <field name="res_model">account.move.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_line_tax_tree"/>
            <field name="domain">[('tax_code_id','=',active_id),('state','&lt;&gt;','draft')]</field>
        </record>
        <record id="ir_open_tax_move_line" model="ir.values">
            <field name="key2">tree_but_open</field>
            <field name="model">account.tax.code</field>
            <field name="name">Tax Details</field>
            <field eval="'ir.actions.act_window,%d'%action_tax_code_line_open" name="value"/>
            <field eval="True" name="object"/>
        </record>


        <!--
    # Admin config
    -->

        <act_window domain="[('journal_id', '=', active_id)]" id="act_account_journal_2_account_bank_statement" name="Bank statements" res_model="account.bank.statement" src_model="account.journal"/>

        <act_window domain="[('journal_id', '=', active_id)]" id="act_account_journal_2_account_move_line" name="Entry lines" res_model="account.move.line" src_model="account.journal"/>

        <act_window domain="[('partner_id', '=', active_id), ('account_id.type', 'in', ['receivable', 'payable']), ('reconcile_id','=',False)]" id="act_account_partner_account_move_unreconciled" name="Unreconciled Receivables &amp; Payables" res_model="account.move.line" src_model="res.partner"/>

        <act_window domain="[('partner_id', '=', active_id), ('account_id.type', 'in', ['receivable', 'payable'])]" id="act_account_partner_account_move_all" name="Receivables &amp; Payables" res_model="account.move.line" src_model="res.partner"/>

        <act_window domain="[('partner_id', '=', active_id)]" id="act_account_partner_account_move" name="All Account Entries" res_model="account.move.line" src_model="res.partner"/>

        <record id="view_account_addtmpl_wizard_form" model="ir.ui.view">
            <field name="name">Create Account</field>
            <field name="model">account.addtmpl.wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Create Account">
                    <separator col="4" colspan="4" string="Create an Account based on this template"/>
                    <field name="cparent_id"/>
                    <newline/>
                    <group col="2" colspan="2">
                        <button icon="gtk-cancel" special="cancel" string="Cancel" name="action_cancel" type="object"/>
                        <button icon="gtk-ok" name="action_create" string="Add" type="object"/>
                    </group>
                </form>
            </field>
        </record>

        <act_window domain="[]" id="action_account_addtmpl_wizard_form"
            name="Create Account"
            target="new"
            res_model="account.addtmpl.wizard"
            context="{'tmpl_ids': active_id}"
            src_model="account.account.template"
            view_type="form" view_mode="form"/>

        <!-- Account Templates -->
        <menuitem
            id="account_template_folder"
            name="Templates"
            parent="menu_finance_accounting"
            groups="base.group_multi_company"/>
        <menuitem
            id="account_template_taxes"
            name="Taxes"
            parent="account_template_folder"
            groups="base.group_multi_company" sequence="2"/>
        <menuitem
            id="account_template_accounts"
            name="Accounts"
            parent="account_template_folder"
            groups="base.group_multi_company" sequence="1"/>


        <record id="view_account_template_form" model="ir.ui.view">
            <field name="name">account.account.template.form</field>
            <field name="model">account.account.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Template">
                    <notebook>
                        <page string="General Information">
                            <field name="name"/>
                            <field name="code"/>
                            <newline/>
                            <field name="parent_id"/>
                            <field name="shortcut"/>
                            <field name="type"/>
                            <field name="user_type"/>

                            <field name="currency_id"/>
                            <field name="reconcile"/>
                            <separator string="Default taxes" colspan="4"/>
                            <field name="tax_ids" colspan="4" nolabel="1"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="view_account_template_tree" model="ir.ui.view">
            <field name="name">account.account.template.tree</field>
            <field name="model">account.account.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Template">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="type" invisible="1"/>
                    <field name="user_type" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="view_account_template_search" model="ir.ui.view">
            <field name="name">account.account.template.search</field>
            <field name="model">account.account.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Account Templates">
                	<group>
                		<filter icon="terp-sale" string="Receivale Accounts" domain="[('type','=','receivable')]"/>
                     	<filter icon="terp-purchase" string="Payable Accounts" domain="[('type','=','payable')]"/>
                     	<separator orientation="vertical"/>
                     	<field name="code"/>
                        <field name="parent_id"/>
                        <field name="type"/>
                        <field name="user_type"/>
                	</group>
                	<newline/>
                	<group expand="0" string="Group By...">
                        <filter string="Internal Type" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'type'}"/>
                        <filter string="Account Type" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'user_type'}"/>
                   </group>
                </search>
            </field>
        </record>

        <record id="action_account_template_form" model="ir.actions.act_window">
            <field name="name">Account Templates</field>
            <field name="res_model">account.account.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,search</field>
        </record>


        <menuitem action="action_account_template_form" id="menu_action_account_template_form" parent="account_template_accounts"/>

        <!-- Chart of Accounts Templates -->

        <record id="view_account_chart_template_form" model="ir.ui.view">
            <field name="name">account.chart.template.form</field>
            <field name="model">account.chart.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Chart of Accounts Template">
                	<group>
                    <field name="name"/>
                    <field name="account_root_id"/>
                    <field name="bank_account_view_id"/>
                    <field name="tax_code_root_id"/>
                    </group>
                    <field name="tax_template_ids" colspan="4" readonly="1" nolabel="1"/>
                    <separator string="Properties" colspan="4"/>
                    <group>
                    <field name="property_account_receivable"/>
                    <field name="property_account_payable"/>
                    <field name="property_account_expense_categ" />
                    <field name="property_account_income_categ"/>
                    <field name="property_account_expense"/>
                    <field name="property_account_income"/>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_account_chart_template_seacrh" model="ir.ui.view">
            <field name="name">account.chart.template.search</field>
            <field name="model">account.chart.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Chart of Account Templates">
                	  <group>
                	  	<field name="name"/>
    	                <field name="account_root_id"/>
	                    <field name="bank_account_view_id"/>
                	  </group>
                	  <newline/>
                      <group expand="0" string="Group By...">
                        <filter string="Root Account" icon="terp-folder-orange" domain="[]" context="{'group_by':'account_root_id'}"/>
                        <filter string="Bank Account" icon="terp-folder-blue" domain="[]" context="{'group_by':'bank_account_view_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Receivable Account" icon="terp-sale" domain="[]" context="{'group_by':'property_account_receivable'}"/>
                        <filter string="Payable Account" icon="terp-purchase" domain="[]" context="{'group_by':'property_account_payable'}"/>
						<separator orientation="vertical"/>
                        <filter string="Income Account" icon="terp-sale" domain="[]" context="{'group_by':'property_account_income_categ'}"/>
                        <filter string="Expense Account" icon="terp-purchase" domain="[]" context="{'group_by':'property_account_expense_categ'}"/>
                      </group>
                </search>
            </field>
        </record>
        <record id="view_account_chart_template_tree" model="ir.ui.view">
            <field name="name">account.chart.template.tree</field>
            <field name="model">account.chart.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Chart of Accounts Template">
                    <field name="name"/>
                    <field name="account_root_id"/>
                    <field name="tax_code_root_id"/>
                    <field name="bank_account_view_id"/>
                    <field name="property_account_receivable" invisible="1"/>
                    <field name="property_account_payable" invisible="1"/>
                    <field name="property_account_expense_categ" invisible="1"/>
                    <field name="property_account_income_categ" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="action_account_chart_template_form" model="ir.actions.act_window">
            <field name="name">Chart of Accounts Templates</field>
            <field name="res_model">account.chart.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,search</field>
        </record>

        <menuitem action="action_account_chart_template_form" id="menu_action_account_chart_template_form" parent="account_template_accounts"/>

        <!-- Account Tax Templates -->

        <record id="view_account_tax_template_form" model="ir.ui.view">
            <field name="name">account.tax.template.form</field>
            <field name="model">account.tax.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Template">
                    <group colspan="4">
                        <field name="name"/>
                        <field name="description"/>
                        <newline/>
                        <field name="chart_template_id"/>
                        <field name="tax_group"/>
                        <field name="type"/>
                        <field name="type_tax_use"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Tax Definition">
                            <field name="applicable_type"/>
                            <field name="amount" attrs="{'readonly':[('type','=','none'),('type','=','code')]}"/>
                            <field groups="base.group_extended" name="include_base_amount"/>
                            <field groups="base.group_extended" name="domain"/>
                            <newline/>
                            <field name="account_collected_id"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the income account"/>
                            <field name="account_paid_id"/>
                            <label colspan="2" nolabel="1" string="Keep empty to use the expense account"/>
                            <field groups="base.group_extended" name="child_depend"/>
                            <field groups="base.group_extended" name="sequence"/>
                        </page>
                        <page string="Tax Declaration">
                            <separator colspan="4" string="Invoices"/>
                            <field name="base_code_id"/>
                            <field name="base_sign"/>
                            <field name="tax_code_id"/>
                            <field name="tax_sign"/>

                            <separator colspan="4" string="Credit Notes"/>
                            <field name="ref_base_code_id"/>
                            <field name="ref_base_sign"/>
                            <field name="ref_tax_code_id"/>
                            <field name="ref_tax_sign"/>
                        </page>
                        <page groups="base.group_extended" string="Special Computation">
                            <separator colspan="4" string="Compute Code (if type=code)"/>
                            <field colspan="4" name="python_compute" nolabel="1" attrs="{'readonly':[('type','!=','code')]}"/>
                            <separator colspan="4" string="Compute Code for Taxes included prices"/>
                            <field colspan="4" name="python_compute_inv" nolabel="1"/>
                            <separator colspan="4" string="Applicable Code (if type=code)"/>
                            <field colspan="4" name="python_applicable" nolabel="1" attrs="{'readonly':[('applicable_type','=','true')]}"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <record id="view_account_tax_template_tree" model="ir.ui.view">
            <field name="name">account.tax.template.tree</field>
            <field name="model">account.tax.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Template">
                    <field name="name" />
                    <field name="description"/>
                </tree>
            </field>
        </record>
        <record id="view_account_tax_template_search" model="ir.ui.view">
            <field name="name">account.tax.template.search</field>
            <field name="model">account.tax.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Tax Templates">
                    <group col="10" colspan="4">
                        <filter icon="terp-sale" string="Sale" domain="[('type_tax_use','=','sale')]" help="Taxes used in Sales"/>
                        <filter icon="terp-purchase" string="Purchase" domain="[('type_tax_use','=','purchase')]" help="Taxes used in Purchases"/>
                        <separator orientation="vertical"/>
                        <filter icon="terp-folder-blue" string="Vat Taxes" domain="[('tax_group','=','vat')]" help="Vat Taxes"/>
                        <filter icon="terp-folder-yellow" string="Other Taxes" domain="[('tax_group','=','other')]" help="Other Taxes"/>
                        <separator orientation="vertical"/>
                        <field name="name"/>
                        <field name="description"/>
                        <field name="chart_template_id"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_account_tax_template_form" model="ir.actions.act_window">
            <field name="name">Tax Templates</field>
            <field name="res_model">account.tax.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem action="action_account_tax_template_form" id="menu_action_account_tax_template_form" parent="account_template_taxes" sequence="13"/>

        <!-- Account Tax Code Templates -->
        <record id="view_tax_code_template_tree" model="ir.ui.view">
            <field name="name">account.tax.code.template.tree</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Account Tax Code Template" toolbar="1">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="parent_id" invisible="1"/>
                </tree>
            </field>
        </record>

		<record id="view_tax_code_template_search" model="ir.ui.view">
            <field name="name">account.tax.code.template.search</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search tax template">
                	<group>
	                	<field name="name"/>
	                    <field name="code"/>
	                    <field name="parent_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By...">
                    	<filter string="Parent Code" icon="terp-folder-orange" domain="[]" context="{'group_by':'parent_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_tax_code_template_form" model="ir.ui.view">
            <field name="name">account.tax.code.template.form</field>
            <field name="model">account.tax.code.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Account Tax Code Template">
                    <field name="name" select="1"/>
                    <field name="code" select="1"/>
                    <field name="parent_id" select="1"/>
                    <field name="sign"/>
                    <newline/>
                    <separator string="Description" colspan="4"/>
                    <field colspan="4" name="info" nolabel="1"/>
                </form>
            </field>
        </record>

        <record id="action_account_tax_code_template_form" model="ir.actions.act_window">
            <field name="name">Tax Code Templates</field>
            <field name="res_model">account.tax.code.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,search</field>
        </record>
        <menuitem action="action_account_tax_code_template_form" id="menu_action_account_tax_code_template_form" parent="account_template_taxes" sequence="14"/>


        <!--  Wizard for Multi Charts of Accounts -->

        <record id="view_wizard_multi_chart" model="ir.ui.view">
            <field name="name">Generate Chart of Accounts from a Chart Template</field>
            <field name="model">wizard.multi.charts.accounts</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="base.res_config_view_base"/>
            <field name="arch" type="xml">
              <data>
                <form position="attributes">
                  <attribute name="string">Generate Chart of Accounts from a Chart Template</attribute>
                </form>
                <separator string="title" position="attributes">
                <attribute name="string"
                       >Generate Chart of Accounts from a Chart Template</attribute>
                  </separator>
                  <xpath expr="//label[@string='description']" position="attributes">
                    <attribute name="string">This will automatically configure your chart of accounts, bank accounts, taxes and journals according to the selected template</attribute>
                    <attribute name="width">150</attribute>
                  </xpath>
                  <xpath expr='//separator[@string="vsep"]' position='attributes'>
                          <attribute name='rowspan'>15</attribute>
                          <attribute name='string'></attribute>
                  </xpath>
                <group string="res_config_contents" position="replace">
                  <field name="company_id"  widget="selection"
                         />
                  <field name ="code_digits" />
                  <field name="chart_template_id"/>
                  <field name ="seq_journal" />
                  <field colspan="4" mode="tree" name="bank_accounts_id"
                         nolabel="1" widget="one2many_list">
                    <form string="Bank Information">
                      <field name="acc_name"/>
                      <field name="account_type"/>
                      <field name="currency_id" widget="selection"/>
                    </form>
                    <tree editable="bottom" string="Bank Information">
                      <field name="acc_name"/>
                      <field name="account_type"/>
                      <field name="currency_id" widget="selection"/>
                    </tree>
                  </field>
                </group>
              </data>
            </field>
        </record>

        <record id="action_wizard_multi_chart" model="ir.actions.act_window">
            <field name="name">Generate Chart of Accounts from a Chart Template</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">wizard.multi.charts.accounts</field>
            <field name="view_id" ref="view_wizard_multi_chart"/>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <menuitem parent="account.account_template_folder" action="action_wizard_multi_chart" id="menu_wizard"/>

        <record id="account_account_graph" model="ir.ui.view">
            <field name="name">account.account.graph</field>
            <field name="model">account.account</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Account Statistics" type="bar">
                    <field name="name"/>
                    <field name="balance" operator="+"/>
                </graph>
            </field>
         </record>

         <!-- Fiscal Position Templates -->

        <record id="view_account_position_template_form" model="ir.ui.view">
            <field name="name">account.fiscal.position.template.form</field>
            <field name="model">account.fiscal.position.template</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Fiscal Position Template">
                    <field name="name" select="1"/>
                    <field name="chart_template_id"/>
                    <newline/>
                    <field name="tax_ids" colspan="4" nolabel="1">
                        <tree string="Taxes Mapping" editable="bottom">
                            <field name="tax_src_id" domain="[('parent_id','=',False)]"/>
                            <field name="tax_dest_id" domain="[('parent_id','=',False)]"/>
                        </tree>
                        <form string="Taxes Mapping">
                            <field name="tax_src_id" domain="[('parent_id','=',False)]"/>
                            <field name="tax_dest_id" domain="[('parent_id','=',False)]"/>
                        </form>
                    </field>
                    <field name="account_ids" colspan="4" nolabel="1">
                        <tree string="Accounts Mapping" editable="bottom">
                            <field name="account_src_id"/>
                            <field name="account_dest_id"/>
                        </tree>
                        <form string="Accounts Mapping">
                            <field name="account_src_id"/>
                            <field name="account_dest_id"/>
                        </form>
                    </field>
                </form>
            </field>
        </record>
        <record id="view_account_position_template_tree" model="ir.ui.view">
            <field name="name">account.fiscal.position.template.tree</field>
            <field name="model">account.fiscal.position.template</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Fiscal Position">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="action_account_fiscal_position_template_form" model="ir.actions.act_window">
            <field name="name">Fiscal Position Templates</field>
            <field name="res_model">account.fiscal.position.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem
            action="action_account_fiscal_position_template_form"
            id="menu_action_account_fiscal_position_form_template"
            parent="account_template_folder" sequence="20"/>

        <record id="action_move_journal_line" model="ir.actions.act_window">
            <field name="name">Journal Entries</field>
            <field name="res_model">account.move</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_move_tree"/>
            <field name="search_view_id" ref="view_account_move_filter"/>
        </record>

        <menuitem
            icon="STOCK_JUSTIFY_FILL"
            action="action_move_journal_line"
            id="menu_action_move_journal_line_form"
            parent="account.menu_finance_entries"
            sequence="5"/>


    </data>
</openerp>
