<?xml version="1.0" ?>
<openerp>
    
    <data>
    
        <!-- 
            Sale Portal Demo
        -->
        
        <record id="portal_sale_order_access_right" model="ir.model.access">
            <field name="name">Sale Order</field>
            <field ref="sale.model_sale_order" name="model_id"/>
            <field name="perm_read">True</field>
        </record>
        
        <record id="portal_sale_order_line_access_right" model="ir.model.access">
            <field name="name">Sale Order Line</field>
            <field ref="sale.model_sale_order_line" name="model_id"/>
            <field name="perm_read">True</field>
        </record>
        
        <record id="portal_stock_picking_access_right" model="ir.model.access">
            <field name="name">Stock Picking</field>
            <field ref="sale.model_stock_picking" name="model_id"/>
            <field name="perm_read">True</field>
            <!--field name="perm_write">True</field>
            <field name="perm_create">True</field>
            <field name="perm_unlink">True</field-->
        </record>
        
        <record id="portal_account_invoice_access_right" model="ir.model.access">
            <field name="name">Account Invoice</field>
            <field ref="account.model_account_invoice" name="model_id"/>
            <field name="perm_read">True</field>
            <!--field name="perm_write">True</field>
            <field name="perm_create">True</field>
            <field name="perm_unlink">True</field-->
        </record>
        
        <record id="portal_account_invoice_line_access_right" model="ir.model.access">
            <field name="name">Account Invoice Line</field>
            <field ref="account.model_account_invoice_line" name="model_id"/>
            <field name="perm_read">True</field>
            <!--field name="perm_write">True</field>
            <field name="perm_create">True</field>
            <field name="perm_unlink">True</field-->
        </record>
        
        
        <record id="portal_sale_order_user_rule" model="ir.rule">
            <field name="name">Personal Leads</field>
            <field ref="sale.model_sale_order" name="model_id"/>
            <field name="domain_force">['|',('partner_id.email','=',user.login),('user_id','=',False)]</field>
            <field name="groups" eval="[(4, ref('base.group_sale_salesman'))]"/>
        </record>
        
        <record id="portal_stock_picking_user_rule" model="ir.rule">
            <field name="name">Personal Leads</field>
            <field ref="stock.model_stock_picking" name="model_id"/>
            <field name="domain_force">[('partner_id.email','=',user.login)]</field>
            <field name="groups" eval="[(4, ref('base.group_sale_salesman'))]"/>
        </record>
        
        <record id="portal_account_invoice_user_rule" model="ir.rule">
            <field name="name">Personal Leads</field>
            <field ref="account.model_account_invoice" name="model_id"/>
            <field name="domain_force">[('partner_id.email','=',user.login)]</field>
            <field name="groups" eval="[(4, ref('base.group_sale_salesman'))]"/>
        </record>
        
        <record id="res_portal_demo" model="res.portal">
            <field name="name">Sales Portal</field>
            <field name="menu_access" eval="[(4, ref('sale.menu_sale_quotations')), (4, ref('sale.menu_sale_order')), (4, ref('base.menu_product')), (4, ref('stock.menu_action_picking_tree')), (4, ref('account.menu_action_invoice_tree1')), (4, ref('account.menu_finance')), (4, ref('stock.menu_stock_root'))]"/>
            <!--field name="implied_ids" eval="[(4, ref('base.group_sale_salesman')), (4, ref('account.group_account_invoice')), (4, ref('stock.group_stock_user'))]"/-->
            <field name="rule_groups" eval="[(4, ref('portal_sale_order_user_rule')), (4, ref('portal_stock_picking_user_rule')), (4, ref('portal_account_invoice_user_rule'))]"/>
            <field name="model_access" eval="[(6,0,[ref('portal_sale_order_access_right'), ref('portal_sale_order_line_access_right'), ref('portal_stock_picking_access_right'), ref('portal_account_invoice_access_right'), ref('portal_account_invoice_line_access_right')])]"/>
        </record>
        
    </data>
    
</openerp>