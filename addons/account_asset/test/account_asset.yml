-
  In order to test the process of Account Asset 
-
  I perform a action to confirm Account Asset
-
  !python {model: account.asset.asset}: |
    self.validate(cr, uid, [ref("account_asset.account_asset_asset_vehicles0")])
-
  I check Asset is now 'open'
-
  !assert {model: account.asset.asset, id: account_asset.account_asset_asset_vehicles0}:
    - state == 'open'
-
  I perform a action to compute Account Asset and check the number of depreciation lines created
-
  !python {model: account.asset.asset}: |
    self.compute_depreciation_board(cr, uid, [ref("account_asset.account_asset_asset_vehicles0")])
    # pressing computation button can be remove if creation of depreciation lines while asset is created
    value = self.browse(cr, uid, [ref("account_asset.account_asset_asset_vehicles0")])[0]
    assert value.method_number == len(value.depreciation_line_ids)
-
  I create account move for all depreciation lines
-
  !python {model: account.asset.depreciation.line}: |
    ids = self.search(cr, uid, [('asset_id','=',ref('account_asset.account_asset_asset_vehicles0'))])
    self.create_move(cr, uid, ids)

-
  I check the move line is created 
-
  !python {model: account.asset.asset}: |
    asset = self.browse(cr, uid, [ref("account_asset.account_asset_asset_vehicles0")])[0]
    assert len(asset.depreciation_line_ids) == len(asset.account_move_line_ids)
-
  I Check that After creating all the moves of depreciation lines the state is in "Close" state
-
  !assert {model: account.asset.asset, id: account_asset.account_asset_asset_vehicles0}:
    - state == 'close'
