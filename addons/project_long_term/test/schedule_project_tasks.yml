-
  I create a record to compute the tasks of project.
-
  !record {model: project.compute.tasks, id: project_compute_tasks0}:
    project_id: project.project_integrate_openerp
-
  I compute the tasks.
-
  !python {model: project.compute.tasks}: |
    self.compute_date(cr, uid, [ref("project_compute_tasks0")])
-
  I Schedule tasks.
-
  !python {model: project.project}: |
    self.schedule_tasks(cr, uid, ref("project.project_integrate_openerp"))
-
  Check if tasks scheduled, check that either of task's start_date, end_date and user_id is not null
-
  !python {model: project.project}: |
    prj = self.browse(cr, uid, [ref("project.project_integrate_openerp")])[0]
    for task in prj.tasks:
        if task.state in ('done','cancelled'):
            continue
        if (not task.user_id) or (not task.date_start) or (not task.date_end):
            raise AssertionError("Project tasks not scheduled!")