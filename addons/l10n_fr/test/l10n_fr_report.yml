-
  In order to test Generate Fiscalyear Opening Entries wizard of OpenERP I first create a fiscalyear "Fiscal Year 2011" to which the entries will move
-
  !record {model: account.fiscalyear, id: account_fiscalyear_0}:
    code: FY2011
    company_id: base.main_company
    date_start: '2011-01-01'
    date_stop: '2011-12-31'
    name: Fiscal Year 2011
-
  In order to test the PDF reports defined on a l10n_fr, we will print a account move line for l10n_fr
-
  !python {model: account.move.line}: |
    import netsvc, tools, os, time
    (data, format) = netsvc.LocalService('report.l10n.fr.bilan').create(cr, uid, [], {'model':'account.move.line', 'form':{'fiscalyear_id': ref('account_fiscalyear_0')}}, {})
    if tools.config['test_report_directory']:
        file(os.path.join(tools.config['test_report_directory'], 'l10n_fr-bilan.'+format), 'wb+').write(data)

-
  In order to test the PDF reports defined on a l10n_fr, we will print a compute result for l10n_fr
-
  !python {model: account.move.line}: |
    import netsvc, tools, os,time
    (data, format) = netsvc.LocalService('report.l10n.fr.compute_resultant').create(cr, uid, [], {'model':'account.move.line', 'form':{'fiscalyear_id': ref('account.data_fiscalyear')}}, {})
    if tools.config['test_report_directory']:
        file(os.path.join(tools.config['test_report_directory'], 'l10n_fr-compute_resultant.'+format), 'wb+').write(data)
