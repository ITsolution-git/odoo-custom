<template>
    <t t-extend="ViewManager" t-name="ViewManagerAction">
        <t t-jquery=".oe_view_title" t-operation="append">
            <img class="oe-process-view" src="/web/static/src/img/icons/gtk-help.png" title="ProcessView"/>
        </t>
    </t>
    <t t-name="ProcessView">
        <table class="view" border="0" width="100%" height="100%" cellpadding="0" cellspacing="0">
            <tr>
                <td width="75%" valign="top" class="fields collapsed" style="padding-top:10px;">
                    <h1 class="process_h1">
                        <t t-esc="action.name"/> (<t t-esc="model"/>)
                    </h1>
                    <p class="process-links">
                        <a class="cta-a" target="_blank" href="#">
                            <span>
                                <strong>Documentation</strong>
                                Read Documentation Online
                            </span>
                        </a>
                        <a class="cta-a" target="_blank" href="http://www.openerp.com/forum/">
                            <span>
                                <strong>Forum</strong>
                                Community Discussion
                            </span>
                        </a>
                        <a class="cta-a" target="_blank" href="http://www.openerp.com/services/books">
                            <span>
                                <strong>Books</strong>
                                Get the book on Amazon
                            </span>
                        </a>
                        <a class="cta-a" target="_blank" href="http://www.openerp.com/services/subscribe-onsite">
                            <span>
                                <strong>Support / Publisher Warranty</strong>
                                Get the OpenERP Warranty
                            </span>
                        </a>
                    </p>
                </td>
            </tr>
            <tr>
                <td>
                    <p><t t-esc="process_help"/></p>
                </td>
            </tr>
            <tr t-if="process_selection">
                <td>
                    <fieldset>
                        <legend>
                            Select Process
                            </legend>
                        <select id="select_process">
                            <t t-foreach="process_selection" t-as="prc">
                                <option t-att-value="prc[0]">
                                    <t t-esc="prc[1]"/>
                                </option>
                            </t>
                        </select>
                        <button id="change_process">Select</button>
                    </fieldset>
                </td>
            </tr>
            <tr t-if="process_id">
                <td>
                    <div id="process_canvas" style="overflow: auto;"></div>
                </td>
            </tr>
            <tr t-if="process_id">
                <td>
                    <button id="edit_process">Edit Process</button>
                    <button class="toggle_fields">
                        <span>Show Fields</span>
                        <span>Hide Fields</span>
                    </button>
                </td>
            </tr>
            <tr t-if="process_id">
                <td class="process_fields">
                    <table cellspacing="0" cellpadding="0" width="100%">
                        <t t-foreach="process_fields" t-as="field">
                            <tr>
                                <td>
                                    <t t-esc="field"/>
                                </td>
                                <td>
                                    <table cellspacing="0" cellpadding="0" width="100%">
                                        <t t-foreach="process_fields[field]" t-as="fld">
                                            <tr>
                                                <td>
                                                    <t t-esc="fld"/>:
                                                </td>
                                                <td>
                                                    <t t-esc="process_fields[field][fld]"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </table>
                                </td>
                            </tr>
                        </t>
                    </table>
                </td>
            </tr>
        </table>
    </t>
</template>
