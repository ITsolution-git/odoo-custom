<?xml version="1.0"?>
<openerp>
    <data>
    	<!--Menu and Title-->
    	<menuitem id='menu_lunch' name='Lunch' />
    	<menuitem name="Lunch Menu" parent="menu_lunch" id="menu_lunch_title" sequence="55" />
    	<menuitem name="Administrate Orders" parent="menu_lunch" id="menu_lunch_admin" sequence="55" />
    	<menuitem name="Configuration" parent="menu_lunch" id="menu_lunch_config" sequence="55" />
    	

        <!--View Search for Supplier (res.partner)-->
        <record model="ir.ui.view" id="supplier_search_view">
            <field name="name">Search</field>
            <field name="model">res.partner</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search">
                    <filter name="supplier_lunch" domain="[('supplier_lunch','=',True)]" string="Lunch suppliers" icon="terp-partner"/>
                    <field name='name'/>
                </search>
            </field>
        </record>

    	<!--Action for Your Orders-->
		<record model="ir.actions.act_window" id="action_lunch_order_form">
            <field name="name">Your Orders</field>
            <field name="res_model">lunch.order</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem name="Your Orders" parent="menu_lunch_title" id="menu_lunch_order_form" action="action_lunch_order_form" />

        <!--Action for Lunch cashmoves-->
        <record model="ir.actions.act_window" id="action_lunch_cashmove_form">
            <field name="name">Your Account</field>
            <field name="res_model">lunch.cashmove</field>
            <field name="view_mode">tree</field>
        </record>
        <menuitem name="Your Lunch Account" parent="menu_lunch_title" id="menu_lunch_cashmove_form" action="action_lunch_cashmove_form" />

        <!--Action for Administrate Orders group by supplier-->
        <record model="ir.actions.act_window" id="action_lunch_order_by_supplier_form">
            <field name="name">Orders by Supplier</field>
            <field name="res_model">lunch.order.line</field>
            <field name="view_mode">tree</field>
        </record>
        <menuitem name="Orders by Supplier" parent="menu_lunch_admin" id="menu_lunch_order_by_supplier_form" action="action_lunch_order_by_supplier_form" />

        <!--Action for Control Accounts-->
        <record model="ir.actions.act_window" id="action_lunch_control_accounts">
            <field name="name">Control Accounts</field>
            <field name="res_model">lunch.cashmove</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem name="Control Accounts" parent="menu_lunch_admin" id="menu_lunch_control_accounts" action="action_lunch_control_accounts" />


        <!--Action for Payment cashmove-->
        <record model="ir.actions.act_window" id="action_lunch_cashmove">
            <field name="name">Register Cash Moves</field>
            <field name="res_model">lunch.cashmove</field>
            <field name="view_mode">form</field>
        </record>
        <menuitem name="Register Cash Moves" parent="menu_lunch_admin" id="menu_lunch_cashmove" action="action_lunch_cashmove" />

        <!--Action for control Supplier-->
        <record model="ir.actions.act_window" id="action_lunch_control_suppliers">
            <field name="name">Control Suppliers</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="supplier_search_view"/>
            <field name="context">{'search_default_supplier_lunch':1}</field> 
        </record>
        <menuitem name="Control Suppliers" parent="menu_lunch_admin" id="menu_lunch_control_suppliers" action="action_lunch_control_suppliers" />

        <!--Action for Products-->
        <record model="ir.actions.act_window" id="action_lunch_products">
            <field name="name">Products</field>
            <field name="res_model">lunch.product</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem name="Products" parent="menu_lunch_config" id="menu_lunch_products" action="action_lunch_products" />

        <!--Action for Product categories-->
		<record model="ir.actions.act_window" id="action_lunch_product_categories">
            <field name="name">Product Categories</field>
            <field name="res_model">lunch.product.category</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem name="Product Categories" parent="menu_lunch_config" id="menu_lunch_product_categories" action="action_lunch_product_categories" />

        <!--Action for Alert-->
        <record model="ir.actions.act_window" id="action_lunch_alert">
            <field name="name">Alerts</field>
            <field name="res_model">lunch.alert</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem name="Alerts" parent="menu_lunch_config" id="menu_lunch_alert" action="action_lunch_alert" />

        <!--View for Order lines-->
        <record model="ir.ui.view" id="orders_order_lines_tree_view">
            <field name="name">Order lines Tree</field>
            <field name="model">lunch.order.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Order lines Tree">
                    <field name='date'/>
                    <field name='user_id'/>
                    <field name='supplier'/> 
                    <field name='product'/>                             
                    <field name='note'/>
                    <field name='price' sum="Total"/>
                </tree>
            </field>
        </record>

        <!--View for Your orders-->
        <record model="ir.ui.view" id="orders_tree_view">
            <field name="name">Orders Tree</field>
            <field name="model">lunch.order</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Orders Tree">
                    <field name="date"/>
                    <field name="products"/>
                    <field name="total" sum="Total"/>
                </tree>
            </field>
        </record>
       
        <record model="ir.ui.view" id="orders_form_view">
			<field name="name">Orders Form</field>
			<field name="model">lunch.order</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Orders Form">
					<group colspan="2" col="2">
						<field name='state' invisible="1"/>
						<field name="user_id"/>
						<field name="date"/>
					</group>
					<group colspan="2" col="2">
					</group>
					<separator string="Products" colspan="4"/>					

					<separator string="Your Order" colspan="4"/>
					<field name="products" colspan="4" nolabel="1" on_change="onchange_price(products)">
						<tree string="List" editable="bottom">
							<field name="product" colspan="2" on_change="onchange_price(product)"/>
							<field name="note" />
							<field name="price"/>
						</tree>
					</field>
					<field name="total"/>
				</form>
			</field>
		</record>

        <!--View for Products-->
        <record model="ir.ui.view" id="products_tree_view">
            <field name="name">Products Tree</field>
            <field name="model">lunch.product</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Products Tree">
                    <field name="name"/>
                    <field name="category_id"/>
                    <field name="supplier"/>
                    <field name="description"/>
                    <field name="price"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="products_form_view">
            <field name="name">Products Form</field>
            <field name="model">lunch.product</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Products Form">
                    <group colspan="2" col="2">
                        <field name='name'/>
                        <field name='category_id'/>
                        <field name='supplier'/>
                        <field name='price'/>
                        <field name='active'/>
                    </group>
                    <group colspan="2" col="2">
                    </group>
                    <field name='description'/>
                </form>
            </field>
        </record>

        <!--view for cashmove-->
        <record model="ir.ui.view" id="casmove_tree_view">
            <field name="name">cashmove tree</field>
            <field name="model">lunch.cashmove</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="cashmove tree">
                    <field name="user_id"/>
                    <field name="description"/>
                    <field name="amount"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="casmove_form_view">
            <field name="name">cashmove form</field>
            <field name="model">lunch.cashmove</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="cashmove form">
                    <group colspan="2" col="2">
                        <field name="user_id"/>
                        <field name="date"/>
                        <field name="amount"/>
                    </group>
                     <group colspan="2" col="2">
                    </group>
                    <field name="description"/>
                </form>
            </field>
        </record>

        <!--view for alerts-->
        <record model="ir.ui.view" id="alert_tree_view">
            <field name="name">alert tree</field>
            <field name="model">lunch.alert</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="alert tree">
                    <field name="message"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>

         <record model="ir.ui.view" id="alert_form_view">
            <field name="name">alert tree</field>
            <field name="model">lunch.alert</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="alert tree">
                    <separator string="Schedule Date" colspan="4"/>
                        <group col="2" colspan="2">
                            <field name="day"/>
                            <field name="specific" attrs="{'invisible': [('day','!=','specific')]}"/>
                        </group>
                        <group col="2" colspan="2">
                        </group>
                        <group col="2" attrs="{'invisible': [('day','!=','week')]}">
                            <field name="monday"/>
                            <field name="tuesday"/>
                            <field name="wednesday"/>
                            <field name="thursday"/>
                        </group>
                        <group col="2" attrs="{'invisible': [('day','!=','week')]}">
                            <field name="friday"/>
                            <field name="saturday"/>
                            <field name="sunday"/>
                        </group>
                    <separator string="Schedule Hour" colspan="4"/>
                    <group col="2" colspan="2">
                        <field name='from'/>
                        <field name='to'/>
                    </group>
                    <group col="2" colspan="2">
                    </group>
                    <separator string="Alert Informations" colspan="4"/>
                     <group col="2" colspan="2">
                        <field name='active'/>
                        <field name='message'/>
                    </group>
                    <group col="2" colspan="2">
                    </group>
                </form>
            </field>
        </record>
    </data>
</openerp>
