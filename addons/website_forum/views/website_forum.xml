<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

        <template id="editor_head" inherit_id="website.editor_head" name="Fvent Editor">
            <xpath expr="//script[@id='website_tour_js']" position="after">
                <script type="text/javascript"
                    src="/website_forum/static/src/js/website_forum.editor.js"></script>
                <script type="text/javascript"
                    src="/website_forum/static/src/js/website.tour.forum.js"></script>
            </xpath>
        </template>

        <!-- Layout add nav and footer -->
        <template id="header_footer_custom" inherit_id="website.layout"
            name="Footer Questions Link">
            <xpath expr="//footer//ul[@name='products']" position="inside">
                <li>
                    <a href="/questions">Support</a>
                </li>
            </xpath>
        </template>

        <!-- Page -->

        <template id="post_list">
            <div class="tab-pane active" id="all">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="row">
                            <div class="col-xs-9">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <h4>
                                            <a t-attf-href="/question/#{ slug(question) }">
                                                <span>
                                                    <t t-esc="question.name"/>
                                                </span>
                                            </a>
                                        </h4>
                                    </div>
                                </div>
                                <t t-call="website_forum.tags" />
                                <div class="row">
                                    <div class="col-xs-12 text-right">
                                        <small>
                                            <span>
                                                <t t-esc="question.write_date" />
                                            </span>
                                            <a href="">
                                                <span>
                                                    <t t-esc="question.create_uid.name" />
                                                </span>
                                            </a>
                                            <a href="">
                                                <span>
                                                    <t t-esc="question.create_uid.id" />
                                                </span>
                                            </a>
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <h5>
                                    <span itemprop="Votes" class="label label-success">
                                        <t t-esc="len(question.vote_ids)" />
                                        Votes
                                    </span>
                                </h5>
                            </div>
                            <div class="col-xs-3">
                                <h5>
                                    <span itemprop="Votes" class="label label-success">
                                        <t t-esc="len(question.vote_ids)" />
                                        Answers
                                    </span>
                                </h5>
                            </div>
                            <div class="col-xs-3">
                                <h5>
                                    <span itemprop="Votes" class="label label-success">
                                        <t t-esc="question.views" />
                                        Views
                                    </span>
                                </h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <template id="tags">
            <div class="col-xs-12">
                <t  t-foreach="question.tags" t-as="tag">
                    <a t-attf-href="/questions/tag/#{ tag.id }" class="badge"><t t-esc="tag.name"/></a>
                </t>
            </div>
        </template>

        <template id="shorting">
            <div class="col-xs-3">
                <h5>
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        Short by
                        <b class="caret"></b>
                    </a>
                    
                    <ul class="dropdown-menu">
                        <li>
                            <a href="#">By Date</a>
                        </li>
                        <li>
                            <a href="#">By Activity</a>
                        </li>
                        <li>
                            <a href="#">By Answer</a>
                        </li>
                        <li>
                            <a href="#">By Votes</a>
                        </li>
                    </ul>
                </h5>
            </div>
        </template>

        <template id="answer">
            <ul class="media-list">
                <li t-foreach="question.child_ids" t-as="answer" class="media">
                    <div class="row">
                        <t t-call="website_forum.post_vote"/>
                        <div class="col-md-9 col-xs-10">
                            <div class="row">
                                <div class="col-xs-12">
                                    <span>
                                        <h4>
                                            <t t-esc="answer.content"/>
                                        </h4>
                                    </span>
                                </div>
                            </div>
                            <div class="row">
                                <t t-call="website_forum.user_detail"/>
                            </div>
                            <t t-call="website_forum.post_links"/>
                        </div>
                    </div>
                </li>
            </ul>
        </template>

        <template id="post_search">
            <form class="navbar-form " action="/questions/" method="get" role="search">
                <div class="form-group search-navbar">
                    <input type="text" class="form-control" name="search" placeholder="Search Or Ask your Question" t-att-value="searches.get('search') or ''"/>
                </div>
                <button type="submit" class="btn btn-default AskButton">Ask Question</button>
            </form>
        </template>

        <!-- index page of forum -->
        <template id="index" name="Posts">
            <t t-call="website.layout">
                <t t-set="head">
                    <link rel='stylesheet' href='/website_forum/static/src/css/website_forum.css' />
                </t>
                <div id="wrap" class="js_blog">
                    <div class="row">
                        <t t-call="website_forum.post_search" />
                    </div>
                    <div class="row">
                        <div class="col-xs-3">
                            <span class="badge">
                                <t t-esc="total_questions"/> Question
                            </span>
                        </div>
                        <t t-call="website_forum.shorting" />
                    </div>
                    <ul id="tabs" class="nav nav-pills">
                        <li class="active">
                            <a t-attf-href="#all" data-toggle="tab">ALL</a>
                        </li>
                        <li>
                            <a t-attf-href="#unanswerd" data-toggle="tab">UNANSWERD</a>
                        </li>
                        <li>
                            <a t-attf-href="#followed" data-toggle="tab">FOLLOWED</a>
                        </li>
                    </ul>
                    <ul class="media-list">
                        <li t-foreach="question_ids" t-as="question" class="media">
                            <t t-call="website_forum.post_list" />
                        </li>
                    </ul>
                    <div class="col-sm-7">
                        <t t-call="website.pager" >
                            <t t-set="classname">pull-right</t>
                        </t>
                    </div>
                </div>
            </t>
        </template>


        <template id="404">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="oe_structure oe_empty">
                        <div class="container">
                            <h1 class="mt32">Question not found!</h1>
                            <p>Sorry, the requested question is not available anymore.</p>
                            <p>
                                <a t-attf-href="/question/">Return to the question list.</a>
                            </p>
                        </div>
                    </div>
                </div>
            </t>
        </template>

        <template id="user_detail">
            <div
                class="col-xs-7 col-xs-offset-5 col-sm-3 col-sm-offset-9 col-md-4 col-md-offset-8 col-lg-4 col-lg-offset-8 text-right">
                <div class="panel panel-primary ">
                    <p class="text-center -heading">
                        <small>asked Sep 12'13</small>
                    </p>
                    <div class="row">
                        <div class="col-xs-3">
                            <div class="row">
                                <div class="col-xs-12">
                                    <img src="images/profile_picture/png/user_1.png" class="user-profile-image" alt="" />
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-9">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="text-left">
                                        <a href="">Than N.</a>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <div style="font-size:10px" class="text-left">
                                        <b style="color : green">11</b>
                                        <span class="glyphicon glyphicon-certificate badge-gold"></span>
                                        1
                                        <span class="glyphicon glyphicon-certificate badge-silver"></span>
                                        10
                                        <span class="glyphicon glyphicon-certificate badge-bronze"></span>
                                        5
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <template id="post_vote">
            <div class="col-md-1 col-xs-1">
                <div class="row">
                    <div class="col-xs-12 custom-arrow-height">
                        <span class="glyphicon glyphicon-chevron-up" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 custom-vote-height">
                        <h4>
                            <span>0</span>
                        </h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 custom-arrow-height">
                        <span class="glyphicon glyphicon-chevron-down" />
                    </div>
                </div>
            </div>
        </template>

        <template id="post_links">
            <div class="row">
                <div class="col-xs-12 text-right">
                    <a class="action-links" href="">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                    <a class="action-links" href="">
                        <span class="glyphicon glyphicon-flag"></span>
                    </a>
                    <a class="action-links" href="">
                        <span class="glyphicon glyphicon-trash"></span>
                    </a>
                    <a class="action-links" href="">
                        <span class="glyphicon glyphicon-link"></span>
                    </a>
                </div>
            </div>
        </template>

        <template id="ask_question">
            <t t-call="website.layout">
                <div class="col-md-9 col-xs-11">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="page-header">
                                <h3>Please Ask your Question here</h3>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <ul>
                                <li>
                                    please, try to make your question interesting to others
                                </li>
                                <li>
                                    provide enough details and, if possible, give an example
                                </li>
                                <li>
                                    be clear and concise, avoid unnecessary introductions (Hi, ... Thanks...)
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <form action="/question/ask/" method="post" role="form">
                            <div class="col-xs-12">
                                <input type="text"  name="question_name" required="True" t-attf-value="#{question_name or ''}" id="textbox_user_question" class="form-control" placeholder="Enter your Question" />
                            </div>
                            <div class="col-xs-12">
                                Please enter a descriptive question (should finish by a '?')
                            </div>
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <textarea  name="question_content" required="True" t-attf-value="#{question_content or ''}" class="form-control" id="textarea_ckeditor" rows="10" style="width : 100%" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12">
                                Tags:
                            </div>
                            <div class="col-xs-12">
                                <input type="text" name="question_tag" t-attf-value="#{question_tag or ''}" class="form-control" id="textarea_tags" style="width : 100%"/>
                            </div>
                            <button class="btn btn-default " id="btn_ask_your_question">Post Your Question</button>
                        </form>
                    </div>
                    <script type="text/javascript" >
                        CKEDITOR.replace("textarea_ckeditor");
                        CKEDITOR.config.toolbar = [['Bold','Italic','Underline','Strike'],['NumberedList','BulletedList'] ,['Outdent','Indent','Link','Unlink'],] ;
                    </script>
                </div>
            </t>
        </template>

        <template id="post_answer">
            <div class="col-md-9 col-xs-11">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="page-header">
                            <h3>Your answer</h3>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <p>
                            <b>Please try to give a substantial answer</b>.
                            If you wanted to comment on the question or answer, just 
                            <b>use the commenting tool.</b> 
                            Please remember that you can always 
                            <b>revise your answers</b> 
                            - no need to answer the same question twice. Also, please 
                            <b>don't forget to vote</b> 
                            - it really helps to select the best questions and answers!
                        </p>
                    </div>
                </div>
                <div class="row">
                    <form action="/question/postanswer/" method="post" role="form">
                        <div class="col-xs-12">
                            <div class="row">
                                <div class="col-xs-12">
                                    <textarea  name="answer_content" required="True" t-attf-value="#{answer_content or ''}" class="form-control" id="textarea_ckeditor" rows="10" style="width : 100%" />
                                </div>
                            </div>
                        </div>
                        <input name="post_id" t-att-value="question.id" type="hidden"/>
                        <button class="btn btn-default" id="btn_ask_your_question">Post Your Answer</button>
                    </form>
                </div>
                <script type="text/javascript" >
                    CKEDITOR.replace("textarea_ckeditor");
                    CKEDITOR.config.toolbar = [['Bold','Italic','Underline','Strike'],['NumberedList','BulletedList'] ,['Outdent','Indent','Link','Unlink'],] ;
                </script>
            </div>
        </template>

        <template id="post_description_full">
            <t t-call="website.layout">
                <t t-call="website_forum.post_search" />
                <div class="container MainBody">
                    <t t-call="website_forum.post_vote" />
                    <div class="row">
                        <div class="col-md-9 col-xs-11">
                            <div class="row">
                                <div class="col-xs-12">
                                    <h4>
                                        <div itemprop="name" t-field="question.name"></div>
                                    </h4>
                                </div>
                            </div>
                            <t t-call="website_forum.tags" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 page-header">
                            <span class="badge">
                                <t t-esc="len(question.child_ids)"/> Answer
                            </span>
                        </div>
                        <t t-call="website_forum.shorting" />
                    </div>
                    <t t-call="website_forum.answer"/>
                </div>
                <t t-call="website_forum.post_answer"/>
            </t>
        </template>

	</data>
</openerp>
