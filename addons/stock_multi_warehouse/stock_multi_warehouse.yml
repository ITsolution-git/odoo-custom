- 
  !context
    noupdate: 1
-
  Create Two Customers
-
  !record {model: res.partner, id: customer_1}:
    name: Customer 1
-
  !record {model: res.partner, id: customer_2}:
    name: Customer 2
-
  Create new warehouse in Panama and configure it
-
  !record {model: res.partner, id: panama_address}:
    name: 'Panama WH address'
    parent_id: base.main_partner     
-
  !record {model: stock, id: view_location}:
    name: 'Panama'
    location_id: stock.stock_location_locations
    usage: 'view' 
-
  !record {model: stock, id: wh1_stock_id}:
    name: 'WH1: Stock'
    location_id: view_location
    usage: 'internal'
-
  !record {model: stock, id: wh1_stock_id_area1}:
    name: 'Area1'
    location_id: wh1_stock_id
-
  !record {model: stock, id: wh1_stock_id_area1_bin1}:
    name: 'Bin1'
    location_id: wh1_stock_id_area1
-     
  !record {model: stock.warehouse, id: wh1_id}:
    name: 'WH1'
    lot_stock_id: wh1_stock_id
    partner_id: panama_address
    code: 'WH1'
    reception_steps: 'three_steps'
    delivery_steps: 'pick_pack_ship'
-
  Create WH2 warehouse in Dubai and configure it
-
  !record {model: res.partner, id: dubai_address}:
    name: 'Dubai WH address'
    parent_id: base.main_partner     
-
  !record {model: stock, id: view_location_dub}:
    name: 'Dubai'
    location_id: stock.stock_location_locations
    usage: 'view' 
-
  !record {model: stock, id: wh2_stock_id}:
    name: 'WH2: Stock'
    location_id: view_location_dub
    usage: 'internal'
-
  !record {model: stock, id: wh2_stock_id_area2}:
    name: 'Area2'
    location_id: wh2_stock_id
-     
  !record {model: stock.warehouse, id: wh2_id}:
    name: 'WH2'
    lot_stock_id: wh2_stock_id
    partner_id: dubai_address
    code: 'WH2'
    reception_steps: 'one_step'
    delivery_steps: 'ship_only'
-
  Create Products
-
  !record {model: product.product, id: product_A}:
    name: Product A
    type: product
    categ_id: product.product_category_1
    list_price: 100.0
    standard_price: 70.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_B}:
    name: Product B
    type: product
    categ_id: product.product_category_1
    list_price: 150.0
    standard_price: 150.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_C}:
    name: Product C
    type: product
    categ_id: product.product_category_1
    list_price: 200.0
    standard_price: 150.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_D}:
    name: Product D
    type: product
    categ_id: product.product_category_1
    list_price: 300.0
    standard_price: 280.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_E}:
    name: Product E
    type: product
    categ_id: product.product_category_1
    list_price: 10.0
    standard_price: 10.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_F}:
    name: Product F
    type: product
    categ_id: product.product_category_1
    list_price: 20.0
    standard_price: 20.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_G}:
    name: Product G
    type: product
    categ_id: product.product_category_1
    list_price: 30.0
    standard_price: 30.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  !record {model: product.product, id: product_H}:
    name: Product H
    type: product
    categ_id: product.product_category_1
    list_price: 40.0
    standard_price: 40.0
    uom_id: product.product_uom_unit
    uom_po_id: product.product_uom_unit

-
  Create Lot
-
  !record {model: stock.production.lot, id: lot001}:
    name: Lot001
    product_id: product_C

-
  !record {model: stock.production.lot, id: lot002}:
    name: Lot002
    product_id: product_C

-
  !record {model: stock.production.lot, id: lot003}:
    name: Lot003
    product_id: product_C

-
  !record {model: stock.production.lot, id: lot004}:
    name: Lot004
    product_id: product_C

-
  Fill inventory
-
  I create an inventory for Location Stock1
-
  !record {model: stock.inventory, id: inventory_stock1}:
    name: Inventory Stock 1
    location_id: wh1_stock_id
-
  I add 2 inventory line for product A and B and say i have 6 and 12 products in stock
-
  !record {model: stock.inventory.line, id: inventory_stock1line_productA}:
    inventory_id: inventory_stock1
    product_id: product_A
    product_qty: 6
    location_id: wh1_stock_id

-
  !record {model: stock.inventory.line, id: inventory_stock1line_productB}:
    inventory_id: inventory_stock1
    product_id: product_B
    product_qty: 12
    location_id: wh1_stock_id
-
  I confirm Stock1 inventory
-
  !python {model: stock.inventory}: |
    self.action_done(cr, uid, [ref('inventory_stock1')], context=context)
-
  I create an inventory for Location Stock2
-
  !record {model: stock.inventory, id: inventory_stock2}:
    name: Inventory Stock 2
    location_id: wh2_stock_id
-
  I add 4 inventory lines for product A, B, C, C and say i have 8, 120, 5, 15 products in stock
-
  !record {model: stock.inventory.line, id: inventory_stock2line_productA}:
    inventory_id: inventory_stock2
    product_id: product_A
    product_qty: 8
    location_id: wh2_stock_id

-
  !record {model: stock.inventory.line, id: inventory_stock2line_productB}:
    inventory_id: inventory_stock2
    product_id: product_B
    product_qty: 120
    location_id: wh2_stock_id

-
  !record {model: stock.inventory.line, id: inventory_stock2line_productC_1}:
    inventory_id: inventory_stock2
    product_id: product_C
    product_qty: 5
    location_id: wh2_stock_id
    prod_lot_id: lot003

-
  !record {model: stock.inventory.line, id: inventory_stock2line_productC_2}:
    inventory_id: inventory_stock2
    product_id: product_C
    product_qty: 15
    location_id: wh2_stock_id
    prod_lot_id: lot004
-
  I confirm Stock2 inventory
-
  !python {model: stock.inventory}: |
    self.action_done(cr, uid, [ref('inventory_stock2')], context=context)
-
  I create an inventory for Location Area1
-
  !record {model: stock.inventory, id: inventory_stock1_area1}:
    name: Inventory Stock1 area 1
    location_id: wh1_stock_id_area1
-
  I add 2 inventory lines for product D, D and say i have 4, 5 products in stock
-
  !record {model: stock.inventory.line, id: inventory_stock1line_productD_1}:
    inventory_id: inventory_stock1_area1
    product_id: product_D
    product_qty: 4
    location_id: wh1_stock_id_area1
    partner_id: customer_1

-
  !record {model: stock.inventory.line, id: inventory_stock1line_productD_2}:
    inventory_id: inventory_stock1_area1
    product_id: product_D
    product_qty: 5
    location_id: wh1_stock_id_area1
    partner_id: customer_2
-
  I confirm Area1 inventory
-
  !python {model: stock.inventory}: |
    self.action_done(cr, uid, [ref('inventory_stock1_area1')], context=context)
-
  I create an inventory for Location Area 2
-
  !record {model: stock.inventory, id: inventory_stock2_area2}:
    name: Inventory Stock2 area 2
    location_id: wh2_stock_id_area2
-
  I add 2 inventory lines for product D, D and say i have 2, 3 products in stock
-
  !record {model: stock.inventory.line, id: inventory_stock2line_productD_1}:
    inventory_id: inventory_stock2_area2
    product_id: product_D
    product_qty: 2
    location_id: wh2_stock_id_area2
    partner_id: customer_1

-
  !record {model: stock.inventory.line, id: inventory_stock2line_productD_2}:
    inventory_id: inventory_stock2_area2
    product_id: product_D
    product_qty: 3
    location_id: wh2_stock_id_area2
    partner_id: customer_2
-
  I confirm Area2 inventory
-
  !python {model: stock.inventory}: |
    self.action_done(cr, uid, [ref('inventory_stock2_area2')], context=context)

-
  I create an inventory for Location Bin1
-
  !record {model: stock.inventory, id: inventory_stock1_area1_bin1}:
    name: Inventory Stock1 area1 bin 1
    location_id: wh1_stock_id_area1_bin1
-
  I add 2 inventory lines for product C, C and say i have 3, 14 products in stock
-
  !record {model: stock.inventory.line, id: inventory_stock1line_productC_1}:
    inventory_id: inventory_stock1_area1_bin1
    product_id: product_C
    product_qty: 3
    location_id: wh1_stock_id_area1_bin1
    prod_lot_id: lot001

-
  !record {model: stock.inventory.line, id: inventory_stock1line_productC_2}:
    inventory_id: inventory_stock1_area1_bin1
    product_id: product_C
    product_qty: 14
    location_id: wh1_stock_id_area1_bin1
    prod_lot_id: lot002
-
  I confirm Bin1 inventory
-
  !python {model: stock.inventory}: |
    self.action_done(cr, uid, [ref('inventory_stock1_area1_bin1')], context=context)
-
  I create some sale order in draft
-
  !record {model: sale.order, id: so1}:
    partner_id: customer_1
    warehouse_id: wh2_id
    order_line: 
      - product_id: product_A
        product_uom_qty: 7
      - product_id: product_B
        product_uom_qty: 10
      - product_id: product_C
        product_uom_qty: 6
      - product_id: product_D
        product_uom_qty: 2

-
  !record {model: sale.order, id: so2}:
    partner_id: customer_1
    warehouse_id: wh2_id
    order_line: 
      - product_id: product_E
        product_uom_qty: 5
      - product_id: product_F
        product_uom_qty: 20
      - product_id: product_G
        product_uom_qty: 12
      - product_id: product_H
        product_uom_qty: 8

-
  !record {model: sale.order, id: so3}:
    partner_id: customer_2
    warehouse_id: wh1_id
    order_line: 
      - product_id: product_A
        product_uom_qty: 5
      - product_id: product_D
        product_uom_qty: 3
      - product_id: product_G
        product_uom_qty: 12
