<?xml version="1.0" encoding="UTF-8"?>
<template>

    <div t-name="Wall" class="oe_mail_wall">
        <div class="oe_mail_wall_search">
        </div>
        <div class="oe_mail_wall_left">
            <div class="oe_mail_wall_act">
                <div class="oe_mail_wall_tweet">
                    <textarea class="oe_mail_action_textarea" onfocus="this.value='';">Enter your comment here...</textarea><br />
                    <button class="oe_mail_button_comment" type="button">Post comment</button>
                </div>
            </div>
            <div class="oe_mail_wall_threads">
            </div>
            <div class="oe_mail_wall_more">
                <button class="oe_mail_wall_button_more" type="button">See more discussions
                </button>
            </div>
        </div>
        <div class="oe_mail_wall_right">
            <div class="oe_mail_followers">
                <div class="oe_mail_followers_actions">
                    <button class="oe_mail_button_followers" type="button">Display followers</button>
                </div>
                <div class="oe_mail_followers_display">
                </div>
            </div>
        </div>
    </div>

    <t t-name="WallThreadContainer">
        <div class="oe_mail_wall_thread_header">
            Discussion about document <t t-raw="record_model"/> (id: <t t-raw="record_id"/>)
        </div>
        <div class="oe_mail_wall_thread_content">
        </div>
    </t>

    <div t-name="Thread" class="oe_mail_thread_main">
        <div class="separator horizontal">OpenSocial</div>
        <div class="oe_mail_thread_left">
        </div>
        <div class="oe_mail_thread_right">
            <div class="oe_mail_actions">
                <button type="button" class="oe_mail_button_follow">Follow</button>
                <button type="button" class="oe_mail_button_unfollow">Unfollow</button>
            </div>
            <div class="oe_mail_followers">
                <div class="oe_mail_followers_actions">
                    <button type="button" class="oe_mail_button_followers">Display followers</button>
                </div>
                <div class="oe_mail_followers_display">
                </div>
            </div>
        </div>
    </div>

    <div t-name="ThreadDisplay" class="oe_mail_thread">
        <div class="oe_mail_thread_act">
            <div class="oe_mail_msg_image">
            </div>
            <div class="oe_mail_msg_content">
                <textarea class="oe_mail_action_textarea" onfocus="this.value='';">Enter your comment here...</textarea><br />
                <button type="button" class="oe_mail_button_comment">Post comment</button>
            </div>
        </div>
        <div class="oe_mail_thread_display">
        </div>
        <div class="oe_mail_thread_more">
            <button class="oe_mail_button_more" type="button">More</button>
        </div>
        <div class="oe_mail_thread_nomore">
            You have loaded all messages in this thread.
        </div>
    </div>

    <div t-name="ThreadMsg" t-attf-class="{record.type} oe_mail_thread_msg">
        <div class="oe_mail_msg_image">
            <img t-att-src="record.mini_url"/>
        </div>
        <div class="oe_mail_msg_content">
            <t t-if="record.type == 'email'">
                <t t-call="EmailDisplay" />
            </t>
            <t t-if="record.type == 'notification' || record.type == 'comment'">
                <t t-call="NotificationDisplay" />
            </t>
        </div>
    </div>
    
    <t t-name="NotificationDisplay">
        <p class="oe_mail_msg_p">
            <t t-if="record.type == 'notification'">
                <span class="oe_mail_msg_author">OpenERP System Notification</span>
            </t>
            <t t-if="record.type == 'comment'">
                <span class="oe_mail_msg_author">
                    <a href="#" data-res-model='res.users' t-attf-data-res-id='{record.user_id[0]}'><t t-raw="record.user_id[1]"/></a>
                </span>
            </t>
            <t t-if="record.need_action_user_id != false">
                - <span class="oe_mail_msg_need_action">Need action by <a href="#"><t t-raw="record.need_action_user_id[1]"/></a></span>
            </t>
            wrote on <span class="oe_mail_msg_date"><t t-raw="record.date"/></span>
            <br />
            <span class="oe_mail_msg_body"><t t-raw="record.body_text"/></span>
        </p>
    </t>
    
    <t t-name="EmailDisplay">
        <p class="oe_mail_msg_p oe_mail_msg_p_email_header">
            From: <t t-esc="email_from"/> on <span class="oe_mail_msg_date"><t t-raw="record.date"/></span><br />
            To: <t t-sec="mail_to"/><br />
        </p>
        <p class="oe_mail_msg_p">
            <span class="oe_mail_msg_body"><t t-raw="record.body_text"/></span>
        </p>
    </t>

</template>
