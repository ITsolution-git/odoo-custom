<?xml version="1.0"?>
<openerp>
    <data>
        <record id="action_mail_inbox_feeds" model="ir.actions.client">
            <field name="name">Inbox</field>
            <field name="tag">mail.wall</field>
            <field name="res_model">mail.message</field>
            <field name="context">{
              'default_model': 'res.users', 
              'default_res_id': uid
            }</field>
            <field name="params" eval="&quot;{
                'domain': [
                  ('notification_ids.partner_id.user_ids', 'in', [uid]),
                  ('to_read', '=', True),
                  ('favorite_user_ids', 'not in', [uid])
                ],
                'view_mailbox': True,
                'view_inbox': True,
                'read_action': 'read'
            }&quot;"/>
            <field name="help" type="html">
                <p>
                    <b>Hurray! No message here!</b>
                </p><p>
                    Congratulations! You have processed all your incoming emails.
                    Remember that when you receive new messages, you can either
                    set them as done, or use the star button to send those messages
                    into your <i>Todo</i> mailbox.
                </p>
            </field>
        </record>

        <record id="action_mail_to_me_feeds" model="ir.actions.client">
            <field name="name">To: me</field>
            <field name="tag">mail.wall</field>
            <field name="res_model">mail.message</field>
            <field name="context">{
              'default_model': 'res.users', 
              'default_res_id': uid, 
              'search_default_message_unread': True
            }</field>
            <field name="params" eval="&quot;{
                'domain': [('partner_ids.user_ids', 'in', [uid])],
                'view_mailbox': True,
                'read_action': 'read', }&quot;"/>
            <field name="help" type="html">
                <p>
                    No message here!
                </p><p>
                    There are no new messages matching the current search
                    that were directly sent to you.
                    Remember you can always uncheck the Read filter to see
                    messages sent to you that you already read.
                </p>
            </field>
        </record>

        <record id="action_mail_star_feeds" model="ir.actions.client">
            <field name="name">Todo</field>
            <field name="tag">mail.wall</field>
            <field name="res_model">mail.message</field>
            <field name="context">{
              'default_model': 'res.users', 
              'default_res_id': uid, 
              'search_default_message_unread': True
            }</field>
            <field name="params" eval="&quot;{
                'domain': [('favorite_user_ids', 'in', [uid])],
                'view_mailbox': True,
                'read_action': 'read', }&quot;"/>
            <field name="help" type="html">
                <p>
                    <b>Hurray! No message here!</b>
                </p><p>
                    Congratulations! You have processed all your messages in
                    your todo list, or at least those matching your search.
                    Remember you can always search for read messages by
                    unchecking the Read filter.
                </p>
            </field>
        </record>

        <record id="action_mail_archives_feeds" model="ir.actions.client">
            <field name="name">Archives</field>
            <field name="tag">mail.wall</field>
            <field name="context">{
              'default_model': 'res.users', 
              'default_res_id': uid, 
              'search_default_message_read': True
            }</field>
            <field name="params" eval="&quot;{
                'domain': [('notification_ids.partner_id.user_ids', 'in', [uid])],
                'view_mailbox': True,
                'read_action': 'unread', }&quot;"/>
            <field name="help" type="html">
                <p>
                    There are no message for this search.
                </p>
            </field>
        </record>

        <record id="action_mail_sent_feeds" model="ir.actions.client">
            <field name="name">Sent</field>
            <field name="tag">mail.wall</field>
            <field name="context">{
              'default_model': 'res.users', 
              'default_res_id': uid
            }</field>
            <field name="params" eval="&quot;{
                'domain': [('author_id.user_ids', 'in', [uid])],
                'view_mailbox': True, }&quot;"/>
            <field name="help" type="html">
                <p>
                    There are no message for this search.
                </p>
            </field>
        </record>

        <!-- MENU -->

        <!-- Top menu item -->
        <menuitem name="Messages"
          id="mail.mail_feeds_main"
          groups="base.group_user"
          sequence="10"/>

        <!-- Left-side menu: Feeds -->
        <menuitem id="mail.mail_feeds" name="Messages" parent="mail.mail_feeds_main" groups="base.group_user" sequence="10"/>
        <menuitem id="mail_my_stuff" name="Organizer" parent="mail.mail_feeds_main"/>

        <record id="mail_inboxfeeds" model="ir.ui.menu">
          <field name="name">Inbox</field>
          <field name="sequence" eval="10"/>
          <field name="action" ref="action_mail_inbox_feeds"/>
          <field name="parent_id" ref="mail.mail_feeds"/>
        </record>
        <record id="mail_tomefeeds" model="ir.ui.menu">
          <field name="name">To: me</field>
          <field name="sequence" eval="11"/>
          <field name="action" ref="action_mail_to_me_feeds"/>
          <field name="parent_id" ref="mail.mail_feeds"/>
        </record>
        <record id="mail_starfeeds" model="ir.ui.menu">
          <field name="name">Todo</field>
          <field name="sequence" eval="14"/>
          <field name="action" ref="action_mail_star_feeds"/>
          <field name="parent_id" ref="mail.mail_feeds"/>
        </record>
        <record id="mail_archivesfeeds" model="ir.ui.menu">
          <field name="name">Archives</field>
          <field name="sequence" eval="16"/>
          <field name="action" ref="action_mail_archives_feeds"/>
          <field name="parent_id" ref="mail.mail_feeds"/>
        </record>
        <record id="mail_sentfeeds" model="ir.ui.menu">
          <field name="name">Sent</field>
          <field name="sequence" eval="18"/>
          <field name="action" ref="action_mail_sent_feeds"/>
          <field name="parent_id" ref="mail.mail_feeds"/>
        </record>
    </data>
</openerp>
