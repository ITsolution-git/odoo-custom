<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    
        <!-- Creating Portal Group -->
        
        <record id="group_event_portal" model="res.groups">
            <field name="name">Portal User</field>
            <field ref="event.module_category_event_management" name="category_id"/>
        </record>
        
        <record id="portal_event" model="res.portal">
            <field name="name">Events Portal</field>
            <field name="group_id" ref="group_event_portal"/>
        </record>
            
        <!-- Sale Portal Access Rules -->
        <record id="portal_event_rule" model="ir.rule">
            <field name="name">Personal Events</field>
            <field ref="event.model_event_event" name="model_id"/>
            <field name="domain_force">[]</field>
            <field name="groups" eval="[(4, ref('group_event_portal'))]"/>
        </record>
        
        <record id="portal_registration_rule" model="ir.rule">
            <field name="name">Personal Registrations</field>
            <field ref="event.model_event_registration" name="model_id"/>
            <field name="domain_force">[('partner_id.email','=',user.login)]</field>
            <field name="groups" eval="[(4, ref('group_event_portal'))]"/>
        </record>        
        
    </data>
</openerp>