<?xml version="1.0"?>
<openerp>
    <data>

        <!-- goal types -->
        <record model="gamification.goal.type" id="type_base_timezone">
            <field name="name">Set your Timezone</field>
            <field name="description">Configure your profile and specify your timezone</field>
            <field name="computation_mode">count</field>
            <field name="display_mode">checkbox</field>
            <field name="model_id" eval="ref('base.model_res_users')" />
            <field name="domain">[('id','=',user_id),('partner_id.tz', '!=', False)]</field>
            <field name="action_id" eval="ref('base.action_res_users_my')" />
            <field name="res_id_field">id</field>
        </record>

        <record model="gamification.goal.type" id="type_base_avatar">
            <field name="name">Set your Avatar</field>
            <field name="description">In your user perference</field>
            <field name="computation_mode">manually</field>
            <field name="display_mode">checkbox</field>
            <!-- problem : default avatar != False -> manually + check in write function -->
            <field name="action_id" eval="ref('base.action_res_users_my')" />
            <field name="res_id_field">id</field>
        </record>


        <record model="gamification.goal.type" id="type_base_company_data">
            <field name="name">Set your Company Data</field>
            <field name="description">Specify at least a website</field>
            <field name="computation_mode">count</field>
            <field name="display_mode">checkbox</field>
            <field name="model_id" eval="ref('base.model_res_company')" />
            <field name="domain">[('user_ids', 'in', user_id), ('name', '!=', 'Your Company')]</field>
            <field name="action_id" eval="ref('base.action_res_company_form')" />
            <field name="res_id_field">company_id.id</field>
        </record>

        <record model="gamification.goal.type" id="type_base_company_logo">
            <field name="name">Set your Company Logo</field>
            <field name="computation_mode">count</field>
            <field name="display_mode">checkbox</field>
            <field name="model_id" eval="ref('base.model_res_company')" />
            <field name="domain">[('user_ids', 'in', user_id),('logo', '!=', False)]</field>
            <field name="action_id" eval="ref('base.action_res_company_form')" />
            <field name="res_id_field">company_id.id</field>
        </record>

        <record model="gamification.goal.type" id="type_base_invite">
            <field name="name">Invite new Users</field>
            <field name="description">Create at least another user</field>
            <field name="display_mode">checkbox</field>
            <field name="computation_mode">count</field>
            <field name="model_id" eval="ref('base.model_res_users')" />
            <field name="domain">[('id', '!=', user_id)]</field>
        </record>



        <!-- plans -->
        <record model="gamification.goal.plan" id="plan_base_discover">
            <field name="name">Discover OpenERP</field>
            <field name="period">once</field>
            <field name="visibility_mode">progressbar</field>
            <field name="report_message_frequency">never</field>
            <field name="autojoin_group_id" eval="ref('base.group_user')" />
            <field name="state">inprogress</field>
            <field name="category">other</field>
        </record>

        <record model="gamification.goal.plan" id="plan_base_configure">
            <field name="name">Configure OpenERP</field>
            <field name="period">once</field>
            <field name="visibility_mode">progressbar</field>
            <field name="report_message_frequency">never</field>
            <field name="user_ids" eval="[(4, ref('base.user_root'))]" />
            <field name="state">inprogress</field>
            <field name="category">other</field>
        </record>

        <!-- planlines -->
        <record model="gamification.goal.planline" id="planline_base_discover1">
            <field name="type_id" eval="ref('type_base_timezone')" />
            <field name="target_goal">1</field>
            <field name="plan_id" eval="ref('plan_base_discover')" />
        </record>
        <record model="gamification.goal.planline" id="planline_base_discover2">
            <field name="type_id" eval="ref('type_base_avatar')" />
            <field name="target_goal">1</field>
            <field name="plan_id" eval="ref('plan_base_discover')" />
        </record>

        <record model="gamification.goal.planline" id="planline_base_admin2">
            <field name="type_id" eval="ref('type_base_company_logo')" />
            <field name="target_goal">1</field>
            <field name="plan_id" eval="ref('plan_base_configure')" />
        </record>
        <record model="gamification.goal.planline" id="planline_base_admin1">
            <field name="type_id" eval="ref('type_base_company_data')" />
            <field name="target_goal">1</field>
            <field name="plan_id" eval="ref('plan_base_configure')" />
        </record>
        <record model="gamification.goal.planline" id="planline_base_admin3">
            <field name="type_id" eval="ref('type_base_invite')" />
            <field name="target_goal">1</field>
            <field name="plan_id" eval="ref('plan_base_configure')" />
        </record>


    </data>
</openerp>
