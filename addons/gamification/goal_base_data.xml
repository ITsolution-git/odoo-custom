<?xml version="1.0"?>
<openerp>
    <data>

        <!-- goal types -->
        <record model="gamification.goal.type" id="type_base_timezone">
            <field name="name">Change Timezone</field>
            <field name="description">Configure your profile and specify your timezone</field>
            <field name="computation_mode">count</field>
            <field name="model_id" eval="ref('base.model_res_users')" />
            <field name="field_id" eval="ref('base.field_res_partner_tz')" />
            <field name="domain">[('id','=',user_id),('partner_id.tz', '!=', False)]</field>
            <field name="action_id">base.action_res_users_my</field>
        </record>

        <record model="gamification.goal.type" id="type_base_avatar">
            <field name="name">Change of avatar</field>
            <field name="description">In your user perference</field>
            <field name="computation_mode">manually</field>
            <field name="action_id">base.action_res_users_my</field>
            <!-- problem : default avatar != False
            <field name="computation_mode">count</field>
            <field name="model_id" eval="ref('base.model_res_users')" />
            <field name="field_id" eval="ref('base.field_res_partner_image')" />
            <field name="domain">[('id','=',user_id),('partner_id.image', '!=', False)]</field>
            -->
        </record>


        <!-- planlines -->
        <record model="gamification.goal.planline" id="planline_base_discover1">
            <field name="type_id" eval="ref('type_base_timezone')" />
            <field name="target_goal">1</field>
        </record>
        <record model="gamification.goal.planline" id="planline_base_discover2">
            <field name="type_id" eval="ref('type_base_avatar')" />
            <field name="target_goal">1</field>
        </record>


        <!-- plans -->
        <record model="gamification.goal.plan" id="plan_base_discover">
            <field name="name">Discover OpenERP</field>
            <field name="period">once</field>
            <field name="visibility_mode">progressbar</field>
            <field name="report_message_frequency">never</field>
            <field name="planline_ids" eval="[(4, ref('planline_base_discover1')),(4, ref('planline_base_discover2'))]"/>
            <field name="autojoin_group_id" eval="ref('base.group_user')" />
        </record>


        <!-- link planline -> plan -->
        <record model="gamification.goal.planline" id="planline_base_discover1">
            <field name="plan_id" eval="ref('plan_base_discover')" />
        </record>
        <record model="gamification.goal.planline" id="planline_base_discover2">
            <field name="plan_id" eval="ref('plan_base_discover')" />
        </record>

    </data>
</openerp>
