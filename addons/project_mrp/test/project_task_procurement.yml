-
  In order to test process to generate task automatic from procurement, I confirm sale order.
-
  !workflow {model: sale.order, action: order_confirm, ref: sale.order}
-
  Now I check that one task is created for my sale order, in the desired project
-
  !python {model: project.task}: |
    task_id = self.search(cr, uid, [('sale_line_id', '=', ref('line_services'))])
    task_rec = self.browse(cr, uid, task_id[0])
    assert task_id, 'Expected Task not found!'
    assert task_rec.planned_hours, 'Expected hour not found!'
    assert task_rec.date_deadline, 'Expected task deadline not found!'