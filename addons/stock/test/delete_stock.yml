-
  In order to test the delete stock, create a copy of picking.
-
  First, I create copy of picking.
-
  !python {model: stock.picking}: |
    context.update({'active_id':ref('stock.stock_picking_1')})
    pick = self.browse(cr, uid, ref('stock.stock_picking_1'))
    stock = self.pool.get('stock.move')
    move_ids = stock.search(cr, uid, [('picking_id','=',pick.name)])
    id1 = self.copy(cr, uid, ref('stock.stock_picking_1'), context)
    move_id = stock.copy(cr, uid, move_ids[0],context)
    context.update({'id1':id1,'move':move_id})
-
  Now, I delete a related moves of picking.
-
  !python {model: stock.move}: |
    move = context.get('move')
    self.unlink(cr, uid, [move])
-
  Now, directlly delete the picking.
-
  !python {model: stock.picking}: |
    id = context.get('id1')
    self.unlink(cr, uid, [id])

