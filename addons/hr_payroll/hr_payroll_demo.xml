<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Salary Rules -->

        <record id="hr_payslip_line_houserantallowance1" model="hr.salary.rule">
            <field name="amount_select">percentage</field>
            <field eval="40.0" name="amount_percentage"/>
            <field name="amount_percentage_base">contract.wage</field>
            <field name="code">HRA</field>
            <field name="type" ref="AL"/>
            <field name="category_id" ref="hr_payroll.HRA"/>
           <!-- <field name="function_id" ref="hr_payroll.structure_001"/>-->
            <field name="name">House Rent Allowance</field>
            <field name="sequence" eval="5"/>
        </record>

        <record id="hr_payslip_line_convanceallowance1" model="hr.salary.rule">
            <field name="amount_select">fix</field>
            <field eval="800.0" name="amount_fix"/>
            <field name="code">CA</field>
            <field name="type" ref="AL"/>
            <field name="category_id" ref="hr_payroll.CA"/>
            <!--<field name="function_id" ref="hr_payroll.structure_001"/>-->
            <field name="name">Conveyance Allowance</field>
            <field name="sequence" eval="10"/>
        </record>

        <record id="hr_payslip_line_professionaltax1" model="hr.salary.rule">
            <field name="amount_select">fix</field>
            <field eval="15" name="sequence"/>
            <field eval="-200.0" name="amount_fix"/>
            <field name="code">PT</field>
            <field name="type" ref="DED"/>
            <field name="category_id" ref="hr_payroll.PT"/>
         <!--   <field name="function_id" ref="hr_payroll.structure_001"/>-->
            <field name="name">Professional Tax</field>
        </record>

        <record id="hr_payslip_line_providentfund1" model="hr.salary.rule">
            <field name="amount_select">percentage</field>
            <field eval="20" name="sequence"/>
            <field eval="-12.5" name="amount_percentage"/>
            <field name="amount_percentage_base">contract.wage</field>
            <field name="code">PF</field>
            <field name="type" ref="DED"/>
            <field name="category_id" ref="hr_payroll.PF"/>
           <!-- <field name="function_id" ref="hr_payroll.structure_001"/>-->
            <field name="name">Provident Fund</field>
        </record>

        <!-- Salary Structure -->

         <record id="structure_001" model="hr.payroll.structure">
            <field name="code">ME</field>
            <field name="name">Marketing Executive</field>
            <field eval="[(6, 0, [ref('hr_payslip_line_houserantallowance1'), ref('hr_payslip_line_convanceallowance1'),ref('hr_payslip_line_professionaltax1'),ref('hr_payslip_line_providentfund1')])]" name="rule_ids"/>
            <field name="company_id" ref="base.main_company"/>
        </record>

        <!-- Employee -->
        <record id="hr_employee_bonamy0" model="hr.employee">
            <field eval="0" name="manager"/>
            <field eval="1.0" name="time_efficiency"/>
            <field name="company_id" ref="base.main_company"/>
            <field eval="1" name="active"/>
            <field name="name">Bonamy</field>
            <field name="resource_type">user</field>
        </record>

        <!-- Employee Contract -->
        <record id="hr_contract_firstcontract1" model="hr.contract">
            <field name="name">First Contract</field>
            <field name="type_id" ref="hr_contract.hr_contract_type_emp"/>
            <field name="date_start" eval="time.strftime('%Y-%m')+'-1'"/>
            <field name="date_end" eval="time.strftime('%Y')+'-12-31'"/>
            <field name="struct_id" ref="hr_payroll.structure_001"/>
            <field name="employee_id" ref="hr_employee_bonamy0"/>
            <field name="notes">This is a First Contract</field>
            <field eval="4000.0" name="wage"/>
            <field eval="5" name="working_days_per_week"/>
        </record>

    </data>
</openerp>
