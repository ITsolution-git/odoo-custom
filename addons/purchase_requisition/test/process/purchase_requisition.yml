-
  In order to test the purchase requisition module, I have to add a boolean field in product, 
  If I checked it then it's requisition create.
-
  I start by Checking the product, Product must have requisition field checked.
  and Product supply method is buy and the procure method is make to order.
-
  !record {model: product.product, id: product.product_product_hdd3}:
    supply_method: 'buy'
    purchase_requisition: True
-
  I create the procurement order.
-
  !python {model: make.procurement}: |
    import time
    product = self.pool.get('product.product').browse(cr, uid,[ref('product.product_product_hdd3')])
    #product_uom = product.product_uom
    fields = {
              'qty': 5.0,
              'product_id': product,
              #'uom_id': product_uom,
              #'warehouse_id': stock.warehouse0,
              'date_planned': time.strftime('%Y-%m-%d')
             }
    a = self.default_get(cr, uid, fields, context)
    req_id = self.make_procurement(cr, uid, [ref('product.product_product_hdd3')], context)
-
  I create the procurement order from the selected purchase order.
-
  !python {model: purchase.order}: |
    req_id = self.pool.get('procurement.order').action_po_assign(cr, uid, [ref('purchase.order_purchase6')], context)
    self.wkf_confirm_order(cr, uid, [req_id], context)
-
  I create the purchase requisition for the selected product.
-
  !python {model: purchase.requisition}: |   
    self.browse(cr, uid, [context.get('requisition_id')], context)
      
