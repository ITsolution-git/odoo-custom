<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

    <!-- Layout add nav and footer -->
    <template id="footer_custom" inherit_id="website.layout" name="Custom Footer">
        <xpath expr="//footer//div[@name='info']/ul" position="inside">
            <li><a href="/customers/">Customer References</a></li>
        </xpath>
    </template>

    <!-- Page --> 
    <template id="layout" name="Customer References Layout">
        <t t-call="website.layout">
            <t t-set="title">Customer References</t>
            <div id="wrap">
                <div class="oe_structure"/>
                <div class="container">
                    <div class="row">
                        <t t-raw="ref_content"/>
                    </div>
                </div>
                <div class="oe_structure"/>
            </div>
        </t>
    </template>

    <template id="index" name="Customer References">
        <t t-call="website_customer.layout">
            <t t-set="ref_content">
                <h1 class="col-md-12 text-center">
                    Customer References<br/>
                    <small>Trusted by millions worldwide</small>
                </h1>
                <div class="col-md-12" id="ref_content">
                    <div class='navbar'>
                        <div>
                            <t t-call="website.pager">
                               <t t-set="classname" t-value="'pull-left'"/>
                            </t>
                            <form action="/customers/" method="get" class="navbar-search pull-right pagination form-inline">
                                <div class="form-group"> 
                                    <input type="text" name="search" class="search-query form-control"
                                        placeholder="Search" t-att-value="post.get('search', '')"/>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div>
                        <div t-foreach="partner_ids" t-as="partner" class="media thumbnail" data-publish="">
                            <t t-call="website.publish_management"><t t-set="object" t-value="partner"/></t>
                            <a class="pull-left" t-attf-href="/customers/#{ partner.id }/">
                                <img class="media-object" t-att-src="partner.img('image_small')"/>
                            </a>
                            <div class="media-body" style="min-height: 64px;">
                                <a class="media-heading" t-attf-href="/customers/#{ partner.id }/"><span t-field="partner.parent_id"/> <span t-field="partner.name"/></a>
                                <div t-field="partner.website_short_description"/>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>

    <!-- Option: left column: World Map -->
    <template id="opt_country" inherit_id="website_customer.index" inherit_option_id="website_customer.index" name="Left World Map">
        <xpath expr="//div[@id='ref_content']" position="before">
            <div class="col-md-4">
                <ul class="nav nav-pills nav-stacked">
                    <li class="nav-header">World Map</li>
                    <iframe t-attf-src="/google_map/?width=320&amp;height=240&amp;partner_ids=#{ google_map_partner_ids }&amp;partner_url=/customers/"
                        style="width:320px; height:260px; border:0; padding:0; margin:0;"></iframe>
                </ul>
            </div>
        </xpath>
        <xpath expr="//div[@id='ref_content']" position="attributes">
            <attribute name="class">col-md-8</attribute>
        </xpath>
    </template>

    <template id="details" name="Customer Detail">
        <t t-call="website_customer.layout">
            <t t-set="ref_content">
                <t t-call="website_partner.partner_detail"/>
            </t>
        </t>
    </template>

 </data>
</openerp>
