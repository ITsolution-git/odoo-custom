-
 In order to test the PDF reports defined on a HR Holidays, we will print a  HR Holidays
-
  !python {model: hr.holidays}: |
    import netsvc, tools, os, time
    import datetime
    from mx.DateTime import *
    start = datetime.date.fromtimestamp(time.mktime(time.strptime(time.strftime('%Y-%m-%d'), "%Y-%m-%d")))
    start = DateTime(int(start.year), int(start.month), int(start.day))
    data_dict = {'model': 'ir.ui.menu', 'form': {'date_from': start.strftime('%Y-%m-%d'), 'depts' : [ref('hr.dep_sales')],'holiday_type' : 'Validated' }}
    (data, format) = netsvc.LocalService('report.holidays.summary').create(cr, uid, [], data_dict, {'active_ids': [ref('hr.employee2')]})
    if tools.config['test_report_directory']:
       file(os.path.join(tools.config['test_report_directory'], 'hr_holidays-summary_report.'+format), 'wb+').write(data)