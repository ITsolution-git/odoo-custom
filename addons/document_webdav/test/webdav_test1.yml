-
    In order to test the document_ftp functionality
-
    I open the HTTP port and perform an OPTIONS request to the server
-
    !python {model: ir.attachment}: |
        from document_webdav import test_davclient as te
        reload(te) # reload..
        dc = te.DAVClient()
        dc.gd_options()
        dc.get_creds(self, cr, uid)
        dc.gd_options(path=cr.dbname, expect={'DAV': ['1',]})
-
    I will test the propnames at the document root
-
    !python {model: ir.attachment}: |
        from document_webdav import test_davclient as te
        dc = te.DAVClient()
        dc.get_creds(self, cr, uid)
        dc.gd_propname(path=cr.dbname+'/Documents/')
-
    I will test the ETags of the document root
-
    !python {model: ir.attachment}: |
        from document_webdav import test_davclient as te
        dc = te.DAVClient()
        dc.get_creds(self, cr, uid)
        dc.gd_getetag(path=cr.dbname+'/Documents/')

-
    I will now ls -l the document root.
-
    !python {model: ir.attachment}: |
        from document_webdav import test_davclient as te
        dc = te.DAVClient()
        dc.get_creds(self, cr, uid)
        res = dc.gd_lsl(path=cr.dbname+'/Documents/')
        for lin in res:
            print "%(type)s\t%(uid)s\t%(gid)s\t%(size)s\t%(mtime)s\t%(name)s" % lin
