<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
  <record model="ir.actions.act_window" id="action_fleet_vehicle_log_fuel_graph">
      <field name="name">Fuel Costs by Month</field>
      <field name="res_model">fleet.vehicle.log.fuel</field>
      <field name="view_id" ref="fleet_vehicle_log_fuel_graph"></field>
      <field name="view_type">form</field>
      <field name="view_mode">tree</field>
    </record>

    <record model="ir.actions.act_window" id="action_fleet_vehicle_log_services_graph">
      <field name="name">Services Costs by Month</field>
      <field name="res_model">fleet.vehicle.log.services</field>
      <field name="view_id" ref="fleet_vehicle_log_services_graph" />
      <field name="view_type">form</field>
      <field name="view_mode">tree</field>
    </record>

    <record model="ir.actions.act_window" id="action_fleet_vehicle_log_contract_graph">
      <field name="name">Contracts Costs by Month</field>
      <field name="res_model">fleet.vehicle.log.contract</field>
      <field name="view_id" ref="fleet_vehicle_log_contract_graph"></field>
      <field name="view_type">form</field>
      <field name="view_mode">tree</field>
    </record>

    <record model="ir.actions.act_window" id="action_fleet_vehicle_costs_graph">
      <field name="name">Costs by Month</field>
      <field name="res_model">fleet.vehicle.cost</field>
      <field name="view_id" ref="fleet_vehicle_costs_graph"></field>
      <field name="view_type">form</field>
      <field name="view_mode">tree</field>
      <field name="domain">[('parent_id','=',False)]</field>
    </record>

    <record model="ir.actions.act_window" id="action_fleet_vehicle_kanban">
      <field name="name">Vehicles which need contracts renewal</field>
      <field name="res_model">fleet.vehicle</field>
      <field name="view_id" ref="fleet_vehicle_kanban"></field>
      <field name="view_type">form</field>
      <field name="view_mode">tree</field>
      <field name="domain">['|',('contract_renewal_due_soon','>',0),('contract_renewal_overdue','>',0)]</field>
      <field name="help" type="html">
        <p>
          Here are displayed vehicles for which one or more contracts need to be renewed. If you see this message, then there is no contracts to renew.
        </p>
      </field>
    </record>

    <record id="board_fleet_form" model="ir.ui.view">
        <field name="name">board.fleet.form</field>
        <field name="model">board.board</field>
        <field name="arch" type="xml">
            <form string="Human Resources Dashboard"  version="7.0">
                <board style="2-1">
                    <column>
                      <action string="Vehicles" name="%(fleet.action_fleet_vehicle_kanban)d" view_mode="kanban"/>
                      <action string="Costs by Month" name="%(fleet.action_fleet_vehicle_costs_graph)d" view_mode="graph,tree"/>
                    </column>
                    <column>
                      <action string="Fuel Costs" name="%(fleet.action_fleet_vehicle_log_fuel_graph)d" view_mode="graph,tree"/>
                      <action string="Services Costs" name="%(fleet.action_fleet_vehicle_log_services_graph)d" view_mode="graph,tree"/>
                      <action string="Contracts Costs" name="%(fleet.action_fleet_vehicle_log_contract_graph)d" view_mode="graph,tree"/>
                    </column>
                </board>
            </form>
        </field>
    </record>

    <record id="open_board_fleet" model="ir.actions.act_window">
        <field name="name">Dashboard</field>
        <field name="res_model">board.board</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="usage">menu</field>
        <field name="view_id" ref="board_fleet_form"/>
            <field name="help" type="html">
              <div class="oe_empty_custom_dashboard">
                  <p>
                    <b>Fleet dashboard is empty.</b>
                  </p><p>
                    To add your first report into this dashboard, go to any
                    menu, switch to list or graph view, and click <i>'Add to
                    Dashboard'</i> in the extended search options.
                  </p><p>
                    You can filter and group data before inserting into the
                    dashboard using the search options.
                  </p>
              </div>
            </field>
    </record>

    <menuitem name="Dashboard" parent="menu_root" id="fleet_dashboard" sequence="1"/>
    
    <menuitem id="menu_fleet_dashboard_in_module" 
              parent="fleet_dashboard" 
              action="open_board_fleet" 
              sequence="50"/>

</data>
</openerp>
