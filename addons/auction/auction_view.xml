<?xml version="1.0"?>
<openerp>
<data>
    <menuitem name="Auction Management" id="auction_menu_root" icon="terp-purchase" sequence="26"/>
    <menuitem name="Configuration" parent="auction_menu_root" id="auction_config_menu" sequence="7"/>
    <menuitem name="Tools Bar Codes" id="auction_outils_menu" parent="auction_menu_root" sequence="5" />
    <menuitem name="Deliveries Management" action="action_auction_taken" id="menu_wizard_emporte" parent="auction_outils_menu"/>
    
   <!--  Auction Management/Configuration/artist  -->
    
    <record model="ir.ui.view" id="view_auction_artist_tree">
        <field name="name">auction.artists.tree</field>
        <field name="model">auction.artists</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Artists">
            <field name="name"/>
                <field name="birth_death_dates"/>
                <field name="biography"/>
            </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="view_auction_artist_form">
        <field name="name">auction.artists.form</field>
        <field name="model">auction.artists</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Artists">
                <field colspan="4" name="name" select="1"/>
                <field colspan="4" name="pseudo" select="1"/>
                    <newline/>
                <field colspan="4" name="birth_death_dates"/>
                    <newline/>
                <field colspan="4" name="biography"/>
            </form>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_auction_artist">
        <field name="res_model">auction.artists</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_auction_artist_tree"/>
    </record>
    <menuitem name="Define Artists" parent="auction_config_menu" action="action_auction_artist" id="menu_auction_artist"/>

    
  <!--  Auction Management/Configuration/objectcategories  --> 
    
    <record model="ir.ui.view" id="view_auction_object_categories_tree">
        <field name="name">auction.lot.category.tree</field>
        <field name="model">auction.lot.category</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
           <tree string="Lot Category">
               <field name="name"/>
           </tree>
        </field>
    </record>
    <record model="ir.ui.view" id="view_auction_object_categories_form">
        <field name="name">auction.lot.category.form</field>
        <field name="model">auction.lot.category</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
           <form string="Lot Category">
               <field name="name" colspan="4" select="1"/>
               <newline/>
               <field name="aie_categ" colspan="4"/>
               <field name="priority"/>
               <newline/>
               <field name="active"/>
           </form>
        </field>
    </record>
    
    <record model="ir.actions.act_window" id="action_auction_object_categories">
        <field name="res_model">auction.lot.category</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="view_auction_object_categories_tree"/>
    </record>
    
    <menuitem name="Object Categories" parent="auction_config_menu" action="action_auction_object_categories" id="menu_auction_object_cat"/>
    
   <!--  Auction Management/Auction Dates/New Auction Dates  -->
    
    <record model="ir.ui.view" id="view_auction_dates_tree">
        <field name="name">Auction dates</field>
        <field name="model">auction.dates</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Auction Dates">
               <field name="auction1" string="Beginning of the auction"/>
               <field name="auction2" string="End of auction"/>
               <field name="name" string="Names"/>
               <field name="state"/>
               <button string="Create Invoices" help="Create Invoices" name="close" states="draft" type="object" icon="gtk-yes"/>
            </tree>
        </field>
    </record>
    
    <record model="ir.ui.view" id="view_auction_dates_form">
        <field name="name">Auction dates</field>
        <field name="model">auction.dates</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Auctions">
                <field name="name" colspan="2" select="1"/>
                <notebook colspan="4">
                    <page string="Auction Dates">
                        <separator string="Exposition Dates" colspan="4"/>
                        <field name="expo1"/>
                        <field name="expo2"/>
                        <separator string="Auction Dates" colspan="4"/>
                        <field name="auction1" select="1"/>
                        <field name="auction2" select="1"/>
                        <label string="" colspan="4"/>
                        <field name="state"/>
                        <button name="close" states="draft" string="Create Invoices" type="object" colspan="2" icon="gtk-yes"/>
                    </page>
                    <page string="Accounting" >
                        <separator string="Accounting" colspan="4"/>
                        <field name="acc_expense"/>
                        <field name="acc_income"/>
                        <separator string="Analytic" colspan="4"/>
                        <field name="journal_id"/>
                        <field name="journal_seller_id"/>
                        <field name="account_analytic_id"/>
                    </page>  
                    <page string="Commissions">
                        <group col="4" colspan="4">
                            <group col="2" colspan="4">
                               <separator string="Buyer Commissions" colspan="4"/>
                                <field name="buyer_costs" domain="[('parent_id','=',False),('domain','=','auction'),('type_tax_use','&lt;&gt;','sale')]" nolabel="1" colspan="4"/>
                             </group>
                             <group col="2" colspan="4">
                                 <separator string="Seller Commissions" colspan="4"/>
                                 <field name="seller_costs" domain="[('parent_id','=',False),('domain','=','auction'),('type_tax_use','&lt;&gt;','purchase')]" nolabel="1" colspan="4"/>
                             </group>
                        </group>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <!-- Auction Dates Search view -->

    <record id="view_auction_dates_filter" model="ir.ui.view">
        <field name="name">Auction Dates search</field>
        <field name="model">auction.dates</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Search Next Auction Dates">
                <filter icon="terp-document-new"
                    string="Draft"  help="Draft Auction"
                    name="draft"
                    domain="[('state','=', 'draft')]"/>
                <filter icon="terp-check"
                    string="Invoiced"  help="Invoiced Auction"
                    domain="[('state','=','closed')]"/>
                <separator orientation="vertical"/>
                <field name="name" string="Auction"/>
                <field name="state"/>
                <field name="auction1" string="First Auction Date"/>
                <field name="auction2" string="Last Auction Date"/>
                <newline/>
                <group expand="0" string="Group By..." colspan="16">
                    <filter string="State" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
                    <separator orientation="vertical" />
                    <filter string="Auction Date"
                        icon="terp-go-month"
                        help="Auction Date" domain="[]"
                        context="{'group_by':'auction1'}" />
                </group>
            </search>
        </field>
    </record>

    <!-- Auction Dates Calendar View -->

    <record model="ir.ui.view" id="auction_dates_calendar_view">
        <field name="name">Auction Dates Calendar</field>
        <field name="model">auction.dates</field>
        <field name="type">calendar</field>
        <field name="priority" eval="2"/>
        <field name="arch" type="xml">
            <calendar string="Next Auction"
                date_start="auction1" color="name">
                <field name="name" />
                <field name="auction1"/>
            </calendar>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_auction_dates_next">
        <field name="name">Next Auctions Dates</field>
        <field name="res_model">auction.dates</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>  
        <field name="search_view_id" ref="view_auction_dates_filter"/>
        <field name="context">{"search_default_draft": "1"}</field>
    </record>

    <act_window name="Open lots"
        domain="[('auction_id', '=', active_id)]"
        res_model="auction.lots"
        src_model="auction.dates"
        id="act_auction_lot_line_open"/>


    <menuitem name="Auction Dates" parent="auction_menu_root" id="auction_date_menu" sequence="1"/>
    <menuitem name="Next Auction Dates" parent="auction_date_menu" id="menu_auction_dates_next1" action="action_auction_dates_next"/>
    
    
  <!--  Auction Management/Auction Dates/Reporting  -->
    
    <!-- tree1 form1 for NEW object in the deposit border -->
    
<!--    <record model="ir.ui.view" id="v5">-->
<!--        <field name="name">Auction lots</field>-->
<!--        <field name="model">auction.lots</field>-->
<!--        <field name="type">tree</field>-->
<!--        <field name="arch" type="xml">-->
<!--                <tree string="Auction Objects">-->
<!--                    <field name="lot_num"/>-->
<!--                    <field name="obj_num"/>-->
<!--                    <field name="name"/>-->
<!--                    <field name="auction_id"/>-->
<!--                    <field name="vnd_lim"/>-->
<!--                    <field name="lot_est1"/>-->
<!--                    <field name="lot_est2"/>-->
<!--                    <field name="buyer_price"/>-->
<!--                    <field name="is_ok"/>-->
<!--                    <field name="seller_price"/>-->
<!--                    <field name="gross_revenue"/>-->
<!--                    <field name="net_revenue"/>-->
<!--                    <field name="gross_margin"/>-->
<!--                    <field name="net_margin"/>-->
<!--                    <field name="costs"/>-->
<!--                    <field name="obj_price_l"/>-->
<!--                </tree>-->
<!--        </field>-->
<!--    </record>-->
<!--    -->
<!--    <record model="ir.ui.view" id="auction_lot_simplified">-->
<!--        <field name="name">Auction lots</field>-->
<!--        <field name="model">auction.lots</field>-->
<!--        <field name="type">form</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <form string="All Objects">-->
<!--                <field name="auction_id"/>-->
<!--                <field name="obj_num"/>-->
<!--                <field name="bord_vnd_id"/>-->
<!--                <field name="lot_num"/>-->
<!--                <field name="buyer_price"/>-->
<!--                <field name="seller_price"/>-->
<!--                <field name="gross_revenue"/>-->
<!--                <field name="net_revenue"/>-->
<!--                <field name="gross_margin"/>-->
<!--                <field name="net_margin"/>-->
<!--                <field name="costs"/>-->
<!--                <newline/>-->
<!--                <field name="name"/>-->
<!--                <field name="lot_type" select="1"/>-->
<!--                <field name="name2"/>-->
<!--                <newline/>-->
<!--                <field name="artist_id"/>-->
<!--                <field name="artist2_id"/>-->
<!--                <field name="obj_desc" colspan="4"/>-->
<!--                <field name="vnd_lim"/>-->
<!--                <field name="vnd_lim_net"/>-->
<!--                <field name="lot_est1"/>-->
<!--                <field name="author_right" domain="[('domain','=','sabam'),('parent_id','=',False),('type_tax_use','&lt;&gt;','sale')]"/>-->
<!--                <field name="lot_est2"/>-->
<!--                <field name="product_id"/>-->
<!--                <field name="state" readonly="1"/>-->
<!--            </form>-->
<!--        </field>-->
<!--    </record>-->


    <!-- tree2 form2 for Catalog, All object and Unclassified objects -->
    <record model="ir.ui.view" id="v7">
        <field name="name">Auction lots</field>
        <field name="model">auction.lots</field>
        <field name="type">tree</field>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <tree colors="blue:state in ('unsold','draft');black:state in ('sold','taken_away');gray:state in ('paid') " string="All Objects">
                <field name="obj_num" string="Ref" select="1"/>
                <field name="name" select="1"/>
                <field name="ach_uid"/>
                <field name="ach_login"/>
                <field name="obj_price" sum="Total Adj."/>
                <field name="state" select="1"/>
                <field name="obj_comm"/>
                <field name="bord_vnd_id"/>
                <field name="lot_num"/>
                <field name="lot_est1"/>
                <field name="lot_est2"/>
                <field name="lot_type" select="1"/>
                <field name="auction_id"/>
                <button name="button_bought" string="Sold" states="draft" type="object" icon="gtk-jump-to"/>
                <button name="button_not_bought" string="Not sold" states="draft" type="object" icon="gtk-undo"/>
                <button name="button_taken_away" string="Taken away" states="sold" type="object" icon="gtk-goto-last"/>
                <button name="button_unpaid" string="Set to draft" states="sold,unsold,paid" type="object" icon="gtk-convert"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="auction_lot_detailed">
        <field name="name">Auction lots</field>
        <field name="model">auction.lots</field>
        <field name="type">form</field>
        <field name="priority" eval="8"/>
        <field name="arch" type="xml">
            <form string="All Objects">
              <group colspan="4" col="4">
                  <group colspan="2" col="4">  
                    <field colspan="2" name="name"/>
                    <field name="obj_num" select="1"/>
                    <field name="lot_type"/>
                    <field name="auction_id" select="1"/>
                    <field name="artist_id"/>
                    <field name="artist2_id"/>
                    <field name="lot_est1"/>
                    <field name="lot_est2"/>
                    <field name="product_id"/>
                    <field name="lot_local"/>
                    <field name="bord_vnd_id" select="1"/>
                    <field name="lot_num"/>
                    <newline/>
                   </group> 
                  <group colspan="2" col="1">
                    <field name="image" widget='image' nolabel="1"/>
                  </group>
              </group>
              <notebook colspan="4">
                  <page string="Buyer">
                      <separator string="Buyer information" colspan="4"/>
                      <group colspan="4" col="6">
                          <field name="ach_uid" />
                          <field name="ach_login" select="1" />
                          <field name="author_right" domain="[('domain','=','sabam'),('parent_id','=',False),('type_tax_use','&lt;&gt;','sale')]"/>
                          <field name="obj_price"/>
                          <field name="obj_ret"/>
                          <field name="obj_comm"/>
                          <field name="buyer_price"/>
                          <field name="seller_price"/>
                          <field name="ach_emp"/>
<!--                          <button name="auction_lots_enable" string="Unmark" type="object" icon="gtk-execute" attrs="{'invisible':[('ach_emp','=', False)]}"/>-->
                          <field name="gross_revenue"/>
                          <field name="net_revenue"/>
                          <field name="gross_margin"/>
                          <field name="net_margin"/>
                          <field name="costs"/>
                          <newline/>
                          <field name="ach_inv_id"/>
                          <field name="paid_ach"/>
                          <field name="is_ok"/>
                       </group>
                      <field name="statement_id" domain="[('state','=','draft')]" colspan="4" nolabel="1"
                          widget="one2many_list">
                          <tree string="Payment's history">
                              <field name="statement_id"/>
                              <field name="amount"/>
                              <field name="date"/>
                          </tree>
                          <form string="Bank Statement">
                              <field name="name"/>
                              <field name="sequence"/>
                              <field name="date"/>
                              <field name="partner_id"/>
                              <field name="account_id"/>
                              <field name="type"/>
                              <field name="statement_id"/>
                              <field name="reconcile_id"/>
                              <field name="amount"/>
                              <field name="reconcile_amount"/>
                          </form>
                      </field>
                      <field name="state" colspan="1"/>
                      <group col="8" colspan="2">
                          <button name="button_bought" string="Sold" states="draft" type="object" icon="gtk-jump-to"/>
                          <button name="button_not_bought" string="Not sold" states="draft" type="object" icon="gtk-undo"/>
                          <button name="button_taken_away" string="Taken away" states="sold" type="object" icon="gtk-goto-last"/>
                          <button name="button_unpaid" string="Set to draft" states="sold,unsold,paid" type="object" icon="gtk-convert"/>
                      </group> 
                   </page>
                   <page string="Seller">
                       <separator string="Seller information" colspan="4"/>
                       <field name="vnd_lim"/>
                       <field name="vnd_lim_net"/>
                       <field name="sel_inv_id"/>
                       <field name="paid_vnd"/>
                       <field name="history_ids" colspan="4" readonly="1" nolabel="1">
                           <tree string="History">
                               <field name="name"/>
                               <field name="lot_id"/>
                               <field name="auction_id"/>
                               <field name="price"/>
                           </tree>
                       </field>
                    </page>
                    <page string="Bids">
                        <field name="bid_lines" colspan="4" nolabel="1" editable="top">
                            <tree string="Bids"  editable="top">
                                <field name="bid_id"/>
                                <field name="price"/>
                                <field name="call"/>
                            </tree>
                            <form string="Bids" >
                                <field name="bid_id"/>
                                <field name="lot_id" domain="[('auction_id','=',parent['auction_id'])]" on_change="onchange_name(lot_id)"/>
                                <field name="price"/>
                                <field name="call"/>
                            </form>
                        </field>
                    </page>
                    <page string="Note">
                        <field name="obj_desc" colspan="4" nolabel="1"/>
                    </page>
                </notebook>
           </form>
        </field>
    </record>
    
    <record id="view_auction_lots_filter" model="ir.ui.view">
         <field name="name">Auction Lots search</field>
         <field name="model">auction.lots</field>
         <field name="type">search</field>
         <field name="arch" type="xml">
             <search string="Search Auction Lots">
                 <filter icon="terp-document-new"
                     string="Draft"  help="New Object"
                     name="draft"
                     domain="[('state','=', 'draft')]"/>
                 <filter icon="terp-dolar_ok!"
                     string="Sold"  help="Buy object"
                     domain="[('state','=','sold')]"/>
                 <separator orientation="vertical"/>
                 <field name="name" string="Object Name"/>
                 <field name="lot_type"/>
                 <field name="state"/>
                 <newline/>
                 <group expand="0" string="Group By..." colspan="16">
                     <filter string="Buyer"
                         icon="terp-personal"
                         help="Buyer" domain="[]"
                         context="{'group_by':'ach_uid'}"/>
                     <separator orientation="vertical" />
                     <filter string="Auction"
                         icon="terp-purchase"
                         help="Auction" domain="[]"
                         context="{'group_by':'auction_id'}"/>
                     <filter string="Inventory"
                         icon="terp-purchase"
                         help="Depositer Inventory" domain="[]"
                         context="{'group_by':'bord_vnd_id'}"/>
                     <separator orientation="vertical" />
                     <filter string="State" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
                     <filter string="Type"
                         icon="terp-stock_symbol-selection"
                         help="Object Category" domain="[]"
                         context="{'group_by':'lot_type'}"/>
                 </group>
             </search>
        </field>
    </record>
  
  <!-- Graph view for Auction Lots -->  
    
    <record model="ir.ui.view" id="auction_lot_graph">
        <field name="name">Auction lots</field>
        <field name="model">auction.lots</field>
        <field name="type">graph</field>
        <field name="arch" type="xml">
            <graph string="Lots" type="bar">
                <field name="lot_type"/>
                <field name="lot_est1" operator="+"/>
                <field name="lot_est2" operator="+"/>
                <field name="obj_price" operator="+"/>
            </graph>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_all_objects">
        <field name="res_model">auction.lots</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,graph</field>
        <field name="search_view_id" ref="view_auction_lots_filter"/>
        <field name="context">{"search_default_draft": "1"}</field>
    </record>

    <menuitem name="Objects" parent="auction_menu_root" id="auction_objects_menu" sequence="2"/>
    <menuitem name="All objects" action="action_all_objects" parent="auction_objects_menu" id="auction_all_objects_menu"/>

    <!-- form3: simplified form meant for during the sale (action button in dates) -->
    <!--form par defaut-->
    
<!--    <record model="ir.ui.view" id="auction_lots_sell_form">-->
<!--        <field name="name">auction.lots.form3</field>-->
<!--        <field name="model">auction.lots</field>-->
<!--        <field name="type">form</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <form string="Auction">-->
<!--                <notebook>-->
<!--                <page string="Auction">-->
<!--                    <field name="obj_num" readonly="1" select="1"/>-->
<!--                    <field name="auction_id"/>-->
<!--                    <field name="obj_price" select="1"/>-->
<!--                    <field name="ach_login" select="1" comparator="="/>-->
<!--                    <field name="ach_emp"/>-->
<!--                    <field name="obj_comm"/>-->
<!--                    <field name="obj_ret" on_change="onchange_obj_ret(obj_ret)"/>-->
<!--                    <newline/>-->
<!--                    <field name="name" readonly="1" select="1"/>-->
<!--                    <field name="name2" readonly="2" select="1"/>-->
<!--                    <field name="artist_id" readonly="1"/>-->
<!--                    <field name="author_right" domain="[('domain','=','sabam'),('parent_id','=',False),('type_tax_use','&lt;&gt;','sale')]"/>-->
<!--                    <newline/>-->
<!--                    <field name="buyer_price"/>-->
<!--                    <field name="is_ok" select="1"/>-->
<!--                    <field name="obj_desc" readonly="1" colspan="4"/>-->
<!--                    <field name="lot_est1" readonly="1"/>-->
<!--                    <field name="lot_est2" readonly="1"/>-->
<!--                    <field name="vnd_lim" readonly="1"/>-->
<!--                    <field name="vnd_lim_net"/>-->
<!--                    <field name="bid_lines" colspan="4" readonly="1">-->
<!--                        <tree string="Bids">-->
<!--                            <field name="name"/>-->
<!--                            <field name="bid_id"/>-->
<!--                            <field name="price"/>-->
<!--                            <field name="call"/>-->
<!--                        </tree>-->
<!--                    </field>-->
<!--                    <field name="state" readonly="1"/>-->
<!--                    <group colspan="2" col="4">-->
<!--                        <button name="button_bought" string="Sold" states="draft" type="object" icon="gtk-jump-to" />-->
<!--                        <button name="button_not_bought" string="Not sold" states="draft" type="object" icon="gtk-undo"/>-->
<!--                        <button name="button_draft" string="Set to draft" states="sold,unsold" type="object" icon="gtk-convert"/>-->
<!--                        <button name="button_taken_away" string="Taken away" states="sold" type="object" icon="gtk-goto-last"/>-->
<!--                    </group>-->
<!--                </page>-->
<!--                <page string="Statements">-->
<!--                    <field name="statement_id" domain="[('state','=','draft')]" colspan="4" nolabel="1"-->
<!--                        widget="one2many_list">-->
<!--                        <tree string="Payment's history" editable="top">-->
<!--                            <field name="name"/>-->
<!--                            <field name="amount"/>-->
<!--                            <field name="date"/>-->
<!--                        </tree>-->
<!--                    </field>-->
<!--                </page>-->
<!--            </notebook>-->
<!--            </form>-->
<!--        </field>-->
<!--    </record>-->


    <record model="ir.ui.view" id="view_deposit_border_form">
        <field name="name">auction.deposit.form</field>
        <field name="model">auction.deposit</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Deposit Border Form">
               <field name="name" select="1"/>
               <field name="date_dep" select="1"/>
               <field name="partner_id" select="1"/>
               <field name="method"/>
               <newline/>
               <field name="tax_id" domain="[('domain','=','auction'),('parent_id','=',False),('type_tax_use','&lt;&gt;','purchase')]"/>
               <field name="transfer"/>
               <newline/>
               <notebook colspan="4">
                <page string="General Information">
	               <field name="lot_id" colspan="4" mode="tree,graph" nolabel="1">
	                    <tree string="Objects">
	                       <field name="lot_num"/>
	                       <field name="obj_num"/>
	                       <field name="auction_id"/>
	                       <field name="name"/>
	                       <field name="obj_price"/>
	                       <field name="vnd_lim"/>
	                       <field name="lot_est1"/>
	                       <field name="lot_est2"/>
	                    </tree>
	                    <form string="Objects">
	                        <notebook colspan="4">
	                            <page string="Description">
	                              <field name="auction_id" colspan="4"/>
	                              <field name="lot_num"/>
	                              <field name="obj_num"/>
	                              <newline/>
	                              <field name="name"/>
	                              <field name="lot_type" select="1"/>
	                              <field name="name2"/>
	                              <newline/>
	                              <field name="artist_id"/>
	                              <field name="artist2_id"/>
	                              <separator string="Objects Description" colspan="4"/>
	                              <field name="obj_desc" colspan="4" nolabel="1"/>
	                              <field name="vnd_lim"/>
	                              <field name="vnd_lim_net"/>
	                              <field name="lot_est1"/>
	                              <field name="lot_est2"/>
	                              <field name="author_right" domain="[('domain','=','sabam'),('parent_id','=',False),('type_tax_use','&lt;&gt;','sale')]"/>
	                              <field name="product_id" domain="[('sale_ok','=',True)]"/>
	                              <field name="state" readonly="1" colspan="4"/>
	                            </page>
	                            <page string="Photos">
	                                <field name="image" colspan="4" widget="image"/>
	                            </page>
	                        </notebook>
	                    </form>
	               </field>
                </page>
	            <page string="Extra Costs">  
	               <field name="specific_cost_ids" widget="one2many_list" nolabel="1" colspan="4">
	                  <tree string="Deposit Costs" editable="top">
	                     <field name="name"/>
	                     <field name="amount"/>
	                     <field name="account" domain="[('type','=','income')]"/>
	                  </tree>
	                  <form string="Deposit Costs">
	                     <field name="name"/>
	                     <field name="amount"/>
	                     <field name="account"/>
	                  </form>
	               </field>
                </page>
               </notebook> 	               
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_deposit_border_tree2">
        <field name="name">Deposit border</field>
        <field name="model">auction.deposit</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="">
                <field name="name"/>
                <field name="partner_id"/>
                <field name="date_dep"/>
                <field name="method"/>
                <field name="tax_id"/>
                <field name="info"/>
            </tree>
        </field>
    </record>
    
    <record id="view_deposit_border_filter" model="ir.ui.view">
         <field name="name">Deposit border</field>
         <field name="model">auction.deposit</field>
         <field name="type">search</field>
         <field name="arch" type="xml">
             <search string="Search Auction deposit">
                 <field name="name"/>
                 <field name="partner_id"/>
                 <field name="method"/>
                 <field name="date_dep"/>
                 <newline/>
                 <group expand="0" string="Group By..." colspan="16">
                     <filter string="Seller"
                         icon="terp-personal"
                         help="Seller" domain="[]"
                         context="{'group_by':'partner_id'}"/>
                     <separator orientation="vertical" />
                     <filter string="Withdrawned method"
                         icon="terp-purchase"
                         help="Withdrawned method" domain="[]"
                         context="{'group_by':'method'}"/>
                    <separator orientation="vertical" />
                    <filter string="Deposit Date"
                         icon="terp-go-month"
                         help="Deposit Date" domain="[]"
                         context="{'group_by':'date_dep'}"/>                                             
                 </group>
             </search>
        </field>
    </record>

    <!-- Auction Deposit Calendar View -->

    <record model="ir.ui.view" id="auction_deposit_calendar_view">
        <field name="name">Deposit Border Calendar</field>
        <field name="model">auction.deposit</field>
        <field name="type">calendar</field>
        <field name="arch" type="xml">
            <calendar string="Deposit Border"
                date_start="date_dep" color="create_uid">
                <field name="partner_id" />
                <field name="date_dep"/>
            </calendar>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_deposit_border">
        <field name="name">Deposit border</field>
        <field name="res_model">auction.deposit</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="view_deposit_border_tree2"/>
        <field name="search_view_id" ref="view_deposit_border_filter"/>
    </record>

    <menuitem name="Sellers" id="auction_seller_menu" parent="auction_menu_root" sequence="3"/>
    <menuitem name="Deposit border" parent="auction_seller_menu" action="action_deposit_border" id="menu_auction_deposit_border"/>

    <!-- Bids Lines View -->
    
    <record model="ir.ui.view" id="view_bids_tree">
        <field name="name">auction.bid_line.tree1</field>
        <field name="model">auction.bid_line</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Bids">
                <field name="bid_id"/>
            <!--    <field name="lot_id"/>-->
                <field name="price"/>
                <field name="call"/>
                <field name="auction"/>
            </tree>
        </field>
    </record>
    
    <record model="ir.ui.view" id="view_bids_form">
        <field name="name">auction.bid_line.form1</field>
        <field name="model">auction.bid_line</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Bids">
                <field name="bid_id" select="1"/>
                <field name="lot_id" domain="[('auction_id','=',parent['auction_id'])]" on_change="onchange_name(lot_id)" colspan="4"/>
                <field name="call" colspan="4" select="1"/>
                <field name="price"/>
                <!--field name="auction"/-->
            </form>
        </field>
    </record>

<!-- BidS View -->

    <record model="ir.ui.view" id="v19">
        <field name="name">auction.bid.form</field>
        <field name="model">auction.bid</field>
        <field name="arch" type="xml">
            <form string="Bids">
                <field name="name" select="1"/>
                 <field name="auction_id" select="1"/>
                <newline/>
                <field name="partner_id" select="1" on_change="onchange_contact(partner_id)"/>
                <field  name="contact_tel"/>
                <field name="bid_lines" colspan="4" nolabel="1">
                    <tree string="Bids Lines" editable="bottom">
                        <field name="lot_id" domain="[('auction_id','=',parent.auction_id)]"/>
                        <field name="price"/>
                        <field name="call"/>
                    </tree>
                    <form string="Bids Lines" editable="top">
                        <field name="lot_id" domain="[('auction_id','=',parent.auction_id)]"/>
                        <field name="price"/>
                        <field name="call"/>
                    </form>
                </field>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_auction_bid_tree">
        <field name="name">auction.bid.tree</field>
        <field name="model">auction.bid</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Bids">
                <field name="name"/>
                <field name="auction_id"/>
                <field name="partner_id"/>
                <field name="contact_tel"/>
            </tree>
        </field>
    </record>


    <record id="view_auction_bid_filter" model="ir.ui.view">
         <field name="name">Auction Bid</field>
         <field name="model">auction.bid</field>
         <field name="type">search</field>
         <field name="arch" type="xml">
             <search string="Search Auction Bid">
                 <field name="name"/>
                 <field name="auction_id"/>
                 <field name="partner_id"/>
                 <field name="contact_tel"/>
                 <newline/>
                 <group expand="0" string="Group By..." colspan="16">
                     <filter string="Buyer"
                         icon="terp-personal"
                         help="Buyer" domain="[]"
                         context="{'group_by':'partner_id'}"/>
                     <separator orientation="vertical" />
                     <filter string="Auction"
                         icon="terp-purchase"
                         help="Auction" domain="[]"
                         context="{'group_by':'auction_id'}"/>
                 </group>
             </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_bid_open">
        <field name="res_model">auction.bid</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Buyers" id="auction_buyers_menu" parent="auction_menu_root" sequence="4"/>
    <menuitem name="Bids" parent="auction_buyers_menu" action="action_bid_open" id="menu_action_bid_open"/>
    
    <menuitem name="Reporting" id="auction_report_menu" parent="auction_menu_root" sequence="6"/>

    <act_window name="Bordereau de dépôt"
        domain="[('partner_id', '=', active_id)]"
        res_model="auction.deposit"
        src_model="res.partner"
        id="act_auction_lot_open_deposit"/>

</data>
</openerp> 
 