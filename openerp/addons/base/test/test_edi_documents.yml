-
  I create partner
-
  !record {model: res.partner, id: res_partner_test33}:
    name: Ivan
    title: base.res_partner_title_sir
    website: www.openerp.com
    address:
      - type: default
        name: Davidson
        street: M.G. Road
        zip: 354562
        city: Alhabad
        phone: +91 985764653
    supplier: False
    customer: True
    company_id: base.main_company
    
-
    I am creating one Document to be attached in partner ".
-
    !record {model: 'ir.attachment', id: document_4}:
        name : "My partner document"
        res_model : res.partner
        type : binary

-
    I attach a pdf file in "My partner document"
-
    !python {model: 'ir.attachment'}: |
        import addons
        import base64
        pdf_file = open(addons.get_module_resource('base','test', 'partner.pdf'))
        self.write(cr, uid, [ref("document_4")], {'res_id':ref("res_partner_test33"), 'datas_fname': 'partner.pdf', 'datas' : base64.encodestring(pdf_file.read())}, context)
      
-
  I am Tesing of EDI functionality. so first export partner and than import it again.
-      

  !python {model: ir.edi.document}: |
      partner_obj = self.pool.get('res.partner')
      partners = [partner_obj.browse(cr, uid, ref("res_partner_test33"))]
      tokens = self.export_edi(cr, uid, partners)
      assert tokens, 'Token is not generated.'
      document = self.get_document(cr, uid, tokens[0], context=context)
      a = self.import_edi(cr, uid, edi_document = document)

